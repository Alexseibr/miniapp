# –ú–ï–ì–ê–ü–†–û–ú–¢–´ –î–õ–Ø KETMAR MARKET: ‚Äú–ú–æ–π –º–∞–≥–∞–∑–∏–Ω‚Äù + –≤–∏—Ç—Ä–∏–Ω–∞ + —è—Ä–º–∞—Ä–∫–∏ + –∞–Ω–∞–ª–∏—Ç–∏–∫–∞

–ù–∏–∂–µ —Ç—Ä–∏ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö –º–µ–≥–∞–ø—Ä–æ–º—Ç–∞, –≥–æ—Ç–æ–≤—ã—Ö –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –≤ Replit/Codex –ø–æ –æ—á–µ—Ä–µ–¥–∏.

---

## üü¶ –ú–ï–ì–ê–ü–†–û–ú–¢ ‚Ññ1 ‚Äî BACKEND API
–¢—ã ‚Äî **senior backend developer** (Node.js + TypeScript + Express/Fastify + MongoDB/Postgres) –≤ –ø—Ä–æ–µ–∫—Ç–µ **KETMAR Market**. –ù—É–∂–Ω–æ —Å–ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –∏ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å backend API –¥–ª—è –º–æ–¥—É–ª–µ–π:

- ‚Äú–ú–æ–π –º–∞–≥–∞–∑–∏–Ω‚Äù (Shop + –∫–∞–±–∏–Ω–µ—Ç)
- –ö–∞—Ä—Ç–æ—á–∫–∏ —Ç–æ–≤–∞—Ä–æ–≤ (ProductTemplate)
- –ü—É–±–ª–∏–∫–∞—Ü–∏–∏ (Listing)
- –ü—É–±–ª–∏—á–Ω–∞—è –≤–∏—Ç—Ä–∏–Ω–∞ –º–∞–≥–∞–∑–∏–Ω–∞ (public shop page)
- –Ø—Ä–º–∞—Ä–∫–∏ (Fair)
- –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ (events + –æ—Ç—á—ë—Ç—ã)
- –ê–Ω—Ç–∏—Ñ—Ä–æ–¥ –∏ –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è

–§—Ä–æ–Ω—Ç (MiniApp/WebView) —É–∂–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —ç—Ç–∏ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã.

### 1. –û–±—â–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è
- –í–µ–∑–¥–µ TypeScript (—Ç–∏–ø–∏–∑–∞—Ü–∏—è –º–æ–¥–µ–ª–µ–π –∏ —Å–µ—Ä–≤–∏—Å–æ–≤).
- –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞ –ø–æ –º–æ–¥—É–ª—è–º: `/modules/shops`, `/modules/productTemplates`, `/modules/listings`, `/modules/fairs`, `/modules/analytics`, `/modules/publicShop`, `/modules/auth` (–ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â—É—é Telegram/phone auth).
- –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è: –≤—Å–µ –∫–∞–±–∏–Ω–µ—Ç–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ ‚Äî —Ç–æ–ª—å–∫–æ –¥–ª—è –∑–∞–ª–æ–≥–∏–Ω–µ–Ω–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è; –¥–ª—è –º–Ω–æ–≥–∏—Ö —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤ –ø—Ä–æ–≤–µ—Ä—è–µ–º `shop.ownerUserId === currentUser.id`.
- –ü—É–±–ª–∏—á–Ω—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã (–≤–∏—Ç—Ä–∏–Ω–∞, –ø—Ä–æ—Å–º–æ—Ç—Ä –æ–±—ä—è–≤–ª–µ–Ω–∏—è, —Å–æ–±—ã—Ç–∏—è) –¥–æ—Å—Ç—É–ø–Ω—ã –±–µ–∑ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏, `userId` –æ–ø—Ü–∏–æ–Ω–∞–ª–µ–Ω.

### 2. API –¥–ª—è –º–∞–≥–∞–∑–∏–Ω–æ–≤ (Shop)
**–ú–æ–¥–µ–ª—å**: –∫–∞–∫ –≤ –º–µ–≥–∞–ø—Ä–æ–º–µ (name, description, slug, logo, location, status, isVerified, –∏ —Ç.–¥.).

**–°–æ–∑–¥–∞–Ω–∏–µ** ‚Äî `POST /shops`
- Body: `name`, `description`, `logoUrl?`, `instagram?`, `phone?`, `telegramUsername?`, `unp?`, `ownerFullName?`, `location { lat, lng }` (–æ—Å—Ç–∞–ª—å–Ω–æ–µ –¥–æ–∑–∞–ø–æ–ª–Ω—è–µ–º).
- –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º: `slug` (–ø–æ name, —É–Ω–∏–∫–∞–ª—å–Ω—ã–π), `status = 'pending'`, `analyticsPlan = 'free'`.
- –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ: –æ–¥–∏–Ω –º–∞–≥–∞–∑–∏–Ω –Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.

**–ü–æ–ª—É—á–∏—Ç—å –º–∞–≥–∞–∑–∏–Ω —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è** ‚Äî `GET /me/shop` (404/null –µ—Å–ª–∏ –Ω–µ—Ç).

**–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤–ª–∞–¥–µ–ª—å—Ü–µ–º** ‚Äî `PATCH /shops/:shopId`
- –¢–æ–ª—å–∫–æ –≤–ª–∞–¥–µ–ª–µ—Ü. –ú–æ–∂–Ω–æ –º–µ–Ω—è—Ç—å: `description, logoUrl, instagram, website, phone, ownerFullName, location, coverUrl, slogan`.
- –ù–µ–ª—å–∑—è: `ownerUserId`, `status`, `isVerified` –Ω–∞–ø—Ä—è–º—É—é. –ü—Ä–∏ `rejected` –∏–∑–º–µ–Ω–µ–Ω–∏–µ –º–æ–∂–µ—Ç –≤–µ—Ä–Ω—É—Ç—å –≤ `pending` (–ø–æ –ø—Ä–∞–≤–∏–ª—É/—Ñ–ª–∞–≥—É).

**–ü–∞—É–∑–∞/–≤–æ–∑–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ** ‚Äî `POST /shops/:shopId/pause`, `POST /shops/:shopId/resume`
- –¢–æ–ª—å–∫–æ –≤–ª–∞–¥–µ–ª–µ—Ü. –ü—Ä–∏ –ø–∞—É–∑–µ `status = 'paused'`, –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ –ø–µ—Ä–µ–≤–æ–¥–∏–º –≤—Å–µ listings –≤ `paused`.

**–ê–¥–º–∏–Ω**
- `GET /admin/shops?status=` (pending|approved|rejected|paused)
- `GET /admin/shops/:shopId`
- `POST /admin/shops/:shopId/approve` ‚Üí `status = 'approved'`
- `POST /admin/shops/:shopId/reject` (body: `moderationComment`) ‚Üí `status = 'rejected'`
- `POST /admin/shops/:shopId/verify` ‚Üí `isVerified = true`, `verificationAt = now()`
- `POST /admin/shops/:shopId/unverify`

### 3. –í–∏—Ç—Ä–∏–Ω–∞ –º–∞–≥–∞–∑–∏–Ω–∞ (slug, —Å—Å—ã–ª–∫–∏, QR)
**–ò–∑–º–µ–Ω–µ–Ω–∏–µ slug** ‚Äî `POST /shops/:shopId/slug` body: `{ slug }` —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç–∏; –º–æ–∂–Ω–æ –æ–≥—Ä–∞–Ω–∏—á–∏—Ç—å 1 –ø–æ–ø—ã—Ç–∫–æ–π (`slugChangeCount`).

**–ü—É–±–ª–∏—á–Ω–æ–µ –ø–æ–ª—É—á–µ–Ω–∏–µ –º–∞–≥–∞–∑–∏–Ω–∞** ‚Äî `GET /public/shops/:slugOrId`
- –ë–µ–∑ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏, –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø—É–±–ª–∏—á–Ω—ã–π –ø—Ä–æ—Ñ–∏–ª—å + —Å–ø–∏—Å–æ–∫ –∞–∫—Ç–∏–≤–Ω—ã—Ö —Ç–æ–≤–∞—Ä–æ–≤ (–ø–∞–≥–∏–Ω–∞—Ü–∏—è, —Ñ–∏–ª—å—Ç—Ä –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏).

**–°–æ–±—ã—Ç–∏–µ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –≤–∏—Ç—Ä–∏–Ω—ã** ‚Äî `POST /public/shops/:shopId/view` body: `{ source?: 'telegram' | 'instagram' | 'direct' | 'other' }` ‚Üí —Å–æ–∑–¥–∞—ë—Ç `ShopPageViewEvent`.

### 4. ProductTemplate (–∫–∞—Ä—Ç–æ—á–∫–∏ —Ç–æ–≤–∞—Ä–æ–≤)
- **–°–æ–∑–¥–∞–Ω–∏–µ** ‚Äî `POST /shops/:shopId/product-templates` (owner only) body: `title, description, photos[], categoryId, tags?, seasonCode?`.
- **–°–ø–∏—Å–æ–∫** ‚Äî `GET /shops/:shopId/product-templates`.
- **–ò–∑–º–µ–Ω–µ–Ω–∏–µ/—É–¥–∞–ª–µ–Ω–∏–µ** ‚Äî `PATCH /shops/:shopId/product-templates/:templateId`, `DELETE /shops/:shopId/product-templates/:templateId` (–≤–ª–∞–¥–µ–Ω–∏–µ).

### 5. Listings (–ø—É–±–ª–∏–∫–∞—Ü–∏–∏)
**–ú–∞—Å—Å–æ–≤–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ** ‚Äî `POST /shops/:shopId/listings/bulk`
- Body: `{ items: { productTemplateId, price, quantity, fairId? }[] }`
- –ü—Ä–æ–≤–µ—Ä—è–µ–º –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–Ω–æ—Å—Ç—å –≤—Å–µ—Ö —à–∞–±–ª–æ–Ω–æ–≤ –º–∞–≥–∞–∑–∏–Ω—É; –ø–æ–¥—Å—Ç–∞–≤–ª—è–µ–º `Shop.location`; —Å–æ–∑–¥–∞—ë–º `Listing` –Ω–∞ –∫–∞–∂–¥—ã–π.

**–°–ø–∏—Å–æ–∫ –ø—É–±–ª–∏–∫–∞—Ü–∏–π** ‚Äî `GET /shops/:shopId/listings?status=active|paused|finished&fairId=...`

**–°—Ç–∞—Ç—É—Å—ã** ‚Äî `POST /shops/:shopId/listings/:listingId/pause|resume|finish`.

### 6. –ü—É–±–ª–∏—á–Ω—ã–µ –æ–±—ä—è–≤–ª–µ–Ω–∏—è
- `GET /public/listings/:listingId` ‚Äî –ø—É–±–ª–∏—á–Ω–∞—è –∫–∞—Ä—Ç–æ—á–∫–∞ + –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–µ shop-–¥–∞–Ω–Ω—ã–µ.
- –°–æ–±—ã—Ç–∏—è: `POST /public/listings/:listingId/view` (ViewEvent), `/favorite` (FavoriteEvent), `/contact-view` (ContactViewEvent). `userId` –æ–ø—Ü–∏–æ–Ω–∞–ª–µ–Ω.

### 7. –Ø—Ä–º–∞—Ä–∫–∏ (Fair)
**–ê–¥–º–∏–Ω**: `POST /admin/fairs`, `PATCH /admin/fairs/:fairId`, `GET /admin/fairs`, `GET /admin/fairs/:fairId`.

**–ü—É–±–ª–∏—á–Ω—ã–π —Å–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö** ‚Äî `GET /fairs/available-for-me` (–ø–æ —Ç–µ–∫—É—â–µ–º—É shop –∏ sellerType/—Å—Ç–∞—Ç—É—Å—É).

**–£—á–∞—Å—Ç–∏–µ –º–∞–≥–∞–∑–∏–Ω–∞** ‚Äî `POST /shops/:shopId/fairs/:fairId/participations`, `GET /shops/:shopId/fairs/participations`, `GET /shops/:shopId/fairs/:fairId/participation`.

**–ê–¥–º–∏–Ω –º–æ–¥–µ—Ä–∞—Ü–∏—è —É—á–∞—Å—Ç–∏—è** ‚Äî `POST /admin/fairs/:fairId/participations/:participationId/approve|reject`.

### 8. –ê–Ω–∞–ª–∏—Ç–∏–∫–∞
–°–µ—Ä–≤–∏—Å `analyticsService` + REST-–æ–±—ë—Ä—Ç–∫–∏.

- **–û–±–∑–æ—Ä –º–∞–≥–∞–∑–∏–Ω–∞** ‚Äî `GET /shops/:shopId/analytics/overview?from=&to=` ‚Üí `totalViews`, `totalFavorites`, `totalContactViews`, `dailySeries`, `topListingsByViews`, `geoDistribution`, `distanceBuckets`.
- **–ü–æ –æ–±—ä—è–≤–ª–µ–Ω–∏—é** ‚Äî `GET /shops/:shopId/listings/:listingId/analytics?from=&to=` (–∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ).
- **–í–∏—Ç—Ä–∏–Ω–∞** ‚Äî `GET /shops/:shopId/analytics/shop-page?from=&to=` (–∞–≥—Ä–µ–≥–∏—Ä—É–µ—Ç `ShopPageViewEvent`).
- **–Ø—Ä–º–∞—Ä–∫–∞** ‚Äî `GET /shops/:shopId/fairs/:fairId/analytics`.

### 9. –ê–Ω—Ç–∏—Ñ—Ä–æ–¥ –∏ –∫–∞—á–µ—Å—Ç–≤–æ
–°–µ—Ä–≤–∏—Å `sellerQualityService`: –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏–π job —Å—á–∏—Ç–∞–µ—Ç `SellerQualityScore` (rating, complaints/1000 views, price spikes, —Ñ–µ–π–∫–∏, suspicious geo). –°–æ—Ö—Ä–∞–Ω—è–µ—Ç/–∫–µ—à–∏—Ä—É–µ—Ç –≤ –∫–æ–ª–ª–µ–∫—Ü–∏–∏ `SellerQualityScore` (`shopId -> score, flags`).

**–ê–¥–º–∏–Ω API** ‚Äî `GET /admin/sellers/quality?minScore=&maxScore=&flag=...`, `GET /admin/shops/:shopId/quality`.

---

## üü£ –ú–ï–ì–ê–ü–†–û–ú–¢ ‚Ññ2 ‚Äî UI/UX
–¢—ã ‚Äî **senior product/UX/UI designer + —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥-–ª–∏–¥**. –°–ø—Ä–æ–µ–∫—Ç–∏—Ä—É–π —ç–∫—Ä–∞–Ω—ã –∏ UX-–ø–æ—Ç–æ–∫–∏ –¥–ª—è –º–æ–¥—É–ª–µ–π:

- ‚Äú–ú–æ–π –º–∞–≥–∞–∑–∏–Ω‚Äù –≤ –ø—Ä–æ—Ñ–∏–ª–µ
- –ú–∞—Å—Ç–µ—Ä —Å–æ–∑–¥–∞–Ω–∏—è –º–∞–≥–∞–∑–∏–Ω–∞
- –ö–∞–±–∏–Ω–µ—Ç –º–∞–≥–∞–∑–∏–Ω–∞
- –í–∏—Ç—Ä–∏–Ω–∞ –º–∞–≥–∞–∑–∏–Ω–∞ (–ø—É–±–ª–∏—á–Ω—ã–π –º–∏–Ω–∏-–ª–µ–Ω–¥–∏–Ω–≥)
- –Ø—Ä–º–∞—Ä–∫–∏ –≤–Ω—É—Ç—Ä–∏ –º–∞–≥–∞–∑–∏–Ω–∞
- –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ (–ø—Ä–æ—Å—Ç—ã–µ, —á–∏—Ç–∞–µ–º—ã–µ –≥—Ä–∞—Ñ–∏–∫–∏)
- –ê–Ω—Ç–∏—Ñ—Ä–æ–¥-—ç–ª–µ–º–µ–Ω—Ç—ã –≤ –∞–¥–º–∏–Ω–∫–µ (–æ–±—â–∏–µ —à—Ç—Ä–∏—Ö–∏)

**–°—Ç–∏–ª—å**: —Ç—ë–º–Ω–∞—è —Ç–µ–º–∞, –Ω–µ–æ–Ω/–º–∞—Ç—Ä–∏—Ü–∞, –∞–∫–∫—É—Ä–∞—Ç–Ω—ã–µ –∫–∞—Ä—Ç–æ—á–∫–∏. –ú–∏–Ω–∏–º—É–º —Ç–µ–∫—Å—Ç–∞, –º–∞–∫—Å–∏–º—É–º –ø–æ–Ω—è—Ç–Ω—ã—Ö CTA. Mobile-first, WebView.

### –ì–ª–∞–≤–Ω—ã–π —Å—Ü–µ–Ω–∞—Ä–∏–π (–ø—Ä–æ—Ñ–∏–ª—å)
- –ë–ª–æ–∫ ‚Äú–ú–æ–π –º–∞–≥–∞–∑–∏–Ω‚Äù:
  - **–ù–µ—Ç –º–∞–≥–∞–∑–∏–Ω–∞**: —è—Ä–∫–∞—è CTA-–ø–ª–∞—à–∫–∞ —Å –∏–ª–ª—é—Å—Ç—Ä–∞—Ü–∏–µ–π, 2‚Äì3 –±—É–ª–ª–µ—Ç–∞ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤, –∫–Ω–æ–ø–∫–∞ ‚Äú–û—Ç–∫—Ä—ã—Ç—å –º–∞–≥–∞–∑–∏–Ω‚Äù.
  - **–ï—Å—Ç—å –º–∞–≥–∞–∑–∏–Ω**: –ª–æ–≥–æ—Ç–∏–ø, –Ω–∞–∑–≤–∞–Ω–∏–µ, —Å—Ç–∞—Ç—É—Å-—á–∏–ø (–∑–µ–ª—ë–Ω—ã–π ‚Äú–ê–∫—Ç–∏–≤–µ–Ω‚Äù / –∂—ë–ª—Ç—ã–π ‚Äú–ù–∞ –º–æ–¥–µ—Ä–∞—Ü–∏–∏‚Äù / —Å–µ—Ä—ã–π ‚Äú–ü–∞—É–∑–∞‚Äù), –¥–≤–µ –∫—Ä—É–ø–Ω—ã–µ –∫–Ω–æ–ø–∫–∏: ‚Äú–ö–∞–±–∏–Ω–µ—Ç –º–∞–≥–∞–∑–∏–Ω–∞‚Äù, ‚Äú–ú–æ—è –≤–∏—Ç—Ä–∏–Ω–∞ (–º–∏–Ω–∏-—Å—Ç—Ä–∞–Ω–∏—Ü–∞)‚Äù.

### –ú–∞—Å—Ç–µ—Ä —Å–æ–∑–¥–∞–Ω–∏—è –º–∞–≥–∞–∑–∏–Ω–∞ (3 —à–∞–≥–∞)
- –®–∞–ø–∫–∞: –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä (1/3, 2/3, 3/3).
- **–®–∞–≥ 1**: –∫–∞—Ä—Ç–æ—á–∫–∏ –≤–≤–æ–¥–∞, placeholder-—ã –∏ –ø–æ–¥—Å–∫–∞–∑–∫–∏, –ª–∏–º–∏—Ç—ã –ø–æ –¥–ª–∏–Ω–µ.
- **–®–∞–≥ 2**: –±–æ–ª—å—à–∞—è –∏–∫–æ–Ω–∫–∞ –≥–µ–æ, —Ç–µ–∫—Å—Ç ‚Äú–ú—ã –æ–ø—Ä–µ–¥–µ–ª–∏–ª–∏ –≤–∞—à –≥–æ—Ä–æ–¥: ‚Ä¶ —Ä–∞–π–æ–Ω: ‚Ä¶‚Äù, –º–∞–ª–µ–Ω—å–∫–∞—è —Å—Å—ã–ª–∫–∞ ‚Äú–ò–∑–º–µ–Ω–∏—Ç—å –≤—Ä—É—á–Ω—É—é‚Äù.
- **–®–∞–≥ 3**: —Ä–µ–∑—é–º–µ (–º–∏–Ω–∏-–∫–∞—Ä—Ç–æ—á–∫–∞ –º–∞–≥–∞–∑–∏–Ω–∞), —á–µ–∫–±–æ–∫—Å, –∫–Ω–æ–ø–∫–∞ ‚Äú–û—Ç–ø—Ä–∞–≤–∏—Ç—å –Ω–∞ –º–æ–¥–µ—Ä–∞—Ü–∏—é‚Äù.

### –ö–∞–±–∏–Ω–µ—Ç –º–∞–≥–∞–∑–∏–Ω–∞ ‚Äî –æ–±—â–∏–π layout
- –í–µ—Ä—Ö–Ω—è—è —à–∞–ø–∫–∞: –ª–æ–≥–æ—Ç–∏–ø, –Ω–∞–∑–≤–∞–Ω–∏–µ, —Å—Ç–∞—Ç—É—Å, –±–µ–π–¥–∂ ‚Äú–ü—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã–π –º–∞–≥–∞–∑–∏–Ω‚Äù.
- –¢–∞–±—ã: ‚Äú–û–±–∑–æ—Ä‚Äù, ‚Äú–¢–æ–≤–∞—Ä—ã‚Äù, ‚Äú–ü—É–±–ª–∏–∫–∞—Ü–∏–∏‚Äù, ‚Äú–Ø—Ä–º–∞—Ä–∫–∏‚Äù, ‚Äú–ê–Ω–∞–ª–∏—Ç–∏–∫–∞‚Äù, ‚Äú–í–∏—Ç—Ä–∏–Ω–∞‚Äù.

**–û–±–∑–æ—Ä**: 2‚Äì3 –∫–ª—é—á–µ–≤—ã–µ —Ü–∏—Ñ—Ä—ã, –∫–∞—Ä—Ç–æ—á–∫–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏, –ø–æ—Å–ª–µ–¥–Ω–∏–µ 3 –æ–±—ä—è–≤–ª–µ–Ω–∏—è.

**–¢–æ–≤–∞—Ä—ã**: —Å–ø–∏—Å–æ–∫ –∫–∞—Ä—Ç–æ—á–µ–∫ (—Ñ–æ—Ç–æ+–Ω–∞–∑–≤–∞–Ω–∏–µ), FAB ‚Äú+ –î–æ–±–∞–≤–∏—Ç—å —Ç–æ–≤–∞—Ä‚Äù; –ø—É—Å—Ç–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Å –∏–ª–ª—é—Å—Ç—Ä–∞—Ü–∏–µ–π.

**–ü—É–±–ª–∏–∫–∞—Ü–∏–∏**: –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å ‚Äú–ê–∫—Ç–∏–≤–Ω—ã–µ / –ù–∞ –ø–∞—É–∑–µ / –ó–∞–≤–µ—Ä—à–µ–Ω–Ω—ã–µ‚Äù; –º–∞—Å—Å-—Ä–µ–∂–∏–º ‚Äî –∫–∞—Ä—Ç–æ—á–∫–∏ —Å —á–µ–∫–±–æ–∫—Å–∞–º–∏, –Ω–∏–∂–Ω—è—è –ø–∞–Ω–µ–ª—å: –ø–æ–ª—è ‚Äú—Ü–µ–Ω–∞, –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ, –∫–Ω–æ–ø–∫–∞ ‚Äò–û–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å‚Äô‚Äù; –ø–æ–¥—Å–∫–∞–∑–∫–∞ –¥–ª—è –ø—É—Å—Ç–æ—Ç—ã.

**–Ø—Ä–º–∞—Ä–∫–∏**: –≤–µ—Ä—Ö–Ω–∏–π –±–ª–æ–∫ ‚Äú–î–æ—Å—Ç—É–ø–Ω—ã–µ —è—Ä–º–∞—Ä–∫–∏‚Äù (–≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—ã–π —Å–∫—Ä–æ–ª–ª –±–∞–Ω–Ω–µ—Ä–æ–≤), –Ω–∏–∂–µ ‚Äú–ú–æ–∏ —è—Ä–º–∞—Ä–∫–∏‚Äù (—Ç–∞–±–ª–∏—á–Ω—ã–π —Å–ø–∏—Å–æ–∫); –¥–ª—è —É—á–∞—Å—Ç–∏—è ‚Äî —ç–∫—Ä–∞–Ω ‚Äú–¢–æ–≤–∞—Ä—ã —è—Ä–º–∞—Ä–∫–∏‚Äù (—á–µ–∫–±–æ–∫—Å—ã —à–∞–±–ª–æ–Ω–æ–≤, –Ω–∏–∂–Ω—è—è –ø–∞–Ω–µ–ª—å ‚Äú–í—ã–±—Ä–∞–Ω–æ X ‚Üí –£–∫–∞–∑–∞—Ç—å —Ü–µ–Ω—ã/–ª–∏–º–∏—Ç—ã ‚Üí –û–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å‚Äù), –±–µ–π–¥–∂–∏ ‚Äú–Ø—Ä–º–∞—Ä–∫–∞‚Äù –Ω–∞ —Ç–æ–≤–∞—Ä–∞—Ö.

**–ê–Ω–∞–ª–∏—Ç–∏–∫–∞**: –≥—Ä–∞—Ñ–∏–∫ ‚Äú–ø—Ä–æ—Å–º–æ—Ç—Ä—ã –ø–æ –¥–Ω—è–º‚Äù; –±–ª–æ–∫ ‚Äú–ì–¥–µ –≤–∞—Å —Å–º–æ—Ç—Ä—è—Ç?‚Äù (–≥–∏—Å—Ç–æ–≥—Ä–∞–º–º–∞ –ø–æ —Ä–∞–π–æ–Ω–∞–º); –±–ª–æ–∫ ‚Äú–†–∞—Å—Å—Ç–æ—è–Ω–∏–µ –¥–æ –ø–æ–∫—É–ø–∞—Ç–µ–ª–µ–π‚Äù (–≥–∏—Å—Ç–æ–≥—Ä–∞–º–º–∞ 0‚Äì2 / 2‚Äì5 / 5‚Äì10 / 10+ –∫–º).

**–í–∏—Ç—Ä–∏–Ω–∞**: –ø—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä –º–∏–Ω–∏-–ª–µ–Ω–¥–∏–Ω–≥–∞ –≤ —Ä–∞–º–∫–µ; –±–ª–æ–∫ ‚Äú–°—Å—ã–ª–∫–∏ –∏ QR‚Äù (URL, deep-link, –∫–Ω–æ–ø–∫–∞ ‚Äú–°–∫–∞—á–∞—Ç—å QR‚Äù).

### –ü—É–±–ª–∏—á–Ω–∞—è –≤–∏—Ç—Ä–∏–Ω–∞ –º–∞–≥–∞–∑–∏–Ω–∞
- –í–µ—Ä—Ö–Ω–∏–π –±–ª–æ–∫: –±–∞–Ω–Ω–µ—Ä/cover, –∫—Ä—É–≥–ª—ã–π –ª–æ–≥–æ—Ç–∏–ø, –Ω–∞–∑–≤–∞–Ω–∏–µ, –≥–æ—Ä–æ–¥/—Ä–∞–π–æ–Ω, –±–µ–π–¥–∂ ‚Äú–ü—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã–π‚Äù.
- –†–∞–∑–¥–µ–ª ‚Äú–û –º–∞–≥–∞–∑–∏–Ω–µ‚Äù: –∫–æ—Ä–æ—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ, —Å–ª–æ–≥–∞–Ω.
- –†–∞–∑–¥–µ–ª ‚Äú–ö–æ–Ω—Ç–∞–∫—Ç—ã‚Äù: –∫–Ω–æ–ø–∫–∞ ‚Äú–ù–∞–ø–∏—Å–∞—Ç—å –≤ Telegram‚Äù, ‚Äú–ü–æ–∑–≤–æ–Ω–∏—Ç—å‚Äù, ‚ÄúInstagram‚Äù.
- –†–∞–∑–¥–µ–ª ‚Äú–¢–æ–≤–∞—Ä—ã‚Äù: –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–∞—è –ª–µ–Ω—Ç–∞ –∫–∞—Ä—Ç–æ—á–µ–∫ (—Ñ–æ—Ç–æ 1:1, –Ω–∞–∑–≤–∞–Ω–∏–µ, —Ü–µ–Ω–∞, –±–µ–π–¥–∂ ‚Äú–Ø—Ä–º–∞—Ä–∫–∞‚Äù –µ—Å–ª–∏ `fairId`).
- –ù–∏–∑: –ª–æ–≥–æ—Ç–∏–ø KETMAR + —Ç–µ–∫—Å—Ç ‚Äú–ú–∞–≥–∞–∑–∏–Ω –Ω–∞ –ø–ª–∞—Ç—Ñ–æ—Ä–º–µ KETMAR Market‚Äù.

### UX –ø–æ–¥—Å–∫–∞–∑–∫–∏ / –ø—É—Å—Ç–æ—Ç—ã
- –ù–µ—Ç —Ç–æ–≤–∞—Ä–æ–≤ ‚Üí –∏–ª–ª—é—Å—Ç—Ä–∞—Ü–∏—è + ‚Äú–î–æ–±–∞–≤—å—Ç–µ –ø–µ—Ä–≤—ã–π —Ç–æ–≤–∞—Ä‚Äù.
- –ù–µ—Ç –ø—É–±–ª–∏–∫–∞—Ü–∏–π ‚Üí ‚Äú–í—ã–±–µ—Ä–∏—Ç–µ —Ç–æ–≤–∞—Ä—ã –∏ –æ–ø—É–±–ª–∏–∫—É–π—Ç–µ –∏—Ö –≤ –æ–¥–∏–Ω –∫–ª–∏–∫‚Äù.
- –ù–µ—Ç —è—Ä–º–∞—Ä–æ–∫ ‚Üí ‚Äú–ü–æ–¥–∫–ª—é—á–∞–π—Ç–µ—Å—å –∫ —Å–µ–∑–æ–Ω–Ω—ã–º —è—Ä–º–∞—Ä–∫–∞–º, —á—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å –±–æ–ª—å—à–µ –∫–ª–∏–µ–Ω—Ç–æ–≤‚Äù.

### –ù–∞–≤–∏–≥–∞—Ü–∏—è –∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
–û–ø–∏—à–∏ —ç–∫—Ä–∞–Ω—ã —Ç–∞–∫, —á—Ç–æ–±—ã Codex –º–æ–≥ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å React-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã: header, –∫–∞—Ä—Ç–æ—á–∫–∏, —Ç–∞–±—ã, FAB, —Å–ø–∏—Å–∫–∏, —Ä–∞–º–∫–∞ –ø—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä–∞, CTA-–∫–Ω–æ–ø–∫–∏, –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª–∏ —Å—Ç–∞—Ç—É—Å–æ–≤, —á–µ–∫–±–æ–∫—Å—ã –¥–ª—è –º–∞—Å—Å-—Ä–µ–∂–∏–º–∞.

---

## üü¢ –ú–ï–ì–ê–ü–†–û–ú–¢ ‚Ññ3 ‚Äî TELEGRAM-–ë–û–¢
–¢—ã ‚Äî **senior backend/–±–æ—Ç-—Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫**. –†–∞—Å—à–∏—Ä—å Telegram-–±–æ—Ç –¥–ª—è deep-links, –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏ –∏ –≤—ã–¥–∞—á–∏ —Å—Å—ã–ª–æ–∫ –≤–∏—Ç—Ä–∏–Ω—ã. –ë–æ—Ç: `@KetmarM_bot`, WebApp: `https://<domain>/miniapp`.

### 1. Deep-link `start=shop_<shopId>`
- –í `/start` –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º `ctx.startPayload`. –ï—Å–ª–∏ `shop_`: –ø–∞—Ä—Å–∏–º `shopId`, –æ—Ç–≤–µ—á–∞–µ–º –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ–º ‚Äú–í—ã –ø–µ—Ä–µ—à–ª–∏ –≤ –º–∞–≥–∞–∑–∏–Ω <–Ω–∞–∑–≤–∞–Ω–∏–µ> –Ω–∞ –ø–ª–∞—Ç—Ñ–æ—Ä–º–µ KETMAR Market‚Äù, –¥–æ–±–∞–≤–ª—è–µ–º web_app –∫–Ω–æ–ø–∫—É —Å URL `https://<domain>/miniapp?shopId=<shopId>` (–∏–ª–∏ —á–µ—Ä–µ–∑ initData). –í MiniApp –ø—Ä–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏, –µ—Å–ª–∏ –µ—Å—Ç—å `shopId`, —Å—Ä–∞–∑—É –æ—Ç–∫—Ä—ã–≤–∞–µ–º –ø—É–±–ª–∏—á–Ω—É—é –≤–∏—Ç—Ä–∏–Ω—É –º–∞–≥–∞–∑–∏–Ω–∞.
- `/start` –±–µ–∑ payload ‚Üí –æ–±—â–∏–π —Å—Ü–µ–Ω–∞—Ä–∏–π.

### 2. –ö–æ–º–∞–Ω–¥–∞ `/myshop`
- –ü–æ Telegram ID —á–µ—Ä–µ–∑ backend –∏—â–µ–º `Shop.ownerUserId`.
- –ï—Å–ª–∏ –º–∞–≥–∞–∑–∏–Ω–∞ –Ω–µ—Ç: —Å–æ–æ–±—â–µ–Ω–∏–µ ‚Äú–£ –≤–∞—Å –µ—â—ë –Ω–µ—Ç –º–∞–≥–∞–∑–∏–Ω–∞. –û—Ç–∫—Ä–æ–π—Ç–µ –µ–≥–æ —á–µ—Ä–µ–∑ MiniApp –≤ —Ä–∞–∑–¥–µ–ª–µ –ü—Ä–æ—Ñ–∏–ª—å ‚Üí –ú–æ–π –º–∞–≥–∞–∑–∏–Ω‚Äù + web_app –∫–Ω–æ–ø–∫–∞ –≤ –ø—Ä–æ—Ñ–∏–ª—å.
- –ï—Å–ª–∏ –µ—Å—Ç—å: –ø–æ–ª—É—á–∞–µ–º `name, slug, status, isVerified`; —Ñ–æ—Ä–º–∏—Ä—É–µ–º `URL: https://<domain>/shop/<slug>`, `deep-link: https://t.me/<bot>?start=shop_<id>`.
- –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –∫–∞—Ä—Ç–æ—á–∫—É: ‚Äú–í–∞—à –º–∞–≥–∞–∑–∏–Ω: <name>‚Äù, —Å—Ç–∞—Ç—É—Å, –∫–Ω–æ–ø–∫–∏: ‚Äú–û—Ç–∫—Ä—ã—Ç—å –∫–∞–±–∏–Ω–µ—Ç‚Äù (WebApp ‚Üí –ø—Ä–æ—Ñ–∏–ª—å/–∫–∞–±–∏–Ω–µ—Ç), ‚Äú–°—Å—ã–ª–∫–∞ –Ω–∞ –≤–∏—Ç—Ä–∏–Ω—É‚Äù (inline URL), ‚Äú–°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å deep-link‚Äù (—Ç–µ–∫—Å—Ç), ‚ÄúQR-–∫–æ–¥‚Äù (–∫–∞—Ä—Ç–∏–Ω–∫–∞, –µ—Å–ª–∏ backend –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç png).

### 3. –ö–æ–º–∞–Ω–¥–∞ `/verify_shop`
- –ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω–∞–ª–∏—á–∏–µ –º–∞–≥–∞–∑–∏–Ω–∞. –ï—Å–ª–∏ –Ω–µ—Ç ‚Äî ‚Äú–°–Ω–∞—á–∞–ª–∞ —Å–æ–∑–¥–∞–π—Ç–µ –º–∞–≥–∞–∑–∏–Ω‚Äù.
- –ï—Å–ª–∏ –µ—Å—Ç—å ‚Äî —á–µ–∫-–ª–∏—Å—Ç –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ (–ª–æ–≥–æ—Ç–∏–ø, –∑–∞–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ), —Å–ø—Ä–∞—à–∏–≤–∞–µ–º: ‚Äú–û—Ç–ø—Ä–∞–≤–∏—Ç—å –∑–∞–ø—Ä–æ—Å –Ω–∞ –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—é?‚Äù (Yes/No). –ü–æ ‚Äú–î–∞‚Äù ‚Üí backend `POST /shops/:shopId/verification-request` (`verificationRequested = true`); –±–æ—Ç: ‚Äú–ó–∞–ø—Ä–æ—Å –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω. –°–æ–æ–±—â–∏–º –æ —Ä–µ—à–µ–Ω–∏–∏‚Äù.
- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è: –∫–æ–≥–¥–∞ backend —Å—Ç–∞–≤–∏—Ç `isVerified = true`, –≤—ã–∑—ã–≤–∞–µ—Ç –±–æ—Ç–∞ (webhook/HTTP), –±–æ—Ç –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç: ‚Äú–í–∞—à –º–∞–≥–∞–∑–∏–Ω <name> –ø—Ä–æ—à—ë–ª –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—é ‚úÖ‚Äù.

### 4. –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –º–æ–¥–µ—Ä–∞—Ü–∏–∏
- Backend –¥–µ—Ä–≥–∞–µ—Ç –±–æ—Ç–∞ –ø—Ä–∏ approve/reject: `tgUserId, shopId, status, comment?`.
- –ë–æ—Ç —à–ª—ë—Ç: –ø—Ä–∏ approve ‚Äî ‚Äú–ú–∞–≥–∞–∑–∏–Ω <name> –æ–¥–æ–±—Ä–µ–Ω‚Ä¶‚Äù. –ü—Ä–∏ reject ‚Äî ‚Äú–û—Ç–∫–ª–æ–Ω—ë–Ω. –ü—Ä–∏—á–∏–Ω–∞: <comment>‚Äù.

### 5. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –±–æ—Ç–∞ (TypeScript + Telegraf/grammY)
- –õ–æ–≥–∏–∫—É —Ä–∞–±–æ—Ç—ã —Å backend –≤—ã–Ω–µ—Å—Ç–∏ –≤ `apiClient`: `getMyShopByTelegramId(tgId)`, `getShopPublicLinks(shopId)`, `requestShopVerification(shopId)`, –∏ —Ç.–¥.
- –ö–æ–º–∞–Ω–¥—ã: `/start [payload]`, `/myshop`, `/verify_shop`, `/help` (–∫–æ—Ä–æ—Ç–∫–æ –æ–ø–∏—Å–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª).
- –ö–Ω–æ–ø–∫–∏: web_app –¥–ª—è MiniApp; inline-–∫–Ω–æ–ø–∫–∏ –¥–ª—è —Å—Å—ã–ª–æ–∫ –∏ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è.

---

## üü¶ –ú–ï–ì–ê–ü–†–û–ú–¢ ‚Ññ4 ‚Äî QR-–ö–û–î–´ –î–õ–Ø –ú–ê–ì–ê–ó–ò–ù–û–í
–¢—ã ‚Äî **senior backend dev**. –†–µ–∞–ª–∏–∑—É–π —Å–µ—Ä–≤–∏—Å –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ QR-–∫–æ–¥–æ–≤ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –º–∞–≥–∞–∑–∏–Ω–∞, –≤–µ–¥—É—â–∏—Ö –ª–∏–±–æ –Ω–∞ –ø—É–±–ª–∏—á–Ω—É—é –≤–∏—Ç—Ä–∏–Ω—É `https://<domain>/shop/<slug>`, –ª–∏–±–æ –Ω–∞ Telegram deep-link `https://t.me/<bot>?start=shop_<id>`.

### –¶–µ–ª–∏ –∏ —Å—Ü–µ–Ω–∞—Ä–∏–∏
- –§–æ—Ä–º–∞—Ç—ã: PNG (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é) –∏ SVG; –ø–æ–¥–¥–µ—Ä–∂–∞—Ç—å –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ —Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤ (S3/R2/–ª–æ–∫–∞–ª—å–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ) –¥–ª—è –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è.
- QR –¥–ª—è –ø–µ—á–∞—Ç–∏ –≤ –æ—Ñ–ª–∞–π–Ω–µ, —Å–æ—Ü—Å–µ—Ç–µ–π, —É–ø–∞–∫–æ–≤–∫–∏ –∏ —è—Ä–º–∞—Ä–æ–∫; –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ QR –ø–æ–¥ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—É—é —è—Ä–º–∞—Ä–∫—É `?fair=<fairId>`.
- –ë–ª–æ–∫ ‚Äú–°—Å—ã–ª–∫–∏ –∏ QR‚Äù –≤ –∫–∞–±–∏–Ω–µ—Ç–µ –≤–∏—Ç—Ä–∏–Ω—ã: –≤—ã–±–æ—Ä —Ç–∏–ø–∞ (–≤–∏—Ç—Ä–∏–Ω–∞ / deep-link), –≤—ã–±–æ—Ä —Ñ–æ—Ä–º–∞—Ç–∞, –≥–µ–Ω–µ—Ä–∞—Ü–∏—è, —Å–∫–∞—á–∏–≤–∞–Ω–∏–µ, –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Å—ã–ª–∫–∏, —É–¥–∞–ª–µ–Ω–∏–µ.
- –ë–æ—Ç –ø–æ `/myshop` —É–º–µ–µ—Ç –æ—Ç–¥–∞–≤–∞—Ç—å QR –∏–ª–∏ –ø—Ä–µ–¥–ª–∞–≥–∞—Ç—å —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –µ–≥–æ.

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –º–æ–¥—É–ª—è `/modules/qr`
- –§–∞–π–ª—ã: `qr.controller.ts`, `qr.router.ts`, `qr.service.ts`, `qr.storage.ts` (–æ–±—ë—Ä—Ç–∫–∞ –Ω–∞–¥ S3/R2/–ª–æ–∫–∞–ª—å–Ω—ã–º –¥–∏—Å–∫–æ–º).
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `qrcode` –∏–ª–∏ `qr-image`; PNG –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é, SVG –ø–æ –∑–∞–ø—Ä–æ—Å—É; –ø—Ä–µ–¥—É—Å–º–æ—Ç—Ä–µ—Ç—å –æ–ø—Ü–∏—é –ª–æ–≥–æ—Ç–∏–ø–∞ (–º–æ–∂–Ω–æ TODO).

### –ú–æ–¥–µ–ª—å –¥–∞–Ω–Ω—ã—Ö `ShopQrCode`
```ts
interface ShopQrCode {
  id: string;
  shopId: string;
  type: 'public_url' | 'deep_link';
  format: 'png' | 'svg';
  url: string;      // —Å—Å—ã–ª–∫–∞ –Ω–∞ —Ñ–∞–π–ª –≤ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ
  createdAt: Date;
}
```
- –•—Ä–∞–Ω–∏–º –Ω–µ—Å–∫–æ–ª—å–∫–æ –≤–µ—Ä—Å–∏–π (—Ä–∞–∑–Ω—ã–µ `type`/`format`). –ò–Ω–¥–µ–∫—Å—ã –ø–æ `shopId` –∏ –ø–∞—Ä–µ (`shopId`, `type`, `format`).

### API —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã
- **–ì–µ–Ω–µ—Ä–∞—Ü–∏—è** ‚Äî `POST /shops/:shopId/qr` body `{ type: 'public_url'|'deep_link', format: 'png'|'svg' }`
  - –ü—Ä–æ–≤–µ—Ä—è–µ–º –≤–ª–∞–¥–µ–ª—å—Ü–∞; –æ–ø—Ä–µ–¥–µ–ª—è–µ–º —Å—Å—ã–ª–∫—É (`/shop/<slug>` –∏–ª–∏ `t.me/<bot>?start=shop_<id>`); –≥–µ–Ω–µ—Ä–∏—Ä—É–µ–º QR, —Å–æ—Ö—Ä–∞–Ω—è–µ–º –≤ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ, —Å–æ–∑–¥–∞—ë–º `ShopQrCode`, –æ—Ç–¥–∞—ë–º `{ qrUrl }`.
- **–°–ø–∏—Å–æ–∫** ‚Äî `GET /shops/:shopId/qr` ‚Üí –º–∞—Å—Å–∏–≤ QR-–∫–æ–¥–æ–≤ –º–∞–≥–∞–∑–∏–Ω–∞.
- **–ü–æ–ª—É—á–∏—Ç—å –æ–¥–∏–Ω** ‚Äî `GET /shops/:shopId/qr/:qrId`.
- **–£–¥–∞–ª–∏—Ç—å** ‚Äî `DELETE /shops/:shopId/qr/:qrId`.

### –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
- **–ö–∞–±–∏–Ω–µ—Ç**: –≤ —Ç–∞–±–µ ‚Äú–í–∏—Ç—Ä–∏–Ω–∞ –º–∞–≥–∞–∑–∏–Ω–∞‚Äù –±–ª–æ–∫ ‚Äú–°—Å—ã–ª–∫–∏ –∏ QR‚Äù —Å –∫–Ω–æ–ø–∫–æ–π ‚Äú–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å QR-–∫–æ–¥‚Äù ‚Üí –≤—ã–±–æ—Ä —Ç–∏–ø–∞/—Ñ–æ—Ä–º–∞—Ç–∞ ‚Üí –∫–∞—Ä—Ç–æ—á–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ (—Å–∫–∞—á–∞—Ç—å/—Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å/—É–¥–∞–ª–∏—Ç—å).
- **Telegram-–±–æ—Ç**: –ø–æ `/myshop` –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç `/shops/byTelegram/:tgId` ‚Üí `/shops/:shopId/qr`. –ï—Å–ª–∏ –Ω–µ—Ç QR ‚Äî –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç –∫–Ω–æ–ø–∫–∏ ‚ÄúQR –¥–ª—è –≤–∏—Ç—Ä–∏–Ω—ã‚Äù –∏ ‚ÄúQR –¥–ª—è Telegram-–º–∏–Ω–∏–∞–ø–ø–∞‚Äù, –ø–æ –Ω–∞–∂–∞—Ç–∏—é –≤—ã–∑—ã–≤–∞–µ—Ç `POST /shops/:shopId/qr { type, format: 'png' }` –∏ –ø—Ä–∏—Å—ã–ª–∞–µ—Ç PNG + –ø–æ–¥–ø–∏—Å—å.
- **–Ø—Ä–º–∞—Ä–∫–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)**: `POST /admin/fairs/:fairId/qr` ‚Üí QR –Ω–∞ `https://<domain>/shop/<slug>?fair=<fairId>`; –≤–æ–∑–º–æ–∂–µ–Ω –±—É–¥—É—â–∏–π QR –Ω–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π listing `POST /shops/:shopId/listings/:listingId/qr`.

---

## üü© –ú–ï–ì–ê–ü–†–û–ú–¢ ‚Ññ5 ‚Äî –°–í–Ø–ó–ö–ê ADMIN PANEL + –ë–û–¢
–¢—ã ‚Äî **senior engineer**. –°–≤—è–∂–∏ Admin Panel, Telegram Bot –∏ Backend —á–µ—Ä–µ–∑ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –∏ –±—ã—Å—Ç—Ä—ã–µ –¥–µ–π—Å—Ç–≤–∏—è –¥–ª—è –º–æ–¥–µ—Ä–∞—Ü–∏–∏, –∂–∞–ª–æ–± –∏ –∞–Ω—Ç–∏—Ñ—Ä–æ–¥–∞.

### –ü–æ—Ç–æ–∫ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
- Backend –¥–µ—Ä–≥–∞–µ—Ç –±–æ—Ç–∞ –ø–æ –∑–∞—â–∏—â—ë–Ω–Ω–æ–º—É endpoint `POST /bot/admin-notify` –ø—Ä–∏ —Å–æ–±—ã—Ç–∏—è—Ö: `shop_created`, `verification_requested`, `complaint_new`, `seller_score_low`, –∏ —Ç.–ø. (–ø–æ–ª—è `shopId`, `listingId`, `complaintId`, `score`).
- –ë–æ—Ç —à–ª—ë—Ç –≤ –∞–¥–º–∏–Ω—Å–∫–∏–π —á–∞—Ç —Å–æ–æ–±—â–µ–Ω–∏—è –ø–æ —à–∞–±–ª–æ–Ω–∞–º:
  - –ù–æ–≤—ã–π –º–∞–≥–∞–∑–∏–Ω: üõí ‚Äú–ù–æ–≤—ã–π –º–∞–≥–∞–∑–∏–Ω –Ω–∞ –º–æ–¥–µ—Ä–∞—Ü–∏–∏‚Äù + name/city/id, –∫–Ω–æ–ø–∫–∏ `[–û–¥–æ–±—Ä–∏—Ç—å] [–û—Ç–∫–ª–æ–Ω–∏—Ç—å] [–û—Ç–∫—Ä—ã—Ç—å –≤ –∞–¥–º–∏–Ω–∫–µ]`.
  - –ó–∞–ø—Ä–æ—Å –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏: üîµ ‚Äú–ó–∞–ø—Ä–æ—Å –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏‚Äù + name/id, –∫–Ω–æ–ø–∫–∏ ‚Äú–û–¥–æ–±—Ä–∏—Ç—å/–û—Ç–∫–ª–æ–Ω–∏—Ç—å/–û—Ç–∫—Ä—ã—Ç—å‚Äù.
  - –ù–æ–≤–∞—è –∂–∞–ª–æ–±–∞: ‚ö†Ô∏è ‚Äú–ù–æ–≤–∞—è –∂–∞–ª–æ–±–∞‚Äù + –º–∞–≥–∞–∑–∏–Ω/–ø—Ä–∏—á–∏–Ω–∞, –∫–Ω–æ–ø–∫–∏ ‚Äú–ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –æ–±—ä—è–≤–ª–µ–Ω–∏—è/–ü–æ—Å—Ç–∞–≤–∏—Ç—å –Ω–∞ –ø–∞—É–∑—É/–û—Ç–∫—Ä—ã—Ç—å‚Äù.
  - –ù–∏–∑–∫–∏–π SellerScore: üî¥ ‚Äú–ü–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω—ã–π –º–∞–≥–∞–∑–∏–Ω‚Äù + score/flags, –∫–Ω–æ–ø–∫–∏ ‚Äú–ü–æ—Å—Ç–∞–≤–∏—Ç—å –Ω–∞ –ø–∞—É–∑—É/–ù–∞–ø–∏—Å–∞—Ç—å –ø—Ä–æ–¥–∞–≤—Ü—É/–û—Ç–∫—Ä—ã—Ç—å –∞–Ω–∞–ª–∏—Ç–∏–∫—É‚Äù.

### Inline-–∫–Ω–æ–ø–∫–∏ –∏ –¥–µ–π—Å—Ç–≤–∏—è
- Callback-–∏ –≤ –±–æ—Ç–µ: `shop_approve_<id>`, `shop_reject_<id>`, `shop_pause_<id>`, `shop_unpause_<id>`, `shop_verify_<id>`, `shop_unverify_<id>`.
- –ü–æ –Ω–∞–∂–∞—Ç–∏—é: –±–æ—Ç –≤—ã–∑—ã–≤–∞–µ—Ç Backend (`POST /admin/shops/:id/approve|reject|pause|...`) –∏ –æ—Ç–≤–µ—á–∞–µ—Ç ‚Äú–ú–∞–≥–∞–∑–∏–Ω <name> –æ–¥–æ–±—Ä–µ–Ω/–æ—Ç–∫–ª–æ–Ω—ë–Ω/–ø–æ—Å—Ç–∞–≤–ª–µ–Ω –Ω–∞ –ø–∞—É–∑—É‚Äù.

### Admin Panel –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è–º–∏
- –í –∫–∞—Ä—Ç–æ—á–∫–µ –º–∞–≥–∞–∑–∏–Ω–∞: —Ç—É–º–±–ª–µ—Ä ‚Äú–£–≤–µ–¥–æ–º–ª—è—Ç—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤ –≤ Telegram?‚Äù (–í–ö–õ/–í–´–ö–õ) –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç, –∫–∞–∫–∏–µ —Å–æ–±—ã—Ç–∏—è –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å –Ω–∞ `/bot/admin-notify`.

### –ö–æ–º–∞–Ω–¥—ã –±–æ—Ç–∞ –¥–ª—è –∞–¥–º–∏–Ω–æ–≤
- `/shops_pending` ‚Äî —Å–ø–∏—Å–æ–∫ –æ–∂–∏–¥–∞—é—â–∏—Ö –º–∞–≥–∞–∑–∏–Ω–æ–≤ —Å inline-–∫–Ω–æ–ø–∫–∞–º–∏ `[–û–¥–æ–±—Ä–∏—Ç—å]/[–û—Ç–∫–ª–æ–Ω–∏—Ç—å]` –∏ —Å—Å—ã–ª–∫–æ–π –≤ –∞–¥–º–∏–Ω–∫—É.
- `/complaints_today` ‚Äî —Å–≤–µ–∂–∏–µ –∂–∞–ª–æ–±—ã: `<listing> ‚Äî –ø—Ä–∏—á–∏–Ω–∞`, –∫–Ω–æ–ø–∫–∏ ‚Äú–û—Ç–∫—Ä—ã—Ç—å –≤ –∞–¥–º–∏–Ω–∫–µ‚Äù –∏ ‚Äú–ü–æ—Å—Ç–∞–≤–∏—Ç—å –Ω–∞ –ø–∞—É–∑—É –º–∞–≥–∞–∑–∏–Ω‚Äù.
- `/suspicious` ‚Äî –º–∞–≥–∞–∑–∏–Ω—ã —Å –Ω–∏–∑–∫–∏–º SellerScore.

### –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –ø—Ä–æ–¥–∞–≤—Ü—É —á–µ—Ä–µ–∑ –±–æ—Ç–∞
- –ö–æ–≥–¥–∞ –º–∞–≥–∞–∑–∏–Ω –æ–¥–æ–±—Ä–µ–Ω/–æ—Ç–∫–ª–æ–Ω—ë–Ω/–≤–µ—Ä–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω/—Å–Ω—è—Ç —Å –ø–∞—É–∑—ã, backend –ø–∏–Ω–≥—É–µ—Ç –±–æ—Ç–∞ ‚Üí –±–æ—Ç —É–≤–µ–¥–æ–º–ª—è–µ—Ç –≤–ª–∞–¥–µ–ª—å—Ü–∞: ‚Äú–í–∞—à –º–∞–≥–∞–∑–∏–Ω <name> –æ–¥–æ–±—Ä–µ–Ω ‚úîÔ∏è ‚Ä¶‚Äù.
