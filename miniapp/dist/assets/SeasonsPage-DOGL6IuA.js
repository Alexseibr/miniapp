import{j as e,E as l}from"./index-C0UB_dVU.js";import{r,L as u}from"./vendor-react-C4_xJuq0.js";import{f}from"./seasons-DJwV2yfi.js";import"./vendor-ui-DiZGdpRh.js";function j(){const[s,a]=r.useState([]),[d,n]=r.useState(!0),[i,m]=r.useState(null);if(r.useEffect(()=>{n(!0),f().then(t=>a(t||[])).catch(t=>{console.error("seasons fetch error",t),m("Не удалось загрузить сезоны"),a([])}).finally(()=>n(!1))},[]),d)return e.jsx(l,{title:"Загружаем сезоны"});if(!s.length)return e.jsx(l,{title:"Сезонные витрины пока не активны",description:"Загляните позже"});const o=t=>{if(!t)return null;const c=new Date(t);return Number.isNaN(c.getTime())?null:c.toLocaleDateString("ru-RU")};return e.jsxs("div",{className:"container",children:[e.jsx("h2",{style:{marginTop:0,marginBottom:12},children:"Сезонные подборки"}),i&&e.jsx("div",{role:"status",style:{marginBottom:12,padding:12,borderRadius:12,background:"#fff7ed",color:"#9a3412"},children:i}),e.jsx("div",{className:"stack",style:{gap:12},children:s.map(t=>e.jsxs(u,{to:`/season/${t.code}`,className:"card",style:{textDecoration:"none"},children:[e.jsx("p",{className:"badge",style:{marginBottom:8},children:t.isActive?"Активен":"Завершён"}),e.jsx("h3",{style:{margin:"0 0 6px"},children:t.name}),t.description&&e.jsx("p",{style:{margin:"0 0 6px",color:"#475467"},children:t.description}),e.jsxs("p",{style:{margin:0,color:"#475467",fontSize:"0.9rem"},children:["Период: ",o(t.startDate)||"дата не указана",t.endDate?` — ${o(t.endDate)}`:""]})]},t._id))})]})}export{j as default};
