import{j as e,E as a}from"./index-D-Q9YDns.js";import{e as f,r}from"./vendor-react-C4_xJuq0.js";import{f as p,a as u}from"./seasons-abZQ2LEg.js";import{A as h}from"./AdCard-iRcjxfH8.js";import"./vendor-ui-DiZGdpRh.js";import"./cart-DxlGYPLs.js";import"./geo-vKTZKBRm.js";import"./time-DsfvQ_7m.js";function v(){const{code:t}=f(),[c,n]=r.useState(null),[i,o]=r.useState([]),[m,l]=r.useState(!0);return r.useEffect(()=>{t&&(l(!0),p().then(s=>n(s.find(d=>d.code===t)||null)).catch(()=>n(null)),u(t).then(s=>o(s.items||s)).catch(()=>o([])).finally(()=>l(!1)))},[t]),t?m?e.jsx(a,{title:"Загружаем сезон"}):e.jsxs("div",{className:"container",children:[e.jsx("h2",{style:{marginTop:0},children:c?.name||`Сезон ${t}`}),e.jsxs("p",{style:{marginTop:0,color:"#475467"},children:["Здесь будут объявления сезона ",t,". Карточки ниже обновятся, когда появятся новые позиции."]}),i.length?e.jsx("div",{className:"grid",style:{gridTemplateColumns:"1fr"},children:i.map(s=>e.jsx(h,{ad:s},s._id))}):e.jsx(a,{title:"Пока нет объявлений",description:"Проверяем сезонные поставки"})]}):e.jsx(a,{title:"Не указан код сезона"})}export{v as default};
