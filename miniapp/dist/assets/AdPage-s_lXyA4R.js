import{j as t,E as a}from"./index-DK3NXmw2.js";import{e as p,r as i}from"./vendor-react-C4_xJuq0.js";import{g as m}from"./ads-DNDRIolR.js";import{u,F as x}from"./cart-CX-AQXQJ.js";import"./vendor-ui-DiZGdpRh.js";function b(){const{id:r}=p(),[e,l]=i.useState(null),[n,o]=i.useState(!0),d=u(s=>s.addItem);return i.useEffect(()=>{r&&m(r).then(l).catch(()=>l(null)).finally(()=>o(!1))},[r]),n?t.jsx(a,{title:"Загружаем объявление"}):e?t.jsx("div",{className:"container",children:t.jsxs("article",{className:"card",children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[t.jsx("h2",{style:{margin:0},children:e.title}),t.jsx(x,{adId:e._id})]}),t.jsx("p",{style:{color:"#475467"},children:e.description}),e.photos?.length&&t.jsx("div",{style:{display:"flex",gap:8,overflowX:"auto",margin:"12px 0"},children:e.photos.map(s=>t.jsx("img",{src:s,alt:e.title,style:{width:140,height:100,objectFit:"cover",borderRadius:12}},s))}),t.jsxs("p",{style:{fontSize:"1.8rem",fontWeight:700},children:[e.price.toLocaleString("ru-RU")," ",e.currency||"BYN"]}),e.attributes&&t.jsx("ul",{style:{listStyle:"none",padding:0,margin:"12px 0",color:"#475467"},children:Object.entries(e.attributes).map(([s,c])=>t.jsxs("li",{children:[t.jsxs("strong",{children:[s,":"]})," ",String(c)]},s))}),t.jsxs("div",{style:{display:"flex",gap:12,flexWrap:"wrap"},children:[t.jsx("a",{className:"primary",href:`tg://user?id=${e.sellerTelegramId}`,style:{textAlign:"center",textDecoration:"none"},children:"Написать продавцу"}),t.jsx("button",{type:"button",className:"secondary",onClick:()=>d({adId:e._id,title:e.title,price:e.price,quantity:1,sellerTelegramId:e.sellerTelegramId,photo:e.photos?.[0]}),children:"Добавить в корзину"})]})]})}):t.jsx(a,{title:"Объявление не найдено",description:"Возможно, оно было удалено продавцом"})}export{b as default};
