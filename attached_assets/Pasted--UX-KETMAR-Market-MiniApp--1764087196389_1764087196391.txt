ПРОМПТ: UX + ЛОГИКА ДЛЯ ФЕРМЕРСКИХ И СЕЗОННЫХ КАТЕГОРИЙ

для KETMAR Market MiniApp**

Скопируй всё между ```text в Replit.

Ты — senior fullstack (React + Node.js + MongoDB) и UX-дизайнер в проекте KETMAR Market.

Нужно разработать отдельную, специальную ветку логики и UI для **фермерских и сезонных категорий**, чтобы интерфейс был максимально понятный для обычных людей: фермеров, бабушек, ремесленников.

Цель: сделать подачу фермерских товаров максимально простой, автоматизированной и быстрой.

========================================
1. СОЗДАЙ СПЕЦИАЛЬНЫЙ БЛОК КАТЕГОРИЙ:
========================================

Root: **Фермерский рынок**  
Внутри должны быть подкатегории:

- Овощи
- Фрукты
- Ягоды
- Зелень
- Картофель
- Домашняя консервация (варенье, соленья, компоты)
- Мёд и пчелопродукция
- Молочка и яйца
- Мясо, птица, рыба
- Растения и рассада
- Сено, зерно, корма
- Сезонные товары (смотри ниже)
- Фермерское «Прочее» (isOther = true)

Добавь флаг `isSeasonal` для категорий, относящихся к праздникам.

========================================
2. СЕЗОННЫЕ ПОДКАТЕГОРИИ (ВКЛЮЧАЮТСЯ ДИНАМИЧНО)
========================================

В категории «Сезонные товары» автоматически добавлять:

- Ярмарка 14 февраля (цветы, подарки)
- Ярмарка 8 марта (тюльпаны, мимозы, букеты)
- Пасха (куличи, яйца, декор)
- Урожайная ярмарка (овощи/фрукты, собранные в сезон)
- Новогодняя ярмарка (ёлки, игрушки, подарки)

Фронт должен подхватывать:
- если сегодня 10 февраля → показывать только актуальную.
- если 15 сентября → показываем "Урожайная".

Системный флаг:
```ts
interface Category {
  isSeasonal?: boolean;
  seasonStart?: Date;
  seasonEnd?: Date;
}


Скрывать/показывать по дате.

========================================
3. АВТО-РАСПОЗНАВАНИЕ КАТЕГОРИИ ПО ТЕКСТУ

Если пользователь пишет, например:

"Клубника свежая"

"Укроп домашний"

"Тюльпаны 8 марта"

"Картошка молодая"

"Рассада помидоров"

"Мёд липовый"

"Домашние яйца"

"Мороженая малина"

"Филе индейки"

Ты должен автоматически подставить:

"Клубника" → Ягоды

"Укроп" → Зелень

"Тюльпаны" → Сезонное (если февраль-март)

"Картошка" → Картофель

"Рассада" → Растения и рассада

"Мёд" → Мёд и пчелопродукция

"Яйца" → Молочка и яйца

"Индейка" → Мясо/птица

Уверенность ≥ 0.5 → ставим категорию автоматически, но с возможностью изменить.

Если уверенность < 0.5 → открываем плиточный выбор категорий «фермерки».

Список словарь → сформируй как JSON-массив внутри кода.

========================================
4. ОСОБЫЙ UX "ФЕРМЕРСКАЯ ПОДАЧА"

Когда пользователь выбрал категорию «Фермерский рынок»:

Сделай отдельный UI-вариант создания объявления:

Первый шаг:

Большие плитки:

Овощи

Фрукты

Ягоды

Зелень

Молочка

Яйца

Мясо/рыба

Рассада

Консервация

Сезонное (если активно)

Прочее

Фото — опционально, с кнопкой «Пропустить»

Цена — можно:

за 1 кг

за штуку

за банку

за литр

за упаковку

Авто-конвертация единиц измерения:

1 кг = 1000 г

цена за кг → рассчитать за 500 г (отображать снизу)

"мешок картошки 25 кг" → автоматически подсказка: «Хотите рассчитать цену за кг?»

Геолокация:

Если категория фермерская → показать:

«Продажа с собственной фермы»

«Привезу к дому» (чекбокс)

«Место сбора/поле» (указать точку)

Сделать PIN на карте в фирменном голубом цвете.

========================================
5. УПРОЩЁННАЯ ПОДАЧА ДЛЯ БАБУШЕК

Добавить режим:
«Быстрая подача» (в 1 шаг)

Поля:

Фото (опционально)

Что продаёте? (text)

Цена

Вес/кол-во

Кнопка «Опубликовать»

Алгоритм:

категория определяется текстом,

если не смогли → кладём в фермерское «Прочее»,

администратор может перенести вручную.

========================================
6. UX ПОКУПАТЕЛЯ: ФИЛЬТРЫ ПО ФЕРМЕРСКИМ ТОВАРАМ

В фермерской ленте фильтры должны быть особые:

Фильтр по радиусу (1 км, 3 км, 5 км, 10 км)

Фильтр по сезонным группам

Фильтр по типу товара:

всё

овощи

фрукты

ягоды

зелень

молочка

мёд

мясо

рассада

Сортировка:

ближайшие

дешевле

свежее (новые объявления)

========================================
7. АВТОПОДСКАЗКА НА ГЛАВНОЙ (ТОЛЬКО ДЛЯ ФЕРМЕРОВ)

Если категория фермерская → на главной ленте показывать:

Статус «Ваши ближайшие фермеры в радиусе 3 км»

Карусель:

Ягоды в сезон

Овощи рядом

Мёд и продукты пчеловодства

Свежая зелень

Рассада сезона

========================================
8. БЭКЕНД: ФЛАГИ ДЛЯ ФЕРМЕРСКИХ КАТЕГОРИЙ

Добавить в модель Category:

isFarmerCategory: boolean;
unitTypes?: string[]; // ['kg', 'piece', 'liter', 'pack']
defaultUnit?: string;
isSeasonal?: boolean;
seasonStart?: Date;
seasonEnd?: Date;


Если isFarmerCategory = true → применять особый UX.

========================================
9. ИТОГИ РЕАЛИЗАЦИИ:

Нужно:

Создать специальную фермерскую структуру категорий.

Реализовать автораспознавание по ключевым словам.

Ввести сезонные категории с автоматической активацией.

Сделать отдельный UX мастера для фермеров (плиточный, крупный текст, большие кнопки).

Добавить единицы измерения (кг, литр, штука, банка).

Упрощённую "Быструю подачу".

Специальные фильтры и ленту для фермерских товаров.

Проследи, чтобы код был чистый, устойчивый, и чтобы фронт и бэк были согласованы во всех форматах.