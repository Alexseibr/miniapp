PROMPT ДЛЯ REPLIT / CODEX

Тема: Глобальный фикс скролла — статический верх и низ во всех вкладках

Ты — Senior Frontend-разработчик (React / React + Telegram WebApp).
Нужно во всех основных экранах/вкладках мини-аппа привести layout к единому принципу:

верхняя панель (header/шторка с заголовком, фильтрами и т.п.) — ВСЕГДА статична,

нижняя навигация (BottomTabs / нижняя лента) — ВСЕГДА статична,

скроллится только центральный контент (список объявлений, карточки, формы),

скролл не должен сворачивать/закрывать приложение в Telegram (никакого прокрута body).

1. Экраны, к которым нужно применить правки

Приведи к единому поведению такие экраны (названия адаптируй к реальным компонентам проекта):

Мои объявления

Верхняя часть:

заголовок: “Мои объявления”

кнопка “Создать”

вкладки/фильтры: “Активные / Архив / Все” (или аналог).

Эти элементы должны быть фиксированы.

Избранное

Верхняя часть:

заголовок: “Избранное”

фильтр/переключатель “по расстоянию / по дате / …”.

Всё это — фиксировано сверху, скроллятся только сами объявления.

Профиль

Верхняя часть:

информация о профиле: аватар, имя, роль (SuperAdmin / Продавец / Покупатель),

кнопки типа “Редактировать профиль”, “Мой магазин” и т.п.

Фиксируем эту шапку, скролл только ниже (мои объявления, настройки, история и т.д.).

Фермерский рынок / Группа товаров

Верхняя часть:

стрелка “назад”,

заголовок: “Фермерский рынок” (или название группы),

информация про радиус: “300 м / 500 м / 5 км / 10 км”,

кнопки “Фильтр”, “Сортировка”.

Всё это должно быть статично сверху.

Список объявлений в фермерском рынке должен скроллиться внутри центрального контейнера, без сдвига верхней части.

Любые другие экраны, где сейчас:

при скролле двигается весь экран,

или сворачивается Telegram WebApp.

2. Общий layout: AppShell с тремя зонами

Сделай единый подход: каждый экран, у которого есть “верхняя шторка + контент + нижняя навигация”, должен использовать layout:

Header (фиксированный)

Content (скроллируемый)

BottomNav (фиксированный)

Псевдокод (адаптируй под существующий Layout/компоненты):

export const ScreenLayout = ({ header, children }: { header: ReactNode; children: ReactNode }) => {
  return (
    <div className="app-screen-root">
      <header className="app-screen-header">
        {header}
      </header>

      <main className="app-screen-content-scroll">
        {children}
      </main>

      <footer className="app-bottom-nav">
        <BottomTabs /> {/* глобальные нижние табы */}
      </footer>
    </div>
  );
};


Дальше каждый экран:

export const MyAdsScreen = () => {
  const header = (
    <div>
      {/* заголовок “Мои объявления”, кнопка “Создать”, вкладки Активные/Архив/... */}
    </div>
  );

  return (
    <ScreenLayout header={header}>
      {/* тут только список объявлений, который будет скроллиться */}
    </ScreenLayout>
  );
};


То же самое для:

FavoritesScreen

ProfileScreen

FarmerMarketScreen / CategoryScreen

и других нужных экранов.

3. CSS / стили: фиксируем верх и низ, скроллим центр

Сделай общие стили (адаптируй под CSS/Tailwind/styled-components, но суть такая):

.app-screen-root {
  display: flex;
  flex-direction: column;
  height: 100vh;       /* или высота из Telegram WebApp viewport, если есть */
  overflow: hidden;    /* запретить скролл для всего контейнера */
}

.app-screen-header {
  flex: 0 0 auto;
  /* фон, тень, z-index при необходимости */
}

.app-bottom-nav {
  flex: 0 0 auto;
}

.app-screen-content-scroll {
  flex: 1 1 auto;
  overflow-y: auto;               /* скроллим только контент */
  -webkit-overflow-scrolling: touch;
}


Ключевое:

НЕ использовать overflow-y: auto на body / html / глобальном контейнере,

скролл должен быть только у .app-screen-content-scroll.

4. Глобально: запретить скролл body (чтобы не сворачивался WebApp)

Чтобы Telegram MiniApp не сворачивался при свайпах:

В глобальных стилях:

html, body {
  margin: 0;
  padding: 0;
  overflow: hidden;   /* никаких глобальных скроллов */
  height: 100%;
}


Если используется общий корневой контейнер для миниаппа (например, #root, AppRoot, TelegramAppRoot), он тоже должен:

#root {
  height: 100%;
}


и далее все экраны через height: 100vh / 100% внутри.

5. Примеры применения к конкретным экранам
5.1. Мои объявления

Header:

блок с:

“Мои объявления”

кнопка “Создать”

вкладки: “Активные / Архив / Все”.

Content:

список объявлений.

Скроллишь → двигается только список, шапка и нижняя лента на месте.

5.2. Избранное

Header:

заголовок: “Избранное”

фильтры: “по расстоянию / по дате / по цене”.

Content:

список избранных объявлений.

5.3. Профиль

Header:

аватар, имя,

роль: “SuperAdmin / Продавец / Покупатель”,

кнопка “Редактировать профиль / Мой магазин”.

Content:

мои объявления,

настройки,

другие блоки профиля.

5.4. Фермерский рынок / группа товаров

Header:

стрелка “Назад”,

заголовок: “Фермерский рынок” / “Овощи и фрукты”,

подпись про радиус: “300 м / 500 м / 5 км / 10 км” (селектор),

“Фильтр” / “Сортировка” кнопки.

Content:

список объявлений фермеров.

При скролле не должен уезжать ни заголовок, ни радиусы, ни фильтры.

6. Проверки после внедрения

После правок проверь:

На каждом из экранов:

верхняя панель не уезжает при скролле,

нижняя навигация всегда на месте.

При долгом скролле:

не сворачивается Telegram WebApp,

нет “отскока” всей страницы.

Переключение вкладок внутри табов (Мои объявления: Активные/Архив, и т.п.):

не ломает layout,

не дергает нижнюю навигацию,

не выбрасывает из миниаппа.

Сделай всё описанное выше:
введи общий layout с фиксированным верхом и низом для всех экранов (Мои объявления, Избранное, Профиль, Фермерский рынок и т.д.), запрети глобальный скролл body и оставь прокрутку только внутри центрального контента, чтобы приложение перестало сворачиваться при скролле и все верхние панели/фильтры всегда оставались статичными.