PROMPT –î–õ–Ø REPLIT / CODEX

–ó–∞–¥–∞—á–∞:
–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –º–æ–¥—É–ª—å 
üî• MEGA-PROMPT 14.0 ‚Äî ¬´Digital Twin –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è¬ª  
= AI-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç –ø–æ–∫—É–ø–∞—Ç–µ–ª—è –≤–Ω—É—Ç—Ä–∏ KETMAR Market:

- –ø–æ–Ω–∏–º–∞–µ—Ç, —á—Ç–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ª—é–±–∏—Ç –∏ –∏—â–µ—Ç,
- –∑–∞–ø–æ–º–∏–Ω–∞–µ—Ç –µ–≥–æ –∏–Ω—Ç–µ—Ä–µ—Å—ã (–≤–µ–ª–æ—Å–∏–ø–µ–¥, –º–∞–ª–∏–Ω–∞, –∫–≤–∞—Ä—Ç–∏—Ä—ã, —Ç–µ—Ö–Ω–∏–∫–∞),
- —Å–ª–µ–¥–∏—Ç –∑–∞ —Ü–µ–Ω–∞–º–∏ –∏ –Ω–æ–≤—ã–º–∏ –æ–±—ä—è–≤–ª–µ–Ω–∏—è–º–∏,
- —Å—Ä–∞–≤–Ω–∏–≤–∞–µ—Ç —Ü–µ–Ω—ã ¬´–≥–¥–µ –¥–µ—à–µ–≤–ª–µ¬ª,
- –∑–Ω–∞–µ—Ç, —á—Ç–æ –ø–æ—è–≤–∏–ª–æ—Å—å —Ä—è–¥–æ–º –≤ –Ω—É–∂–Ω–æ–º —Ä–∞–¥–∏—É—Å–µ,
- –ø–æ–¥—Å–∫–∞–∑—ã–≤–∞–µ—Ç: ¬´–ø–æ–¥–æ–∂–¥–∏ / –±–µ—Ä–∏ —Å–µ–π—á–∞—Å / —Å—Ç–∞–ª–æ –¥–µ—à–µ–≤–ª–µ / –ø–æ—è–≤–∏–ª–æ—Å—å —Ä—è–¥–æ–º¬ª.

–ú–æ–¥—É–ª—å —Å—Ç—Ä–æ–∏—Ç—Å—è –ø–æ–≤–µ—Ä—Ö:

- User / SellerProfile / Ad
- GeoEngine / HotspotEngine / SeasonalInsight
- AI Engine (MEGA-PROMPT 12.0)
- Analytics (–ø—Ä–æ—Å–º–æ—Ç—Ä—ã, –ø–æ–∏—Å–∫–∏, –∏–∑–±—Ä–∞–Ω–Ω–æ–µ)
- NotificationEngine (–ø—É—à–∏ / —Ç–µ–ª–µ–≥—Ä–∞–º / sms)
- RecommendationService

====================================================================
0. –ö–û–ù–¶–ï–ü–¢: DIGITAL TWIN
====================================================================

Digital Twin –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è ‚Äî —ç—Ç–æ:

- –Ω–µ –ø—Ä–æ—Å—Ç–æ —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—ã–µ —Ñ–∏–ª—å—Ç—Ä—ã,
- –Ω–µ —Ç–æ–ª—å–∫–æ –∏–∑–±—Ä–∞–Ω–Ω–æ–µ,
- –∞ ¬´–º–æ–∑–≥¬ª, –∫–æ—Ç–æ—Ä—ã–π:

1) –õ–æ–≥–∏—Ä—É–µ—Ç, —á—Ç–æ —á–µ–ª–æ–≤–µ–∫ —Å–º–æ—Ç—Ä–∏—Ç / –∏—â–µ—Ç / –ª–∞–π–∫–∞–µ—Ç / –ø–æ–∫—É–ø–∞–µ—Ç;
2) –°—Ç—Ä–æ–∏—Ç –ø—Ä–æ—Ñ–∏–ª—å –∏–Ω—Ç–µ—Ä–µ—Å–æ–≤;
3) –•—Ä–∞–Ω–∏—Ç ¬´—Ö–æ—Ç–µ–ª–∫–∏¬ª (–≤–µ–ª–æ—Å–∏–ø–µ–¥, –≤—ã–ø–µ—á–∫–∞, –º–∞–ª–∏–Ω–∞, –∫–≤–∞—Ä—Ç–∏—Ä–∞ –∏ —Ç.–¥.);
4) –°—Ä–∞–≤–Ω–∏–≤–∞–µ—Ç —Ç–µ–∫—É—â–∏–µ —Ü–µ–Ω—ã –∏ —É—Å–ª–æ–≤–∏—è —Å —Ä—ã–Ω–∫–æ–º;
5) –†–µ—à–∞–µ—Ç, –∫–æ–≥–¥–∞ —É–≤–µ–¥–æ–º–∏—Ç—å:
   - –ø–æ—è–≤–∏–ª–æ—Å—å —Ä—è–¥–æ–º,
   - —Å—Ç–∞–ª–æ –¥–µ—à–µ–≤–ª–µ,
   - –ø–æ—è–≤–∏–ª—Å—è –Ω—É–∂–Ω—ã–π —Ç–∏–ø —Ç–æ–≤–∞—Ä–∞,
   - –ø–æ—è–≤–∏–ª—Å—è —Ñ–µ—Ä–º–µ—Ä —Ä—è–¥–æ–º, –∫–æ—Ç–æ—Ä–æ–≥–æ –æ–Ω –∏—Å–∫–∞–ª;
6) –ú–æ–∂–µ—Ç –æ—Ç–≤–µ—á–∞—Ç—å –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã –≤ —Å—Ç–∏–ª–µ:
   - ¬´—á—Ç–æ –µ—Å—Ç—å —Ä—è–¥–æ–º –≤–∫—É—Å–Ω–æ–µ?¬ª
   - ¬´–≥–¥–µ –¥–µ—à–µ–≤–ª–µ –∞–π—Ñ–æ–Ω 13 –¥–æ 1000 —Ä—É–±–ª–µ–π –≤ 5 –∫–º –æ—Ç –º–µ–Ω—è?¬ª
   - ¬´–Ω–∞–ø–æ–º–Ω–∏, –∫–æ–≥–¥–∞ –ø–æ—è–≤–∏—Ç—Å—è —Å–≤–µ–∂–∞—è –º–∞–ª–∏–Ω–∞ –≤ –º–æ—ë–º —Ä–∞–π–æ–Ω–µ¬ª.

====================================================================
1. BACKEND ‚Äî –ú–û–î–ï–õ–¨ DIGITAL TWIN
====================================================================

–°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é —Å—É—â–Ω–æ—Å—Ç—å:

`/backend/src/models/UserTwin.ts`

```ts
interface UserTwin {
  userId: ObjectId; // User

  // –ü—Ä–æ—Ñ–∏–ª—å –∏–Ω—Ç–µ—Ä–µ—Å–æ–≤
  interests: {
    categoryId?: ObjectId;
    query?: string;          // "–≤–µ–ª–æ—Å–∏–ø–µ–¥", "–≤—ã–ø–µ—á–∫–∞", "–º–∞–ª–∏–Ω–∞"
    tags?: string[];
    weight: number;          // —Å–∏–ª–∞ –∏–Ω—Ç–µ—Ä–µ—Å–∞
    lastUpdatedAt: Date;
  }[];

  // –û—Ç—Å–ª–µ–∂–∏–≤–∞–µ–º—ã–µ "–∂–µ–ª–∞–Ω–∏—è" (watchlist)
  watchItems: {
    id: ObjectId;
    createdAt: Date;

    // –û–ø–∏—Å–∞–Ω–∏–µ –∂–µ–ª–∞–Ω–∏—è
    title: string;           // "–∫—É–ø–ª—é –≤–µ–ª–æ—Å–∏–ø–µ–¥", "—Å–≤–µ–∂–µ–µ –º–æ–ª–æ–∫–æ"
    query: string;           // —Ç–µ–∫—Å—Ç–æ–≤—ã–π –∑–∞–ø—Ä–æ—Å –¥–ª—è –ø–æ–∏—Å–∫–∞
    categoryId?: ObjectId;
    tags?: string[];

    // –£—Å–ª–æ–≤–∏—è:
    maxPrice?: number;
    minPrice?: number;
    radiusKm?: number;
    onlyNearby?: boolean;

    // –ü–æ –∫–∞–∫–æ–º—É —Å–æ–±—ã—Ç–∏—é –±—É–¥–∏—Ç—å:
    notifyOnNew?: boolean;       // –ø–æ—è–≤–∏–ª–æ—Å—å –Ω–æ–≤–æ–µ –æ–±—ä—è–≤–ª–µ–Ω–∏–µ
    notifyOnPriceDrop?: boolean; // —Ü–µ–Ω–∞ —Å—Ç–∞–ª–∞ –Ω–∏–∂–µ N%
    notifyOnFirstMatch?: boolean;// –∫–æ–≥–¥–∞ –≤–ø–µ—Ä–≤—ã–µ –ø–æ—è–≤–∏–ª–æ—Å—å —á—Ç–æ-—Ç–æ –ø–æ—Ö–æ–∂–µ–µ

    // –°—Ç–∞—Ç—É—Å
    isActive: boolean;
    lastNotifiedAt?: Date;
  }[];

  // –ò—Å—Ç–æ—Ä–∏—è –ø–æ—Å–ª–µ–¥–Ω–∏—Ö –¥–µ–π—Å—Ç–≤–∏–π (–¥–ª—è –ø—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏—è)
  history: {
    type: 'search' | 'view' | 'favorite' | 'contact_click';
    query?: string;
    adId?: ObjectId;
    categoryId?: ObjectId;
    createdAt: Date;
  }[];

  // –ü—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è
  preferences: {
    maxRadiusKmDefault?: number;
    favoriteLocations?: { lat: number; lng: number; label: string }[];
    priceSensitivity?: 'low' | 'medium' | 'high'; // –≤–ª–∏—è–µ—Ç –Ω–∞ —Å–æ–≤–µ—Ç—ã "–∂–¥–∞—Ç—å/–±—Ä–∞—Ç—å"
  };

  createdAt: Date;
  updatedAt: Date;
}
–í–∞–∂–Ω–æ:

UserTwin —Å–æ–∑–¥–∞—ë—Ç—Å—è –¥–ª—è –∫–∞–∂–¥–æ–≥–æ User –ø–æ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—é (lazy),

—Ö—Ä–∞–Ω–∏—Ç –°–í–û–î–ù–£–Æ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é, –∞ –Ω–µ –≤—Å–µ —Å—ã—Ä—ã–µ —Å–æ–±—ã—Ç–∏—è (—Å—ã—Ä—ã–µ –µ—Å—Ç—å –≤ AnalyticsEvent).

====================================================================
2. BACKEND ‚Äî –°–ï–†–í–ò–° DigitalTwinService
–°–æ–∑–¥–∞—Ç—å:

/backend/src/twin/DigitalTwinService.ts

–û—Å–Ω–æ–≤–Ω—ã–µ –º–µ—Ç–æ–¥—ã:

ts
–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∫–æ–¥
class DigitalTwinService {
  // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è –∏–Ω—Ç–µ—Ä–µ—Å–æ–≤ –ø–æ —Å–æ–±—ã—Ç–∏—è–º
  trackEvent(userId, event: AnalyticsEvent): Promise<void>;

  // –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∂–µ–ª–∞–Ω–∏—è ("—Ö–æ—á—É –≤–µ–ª–æ—Å–∏–ø–µ–¥")
  addWatchItem(userId, payload): Promise<WatchItem>;

  // –û—Ç–∫–ª—é—á–∏—Ç—å / –≤–∫–ª—é—á–∏—Ç—å –∂–µ–ª–∞–Ω–∏–µ
  toggleWatchItem(userId, watchItemId, isActive: boolean): Promise<void>;

  // –ü–æ–ª—É—á–∏—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Ç–≤–∏–Ω–∞
  getTwin(userId): Promise<UserTwin>;

  // –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å AI-—Ä–µ–∑—é–º–µ –∏–Ω—Ç–µ—Ä–µ—Å–æ–≤
  getAISummary(userId): Promise<string>;

  // –ü–æ–ª—É—á–∏—Ç—å –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è "—á—Ç–æ –∫—É–ø–∏—Ç—å —Å–µ–π—á–∞—Å"
  getSuggestions(userId, geo): Promise<AdSuggestion[]>;

  // –û–±—Ä–∞–±–æ—Ç–∞—Ç—å –Ω–æ–≤—ã–π Ad (–¥–ª—è —Ç—Ä–∏–≥–≥–µ—Ä–æ–≤: –ø–æ—è–≤–∏–ª—Å—è —Ç–æ–≤–∞—Ä)
  handleNewAd(ad: Ad): Promise<void>;

  // –û–±—Ä–∞–±–æ—Ç–∞—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Ü–µ–Ω—ã Ad
  handlePriceChange(adBefore: Ad, adAfter: Ad): Promise<void>;
}
–ì–¥–µ:

trackEvent:

–ø–æ–ª—É—á–∞–µ—Ç —Å–æ–±—ã—Ç–∏—è (–ø—Ä–æ—Å–º–æ—Ç—Ä, –ø–æ–∏—Å–∫, –∏–∑–±—Ä–∞–Ω–Ω–æ–µ),

—É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç –≤–µ—Å –∏–Ω—Ç–µ—Ä–µ—Å–∞ –ø–æ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏/–∑–∞–ø—Ä–æ—Å—É,

–¥–æ–±–∞–≤–ª—è–µ—Ç –≤ history.

addWatchItem:

–∏–∑ user UI: ¬´—Ö–æ—á—É –∫—É–ø–∏—Ç—å –≤–µ–ª–æ—Å–∏–ø–µ–¥ –¥–æ 300 —Ä—É–± –≤ —Ä–∞–¥–∏—É—Å–µ 5 –∫–º¬ª,

—Å–æ–∑–¥–∞—ë—Ç watchItem.

handleNewAd:

–≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –Ω–æ–≤–æ–≥–æ –æ–±—ä—è–≤–ª–µ–Ω–∏—è,

–∏—â–µ—Ç –≤ –±–∞–∑–µ UserTwin –≤—Å–µ—Ö, —É –∫–æ–≥–æ –∞–∫—Ç–∏–≤–Ω—ã–µ watchItems,

–¥–ª—è –∫–æ—Ç–æ—Ä—ã—Ö —ç—Ç–æ—Ç Ad –ø–æ–¥—Ö–æ–¥–∏—Ç –ø–æ —É—Å–ª–æ–≤–∏—è–º (–∫–∞—Ç–µ–≥–æ—Ä–∏—è, query, —Ü–µ–Ω–∞, –≥–µ–æ),

–æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è —á–µ—Ä–µ–∑ NotificationEngine.

handlePriceChange:

–µ—Å–ª–∏ —Ü–µ–Ω–∞ —É–ø–∞–ª–∞ ‚Üí —É–≤–µ–¥–æ–º–∏—Ç—å —Ç–µ—Ö, –∫—Ç–æ —Å–º–æ—Ç—Ä–µ–ª / –¥–æ–±–∞–≤–ª—è–ª –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–µ / –∏–º–µ–µ—Ç watchItem –ø–æ —ç—Ç–æ–º—É —Ç–æ–≤–∞—Ä—É –∏–ª–∏ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏.

====================================================================
3. –ê–õ–ì–û–†–ò–¢–ú –°–û–û–¢–í–ï–¢–°–¢–í–ò–Ø (MATCHING)
–î–ª—è –∫–∞–∂–¥–æ–≥–æ watchItem:

—Å–æ–ø–æ—Å—Ç–∞–≤–∏—Ç—å —Å –Ω–æ–≤—ã–º Ad –ø–æ:

–∫–∞—Ç–µ–≥–æ—Ä–∏–∏ (—Ç–æ—á–Ω—ã–π –º–∞—Ç—á –∏–ª–∏ –±–ª–∏–∑–∫–∞—è –∫–∞—Ç–µ–≥–æ—Ä–∏—è),

—Ç–µ–∫—Å—Ç—É –∑–∞–≥–æ–ª–æ–≤–∫–∞ + –æ–ø–∏—Å–∞–Ω–∏—è (query ‚Üí semantic search),

—Ç–µ–≥–∞–º,

—Ü–µ–Ω–µ (maxPrice / minPrice),

–≥–µ–æ (radiusKm, onlyNearby ‚Üí –ø—Ä–æ–≤–µ—Ä—è—Ç—å —á–µ—Ä–µ–∑ GeoEngine),

—Å—Ç–∞—Ç—É—Å—É (–∞–∫—Ç–∏–≤–Ω–æ / –Ω–µ–∞–∫—Ç–∏–≤–Ω–æ).

–†–µ–∑—É–ª—å—Ç–∞—Ç: —Å–ø–∏—Å–æ–∫ (userId, watchItemId, adId) –¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π.

====================================================================
4. BACKEND ‚Äî API –î–õ–Ø DIGITAL TWIN
–î–æ–±–∞–≤–∏—Ç—å –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä:

/api/twin/*

4.1. –ü–æ–ª—É—á–∏—Ç—å twin
GET /api/twin/me

–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:

interests,

watchItems,

preferences,

aiSummary (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ –¥–æ–±–∞–≤–ª—è—Ç—å —á–µ—Ä–µ–∑ ?withSummary=true).

4.2. –î–æ–±–∞–≤–∏—Ç—å watchItem
POST /api/twin/watch-items

body:

title

query

categoryId?

maxPrice?

minPrice?

radiusKm?

onlyNearby?

notifyOnNew?

notifyOnPriceDrop?

notifyOnFirstMatch?

4.3. –í–∫–ª—é—á–∏—Ç—å/–≤—ã–∫–ª—é—á–∏—Ç—å watchItem
PATCH /api/twin/watch-items/:id

4.4. –£–¥–∞–ª–∏—Ç—å watchItem
DELETE /api/twin/watch-items/:id

4.5. –ü–æ–ª—É—á–∏—Ç—å —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ AI "—á—Ç–æ –∫—É–ø–∏—Ç—å"
GET /api/twin/suggestions?lat=&lng=&radiusKm=

–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:

–º–∞—Å—Å–∏–≤ —Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–Ω—ã—Ö Ad,

—Ç–µ–∫—Å—Ç–æ–≤—ã–µ –ø–æ–¥—Å–∫–∞–∑–∫–∏ AI:

¬´—Å–µ–π—á–∞—Å –≤—ã–≥–æ–¥–Ω—ã–µ —Ü–µ–Ω—ã –Ω–∞ ___¬ª

¬´–ø–æ–¥–æ–∂–¥–∏, —Ü–µ–Ω—ã —Ä–∞—Å—Ç—É—Ç / –º–∞–ª–æ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π¬ª

====================================================================
5. FRONTEND MINIAPP ‚Äî UI DIGITAL TWIN
–°–æ–∑–¥–∞—Ç—å —ç–∫—Ä–∞–Ω:

/miniapp/src/screens/TwinScreen.tsx

–°—Ç—Ä—É–∫—Ç—É—Ä–∞:

| üß† –ú–æ–π –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç (Digital Twin) |
| –ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ: |
| ¬´–í—ã —á–∞—â–µ –≤—Å–µ–≥–æ —Å–º–æ—Ç—Ä–∏—Ç–µ: —Ç–µ–ª–µ—Ñ–æ–Ω—ã, –≤—ã–ø–µ—á–∫—É¬ª |
| ¬´–†–∞–¥–∏—É—Å –ø–æ–∏—Å–∫–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: 3 –∫–º¬ª |
| üìå –ú–æ–∏ "—Ö–æ—Ç–µ–ª–∫–∏" (watchItems) |
| - "–í–µ–ª–æ—Å–∏–ø–µ–¥ –¥–æ 300 —Ä—É–± –≤ 5 –∫–º" [–ê–∫—Ç–∏–≤–Ω–æ] |
| - "–°–≤–µ–∂–∞—è –≤—ã–ø–µ—á–∫–∞ –ø–æ —É—Ç—Ä–∞–º" [–ê–∫—Ç–∏–≤–Ω–æ] |
| - "–ö–≤–∞—Ä—Ç–∏—Ä–∞ 2–∫ –≤ —Ü–µ–Ω—Ç—Ä–µ" [–ü–∞—É–∑–∞] |
| –ö–Ω–æ–ø–∫–∞: [+ –ù–æ–≤–æ–µ –∂–µ–ª–∞–Ω–∏–µ] |
| üîî –ü–æ—Å–ª–µ–¥–Ω–∏–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ |
| - ¬´–ü–æ—è–≤–∏–ª—Å—è –≤–µ–ª–æ—Å–∏–ø–µ–¥ —Ä—è–¥–æ–º –∑–∞ 280 —Ä—É–±¬ª |
| - ¬´–°–≤–µ–∂–∞—è –≤—ã–ø–µ—á–∫–∞ 600 –º –æ—Ç –≤–∞—Å¬ª |
| - ¬´–¶–µ–Ω–∞ –Ω–∞ iPhone 12 —É–ø–∞–ª–∞ –Ω–∞ 10%¬ª |
| ‚öô –ü—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è |
| - –†–∞–¥–∏—É—Å –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é |
| - –ß—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∫ —Ü–µ–Ω–µ |
5.1. –§–ª–æ—É "–ù–æ–≤–æ–µ –∂–µ–ª–∞–Ω–∏–µ"
–ö–Ω–æ–ø–∫–∞ [+ –ù–æ–≤–æ–µ –∂–µ–ª–∞–Ω–∏–µ]:

–§–æ—Ä–º–∞:

–ß—Ç–æ –∏—â–µ–º? (input: "–≤–µ–ª–æ—Å–∏–ø–µ–¥", "–º–∞–ª–∏–Ω–∞", "–∫–≤–∞—Ä—Ç–∏—Ä–∞")

–ë—é–¥–∂–µ—Ç (–º–∏–Ω/–º–∞–∫—Å)

–†–∞–¥–∏—É—Å (—Å–µ–ª–µ–∫—Ç–æ—Ä 1/3/5/10 –∫–º)

–ì–∞–ª–æ—á–∫–∏:

 –û–ø–æ–≤–µ—â–∞—Ç—å, –∫–æ–≥–¥–∞ –ø–æ—è–≤–∏—Ç—Å—è

 –û–ø–æ–≤–µ—â–∞—Ç—å –ø—Ä–∏ —Å–Ω–∏–∂–µ–Ω–∏–∏ —Ü–µ–Ω—ã

–ü—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏ ‚Üí POST /api/twin/watch-items.

5.2. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –ø–æ–∏—Å–∫–æ–º
–ù–∞ —ç–∫—Ä–∞–Ω–µ –ø–æ–∏—Å–∫–∞, –µ—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∏—á–µ–≥–æ –Ω–µ –Ω–∞—à—ë–ª:

–ø–æ–∫–∞–∑—ã–≤–∞–µ–º:

¬´–°–æ–∑–¥–∞—Ç—å –∑–∞–ø—Ä–æ—Å-–Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ?¬ª

‚Üí –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞—ë–º watchItem.

–ü—Ä–∏ —É—Å–ø–µ—à–Ω–æ–º –ø–æ–∏—Å–∫–µ:

–∫–Ω–æ–ø–∫—É ¬´–°–ª–µ–¥–∏—Ç—å –∑–∞ —ç—Ç–∏–º –∑–∞–ø—Ä–æ—Å–æ–º¬ª

—Å–æ–∑–¥–∞—ë—Ç watchItem –ø–æ —Ç–µ–∫—É—â–∏–º —Ñ–∏–ª—å—Ç—Ä–∞–º.

====================================================================
6. –£–í–ï–î–û–ú–õ–ï–ù–ò–Ø –î–õ–Ø DIGITAL TWIN
–í NotificationEngine:

–î–æ–±–∞–≤–∏—Ç—å:

notifyTwinNewMatch(userId, watchItem, ad)

¬´–ü–æ—è–≤–∏–ª—Å—è –Ω–æ–≤—ã–π —Ç–æ–≤–∞—Ä –ø–æ –≤–∞—à–µ–º—É –∑–∞–ø—Ä–æ—Å—É ‚Äú–≤–µ–ª–æ—Å–∏–ø–µ–¥ –¥–æ 300 —Ä—É–±‚Äù¬ª

notifyTwinPriceDrop(userId, ad, diffPercent)

¬´–¶–µ–Ω–∞ –Ω–∞ —Ç–æ–≤–∞—Ä, –∫–æ—Ç–æ—Ä—ã–π –≤—ã —Å–º–æ—Ç—Ä–µ–ª–∏, —É–ø–∞–ª–∞ –Ω–∞ 12%¬ª

–ö–∞–Ω–∞–ª—ã:

Telegram (–µ—Å–ª–∏ –µ—Å—Ç—å —Å–≤—è–∑–∫–∞),

Mobile push (–µ—Å–ª–∏ —á–µ—Ä–µ–∑ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ),

fallback ‚Äî –º–æ–∂–Ω–æ –ø—Ä–µ–¥—É—Å–º–æ—Ç—Ä–µ—Ç—å SMS (–Ω–æ –Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤—ã–≤–∞—Ç—å –≥–ª—É–±–æ–∫–æ).

====================================================================
7. AI-–ß–ê–¢ –ê–°–°–ò–°–¢–ï–ù–¢ –í–ù–£–¢–†–ò MINIAPP (BASIC)
–°–¥–µ–ª–∞—Ç—å –æ—á–µ–Ω—å –ø—Ä–æ—Å—Ç–æ–π —á–∞—Ç:

/miniapp/src/screens/TwinChatScreen.tsx

–ì–¥–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –ø–∏—Å–∞—Ç—å:

¬´–ù–∞–ø–æ–º–Ω–∏, –∫–æ–≥–¥–∞ –ø–æ—è–≤–∏—Ç—Å—è —Å–≤–µ–∂–∞—è –º–∞–ª–∏–Ω–∞ —Ä—è–¥–æ–º¬ª

¬´–ì–¥–µ —Å–µ–π—á–∞—Å –¥–µ—à–µ–≤–ª–µ –∞–π—Ñ–æ–Ω 13 –≤ 5 –∫–º –æ—Ç –º–µ–Ω—è?¬ª

¬´–ü–æ–∫–∞–∂–∏ –≤–µ–ª–æ—Å–∏–ø–µ–¥—ã –¥–æ 300 —Ä—É–±–ª–µ–π¬ª

–†–∞–±–æ—Ç–∞:

UI ‚Üí /api/ai/twin-chat (–º–æ–∂–Ω–æ –ø–æ–∫–∞ stub),

backend –≤—ã–∑—ã–≤–∞–µ—Ç:

AiEngine.aiIntentSearch(query),

DigitalTwinService.addWatchItem / getSuggestions / aiSearch

–û—Ç–≤–µ—Ç ‚Äî —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π:

—Å–ø–∏—Å–æ–∫ –æ–±—ä—è–≤–ª–µ–Ω–∏–π (–∫–∞—Ä—Ç–æ—á–∫–∏),

–ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ ¬´—Å–æ–∑–¥–∞—Ç—å –∂–µ–ª–∞–Ω–∏–µ¬ª (watchItem),

–ø–æ–¥—Å–∫–∞–∑–∫–∏.

–ü–æ–∫–∞ –º–æ–∂–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å backend –∫–∞–∫ –ø—Ä–æ—Å—Ç—É—é –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—é –±–µ–∑ —Ä–µ–∞–ª—å–Ω–æ–≥–æ LLM, –Ω–æ —Å–¥–µ–ª–∞—Ç—å –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É –≥–æ—Ç–æ–≤–æ–π –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è ChatGPT / –¥—Ä—É–≥–æ–≥–æ AI.

====================================================================
8. –ò–ù–¢–ï–ì–†–ê–¶–ò–Ø –° GEOENGINE
DigitalTwinService –¥–æ–ª–∂–µ–Ω:

—É—á–∏—Ç—ã–≤–∞—Ç—å —Ç–µ–∫—É—â—É—é –≥–µ–æ–ø–æ–∑–∏—Ü–∏—é (lat/lng),

–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å GeoEngine:

–¥–ª—è –æ—Ç–±–æ—Ä–∞ —Ç–æ–≤–∞—Ä–æ–≤ —Ä—è–¥–æ–º,

–¥–ª—è radius —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π,

–¥–ª—è –ø–æ–Ω–∏–º–∞–Ω–∏—è, –≤ –∫–∞–∫–∏—Ö —Ä–∞–π–æ–Ω–∞—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –±—ã–≤–∞–µ—Ç (–ø–æ —Å–æ–±—ã—Ç–∏—è–º).

–í preferences.favoriteLocations –º–æ–∂–Ω–æ —Ö—Ä–∞–Ω–∏—Ç—å:

–¥–æ–º,

—Ä–∞–±–æ—Ç–∞,

–¥–∞—á–∞.

====================================================================
9. –ù–ï –õ–û–ú–ê–ï–ú –°–£–©–ï–°–¢–í–£–Æ–©–ò–ô –§–£–ù–ö–¶–ò–û–ù–ê–õ
–í–∞–∂–Ω–æ:

–ò–∑–±—Ä–∞–Ω–Ω–æ–µ (favorites) –æ—Å—Ç–∞—ë—Ç—Å—è, –∫–∞–∫ –µ—Å—Ç—å

–ü–æ–∏—Å–∫ / —Ñ–∏–ª—å—Ç—Ä—ã, –∫–∞–∫ –µ—Å—Ç—å

–ö–æ–¥ Digital Twin ‚Äî –ù–ê–î–°–¢–†–û–ô–ö–ê:

—á–∏—Ç–∞–µ—Ç —Å–æ–±—ã—Ç–∏—è (–ø—Ä–æ—Å–º–æ—Ç—Ä—ã, –∏–∑–±—Ä–∞–Ω–Ω–æ–µ, –ø–æ–∏—Å–∫–∏),

–æ–ø–∏—Ä–∞–µ—Ç—Å—è –Ω–∞ —É–∂–µ —Å–¥–µ–ª–∞–Ω–Ω—ã–µ –º–æ–¥—É–ª–∏ (AI, Geo, Analytics),

–¥–æ–±–∞–≤–ª—è–µ—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π —É—Ä–æ–≤–µ–Ω—å —Å–µ—Ä–≤–∏—Å–∞ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.

====================================================================
10. –ö–û–î –ò –¢–ï–•–ù–ò–ß–ï–°–ö–ò–ï –¢–†–ï–ë–û–í–ê–ù–ò–Ø
–í—Å—ë –ø–∏—Å–∞—Ç—å –Ω–∞ TypeScript.

Backend: Node.js + Express / Nest-style —Å—Ç—Ä—É–∫—Ç—É—Ä—ã (–∫–∞–∫ —É–∂–µ —Å–¥–µ–ª–∞–Ω–æ –≤ –ø—Ä–æ–µ–∫—Ç–µ).

Frontend MiniApp: React + TS (–≤–ø–∏—Å–∞—Ç—å –≤ —Ç–µ–∫—É—â–∏–π —Ä–æ—É—Ç–µ—Ä, UI-—Å—Ç–∞–Ω–¥–∞—Ä—Ç).

–°–æ–±–ª—é–¥–∞—Ç—å —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã –∫–æ–¥–∞ (DTO, middleware, auth).

–ù–µ —É–¥–∞–ª—è—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –∫–æ–¥, —Ç–æ–ª—å–∫–æ —Ä–∞—Å—à–∏—Ä—è—Ç—å.

====================================================================
–†–ï–ó–Æ–ú–ï
–ù—É–∂–Ω–æ:

–ú–æ–¥–µ–ª—å UserTwin.

–°–µ—Ä–≤–∏—Å DigitalTwinService (–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–Ω—Ç–µ—Ä–µ—Å–æ–≤, watchItems, –æ–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–æ–≤—ã—Ö –æ–±—ä—è–≤–ª–µ–Ω–∏–π).

API –¥–ª—è Twin (–ø–æ–ª—É—á–µ–Ω–∏–µ, —Å–æ–∑–¥–∞–Ω–∏–µ watchItems, —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏).

–≠–∫—Ä–∞–Ω Digital Twin –≤ MiniApp (–ú–æ–∏ —Ö–æ—Ç—ë–ª–∫–∏ + —Å–æ–≤–µ—Ç—ã).

–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –ø–æ–∏—Å–∫–æ–º (—Å–æ–∑–¥–∞–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–æ–≤ –ø–æ –Ω—É–ª–µ–≤–æ–π –≤—ã–¥–∞—á–µ).

–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –ø—Ä–∏ –ø–æ—è–≤–ª–µ–Ω–∏–∏ –Ω–æ–≤—ã—Ö —Ç–æ–≤–∞—Ä–æ–≤ –∏ –ø–∞–¥–µ–Ω–∏–∏ —Ü–µ–Ω.

–ü—Ä–æ—Å—Ç–∞—è –∑–∞–≥–æ—Ç–æ–≤–∫–∞ AI-—á–∞—Ç–∞ (TwinChatScreen + /api/ai/twin-chat).

–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å GeoEngine –∏ AI Engine.

Digital Twin –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –¥–æ–ª–∂–µ–Ω —Å—Ç–∞—Ç—å –º–æ–∑–≥–æ–º, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–º–æ–≥–∞–µ—Ç –ø–æ–∫—É–ø–∞—Ç—å:
—á—Ç–æ, –≥–¥–µ, –∫–æ–≥–¥–∞, –ø–æ –∫–∞–∫–æ–π —Ü–µ–Ω–µ –∏ –≤ –∫–∞–∫–æ–º —Ä–∞–¥–∏—É—Å–µ.