ПРОМТ ДЛЯ REPLIT: ПОЧИНИТЬ СКРОЛЛ ГЛАВНОЙ + ПОКАЗ РАЙОНА У ТОВАРОВ

Ты — senior React / Frontend разработчик.
Нужно исправить главную страницу MiniApp KETMAR и донастроить отображение тестовых/боевых товаров.

1. Проблема со скроллом главной

Сейчас после последних правок сломано поведение главного экрана:

При прокрутке скроллится всё целиком:

уезжает верхняя часть с логотипом и поиском,

уезжает нижнее меню (табы: Главная, Лента, Мои, Избранное, Профиль).

Ранее всё было правильно:

верхняя шапка и нижнее меню были статичными,

прокручивался только контент посередине (категории, “Рядом с вами”, список объявлений).

Нужно вернуть корректное поведение.

1.1. Что должно быть в итоге по layout

Главный экран должен быть разделён на три зоны:

Верхняя фиксированная зона (header):

логотип / название KETMAR,

приветствие (если есть),

строка поиска (она должна оставаться видимой, не уезжать за экран).

Центральная скроллируемая зона (content):

быстрые категории,

блок “Рядом с вами”,

список ближайших объявлений и т.д.

Нижняя фиксированная зона (tab bar):

меню с пунктами:

Главная

Лента

Мои

Избранное

Профиль

При прокрутке должны двигаться только элементы центральной зоны.
Верх и низ остаются на месте.

1.2. Как технически реализовать

Найди компонент главного экрана (что-то вроде HomeScreen, HomePage, MainLayout, AppLayout).

Сделай структуру примерно такого типа:

return (
  <div className="app-root">
    <header className="app-header">
      {/* логотип, приветствие, строка поиска */}
    </header>

    <main className="app-content-scroll">
      {/* быстрые категории, блок "Рядом с вами", список товаров и т.д. */}
    </main>

    <nav className="app-tabbar">
      {/* Главная / Лента / Мои / Избранное / Профиль */}
    </nav>
  </div>
);


Где стили:

.app-root:

display: flex;

flex-direction: column;

height: 100vh; (или 100% высоты webview)

.app-header:

фиксированная высота по содержимому, НЕ скроллится.

.app-tabbar:

фиксированная высота снизу, НЕ скроллится.

.app-content-scroll:

flex: 1;

overflow-y: auto; — именно тут происходит прокрутка,

без position: fixed, чтобы не ломать sticky-элементы внутри.

Важно:

Убедись, что нигде нет overflow: hidden, который блокирует прокрутку контента.

Не делай отдельный scroll на body и на внутреннем div одновременно (один основной скролл — в .app-content-scroll).

Telegram WebApp / WebView высоту не ломаем, html, body, #root должны иметь height: 100%.

Строку поиска можно оставить просто в header (без отдельного sticky), раз уж сам header фиксирован.

2. Демо-товары и отображение района

Нужно, чтобы на карточках товаров (в ленте, “Рядом с вами”, в категориях) сразу было видно, в каком районе товар находится.

Требования:

Для города Бреста формат подписи:

Брест (Вулька)

Брест (Центр)

Брест (Гершоны)
и т.п.

Для окрестностей:

можно писать, например:

Брестский район (деревня Х)

или пригород Бреста (… ) — на твой выбор, главное, чтобы логика была единая.

2.1. Откуда брать данные

В моделях объявлений у нас есть/должны быть поля:

city — например, "Брест", "Брестский район", "Каменец", и т.п.

district / area / neighborhood — район города / текстовое описание местоположения (например, "Вулька", "Центр", "Южный").

Если таких полей сейчас нет:

добавь хотя бы текстовое поле district или area,

в демо-объявлениях обязательно его заполняй.

2.2. Логика отображения в карточке

Найди компонент карточки объявления (AdCard, AdItem, ListingCard или аналог).

Добавь под названием/ценой строку с локацией, примерно:

const locationLabel = district
  ? `${city} (${district})`
  : city || 'Локация не указана';


И отрендери её там же, где сейчас расстояние (1.2 км от вас), либо отдельной строкой:

<p className="ad-location">
  {locationLabel}
</p>


При наличии поля расстояния (distanceMeters) можно сделать так:

<p className="ad-location">
  {locationLabel} · {distanceKm} км от вас
</p>


Где distanceKm = distanceMeters / 1000 с округлением до 1 знака.

2.3. Демо-объявления

Ранее мы делали скрипт генерации тестовых объявлений (farmer / vegetables).
Сейчас доработай его или данные так, чтобы:

у каждого тестового объявления было заполнено:

city (например, "Брест" или "Брестский район"),

district:

для городских: "Вулька", "Центр", "Ковалева", "Гершоны", "Южный", "Речица" и т.п.,

для загородных: можно указать название деревни или 20 км от Бреста.

В результате на карточке сразу видно:

Брест (Вулька)

Брестский район (20 км от города) и т.п.

3. Проверка после правок

После внесения изменений:

Открой главную в браузере и в Telegram MiniApp:

при скролле вверх/вниз:

верхняя шапка остаётся на месте,

нижнее меню табов остаётся на месте,

прокручивается только середина.

Убедись, что:

кнопки Главная / Лента / Мои / Избранное / Профиль всегда видны и кликабельны,

строка поиска всегда на экране.

Проверь карточки товаров (боевые + демо):

везде видно текст формата Город (Район) или разумный fallback, если район не указан.

расстояние от пользователя при желании тоже отображается корректно.

Сделай правки аккуратно, без поломки других экранов и без лишних console.log в проде.