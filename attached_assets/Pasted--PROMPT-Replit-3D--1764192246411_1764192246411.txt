–í–æ—Ç –≥–æ—Ç–æ–≤—ã–π **PROMPT –¥–ª—è Replit** –ø–æ–¥ –∞–≤—Ç–æ-–∫–∞—Ç–µ–≥–æ—Ä–∏–∑–∞—Ü–∏—é –∏ –∞–≤—Ç–æ-—Å–æ–∑–¥–∞–Ω–∏–µ –ø–æ–¥–≥—Ä—É–ø–ø + 3D-–∏–∫–æ–Ω–æ–∫ üëá

---

### üîß PROMPT: –ê–≤—Ç–æ-–∫–∞—Ç–µ–≥–æ—Ä–∏–∑–∞—Ü–∏—è –Ω–æ–≤—ã—Ö —Ç–æ–≤–∞—Ä–æ–≤ + –∞–≤—Ç–æ-—Å–æ–∑–¥–∞–Ω–∏–µ –ø–æ–¥–≥—Ä—É–ø–ø—ã –∏ 3D-–∏–∫–æ–Ω–∫–∏

**–ö–æ–Ω—Ç–µ–∫—Å—Ç**

–£ –Ω–∞—Å –≥–µ–æ-–º–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å KETMAR Market (Telegram MiniApp + web) —Å –∏–µ—Ä–∞—Ä—Ö–∏–µ–π:

* `Category` (–≥—Ä—É–ø–ø–∞ —Ç–æ–≤–∞—Ä–æ–≤),
* `Subcategory` (–ø–æ–¥–≥—Ä—É–ø–ø–∞),
* `Ad` (–æ–±—ä—è–≤–ª–µ–Ω–∏–µ).

–°–µ–π—á–∞—Å –ø—Ä–æ–¥–∞–≤–µ—Ü **–≤—Å–µ–≥–¥–∞ –¥–æ–ª–∂–µ–Ω –≤—Ä—É—á–Ω—É—é –≤—ã–±—Ä–∞—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏—é –∏ –ø–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏—é**.
–Ø —Ö–æ—á—É –¥–æ–±–∞–≤–∏—Ç—å **—É–º–Ω—ã–π —Ä–µ–∂–∏–º**, —á—Ç–æ–±—ã:

1. –ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–¥–∞—ë—Ç —Ç–æ–≤–∞—Ä, –∫–æ—Ç–æ—Ä—ã–π –ø–ª–æ—Ö–æ –ª–æ–∂–∏—Ç—Å—è –≤ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –ø–æ–¥–≥—Ä—É–ø–ø—ã, –º—ã:

   * –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª—è–µ–º –ø–æ–¥—Ö–æ–¥—è—â—É—é **–≥—Ä—É–ø–ø—É/–ø–æ–¥–≥—Ä—É–ø–ø—É –ø–æ —Å–º—ã—Å–ª—É** —Ç–µ–∫—Å—Ç–∞;
   * –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ —Å–æ–∑–¥–∞—ë–º **–Ω–æ–≤—É—é –ø–æ–¥–≥—Ä—É–ø–ø—É** –≤–Ω—É—Ç—Ä–∏ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ `–ò–Ω–æ–µ` –∏–ª–∏ –¥—Ä—É–≥–æ–π –±–∞–∑–æ–≤–æ–π;
   * –≥–µ–Ω–µ—Ä–∏—Ä—É–µ–º/–ø–æ–¥–±–∏—Ä–∞–µ–º –ø–æ–¥ –Ω–µ—ë **3D-–∏–∫–æ–Ω–∫—É** –ø–æ —Å–º—ã—Å–ª—É.

2. –ü—Ä–∏ —ç—Ç–æ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å **–≤ –ª—é–±–æ–º —Å–ª—É—á–∞–µ –º–æ–∂–µ—Ç –∏–∑–º–µ–Ω–∏—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏—é –≤—Ä—É—á–Ω—É—é**, –Ω–æ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –º—ã –ø–æ–¥—Å—Ç–∞–≤–ª—è–µ–º –ª—É—á—à–∏–π –≤–∞—Ä–∏–∞–Ω—Ç.

---

### 1. –ú–æ–¥–µ–ª—å –¥–∞–Ω–Ω—ã—Ö (—É—Ç–æ—á–Ω–µ–Ω–∏–µ –∏ –¥–æ—Ä–∞–±–æ—Ç–∫–∏)

–ü—Ä–æ–≤–µ—Ä—å –∏ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –¥–æ—Ä–∞–±–æ—Ç–∞–π —Å—Ö–µ–º—ã:

```ts
// –ü—Ä–∏–º–µ—Ä, –∞–¥–∞–ø—Ç–∏—Ä—É–π –∫ —Ç–µ–∫—É—â–∏–º –º–æ–¥–µ–ª—è–º
type Category = {
  _id: ObjectId;
  code: string;        // e.g. "home", "farm", "other"
  title: string;       // "–î–ª—è –¥–æ–º–∞", "–§–µ—Ä–º–µ—Ä—Å–∫–∏–π —Ä—ã–Ω–æ–∫", "–ò–Ω–æ–µ"
  isVisible: boolean;  // –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –Ω–∞ –≥–ª–∞–≤–Ω–æ–π
  // ...
};

type Subcategory = {
  _id: ObjectId;
  categoryId: ObjectId;
  code: string;        // "home_cleaning", "coffee_tea", "bikes"
  title: string;       // "–•–∏–º–∏—è –¥–ª—è –¥–æ–º–∞", "–ß–∞–π / –∫–æ—Ñ–µ", "–í–µ–ª–æ—Å–∏–ø–µ–¥—ã"
  synonyms: string[];  // —Å–ª–æ–≤–∞-—Ç—Ä–∏–≥–≥–µ—Ä—ã: ["–ø–æ—Ä–æ—à–æ–∫", "—Å—Ç–∏—Ä–∞–ª—å–Ω—ã–π –ø–æ—Ä–æ—à–æ–∫", "–æ–º–æ"] –∏ —Ç.–ø.
  iconKey: string;     // –∫–ª—é—á 3D-–∏–∫–æ–Ω–∫–∏
  isAutoGenerated: boolean; // –º—ã —Å–æ–∑–¥–∞–ª–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
  isVisible: boolean;       // –≤–∏–¥–Ω–∞ –ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –≤ –¥–µ—Ä–µ–≤–µ
  createdAt: Date;
};

type Ad = {
  _id: ObjectId;
  title: string;           // "–ü–æ—Ä–æ—à–æ–∫ —Å—Ç–∏—Ä–∞–ª—å–Ω—ã–π 5 –∫–≥"
  description: string;     // "—Å—Ç–∏—Ä–∞–ª—å–Ω—ã–π –ø–æ—Ä–æ—à–æ–∫ –¥–ª—è –±–µ–ª–æ–≥–æ"
  rawCategoryId?: ObjectId;    // —á—Ç–æ –≤—ã–±—Ä–∞–ª –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Ä—É–∫–∞–º–∏ (–µ—Å–ª–∏ –≤—ã–±—Ä–∞–ª)
  categoryId: ObjectId;        // —á—Ç–æ –ø–æ—Å—Ç–∞–≤–∏–ª–∞ —Å–∏—Å—Ç–µ–º–∞ (–∏—Ç–æ–≥)
  subcategoryId: ObjectId;     // –∏—Ç–æ–≥–æ–≤–∞—è –ø–æ–¥–≥—Ä—É–ø–ø–∞
  // ...
};
```

–ù—É–∂–Ω–æ —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ —É –Ω–∞—Å **–µ—Å—Ç—å** –±–∞–∑–æ–≤–∞—è –∫–∞—Ç–µ–≥–æ—Ä–∏—è `–ò–Ω–æ–µ` (–Ω–∞–ø—Ä–∏–º–µ—Ä, `code: "other"`).
–ï—Å–ª–∏ –Ω–µ—Ç ‚Äî —Å–æ–∑–¥–∞—Ç—å –µ—ë –º–∏–≥—Ä–∞—Ü–∏–µ–π.

---

### 2. –û–±—â–∞—è –ª–æ–≥–∏–∫–∞ –∞–≤—Ç–æ-–∫–∞—Ç–µ–≥–æ—Ä–∏–∑–∞—Ü–∏–∏

–î–æ–±–∞–≤—å –æ—Ç–¥–µ–ª—å–Ω—ã–π —Å–µ—Ä–≤–∏—Å/–º–æ–¥—É–ª—å, –Ω–∞–ø—Ä–∏–º–µ—Ä `services/autoCategorizationService.ts`, –∫–æ—Ç–æ—Ä—ã–π:

```ts
async function autoCategorizeAd(input: {
  title: string;
  description?: string;
}): Promise<{ categoryId: ObjectId; subcategoryId: ObjectId; reason: string; createdSubcategory?: Subcategory; }>
```

**–®–∞–≥–∏ –≤–Ω—É—Ç—Ä–∏:**

1. –°–æ–±—Ä–∞—Ç—å **—Ç–µ–∫—Å—Ç –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞**:

   ```ts
   const text = (title + ' ' + (description || '')).toLowerCase();
   ```

2. –ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å –Ω–∞–π—Ç–∏ **—Å—É—â–µ—Å—Ç–≤—É—é—â—É—é –ø–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏—é** –ø–æ —Å–ª–æ–≤–∞—Ä—é `synonyms`:

   * –ø—Ä–æ–±–µ–≥–∞–µ–º –ø–æ –≤—Å–µ–º `Subcategory`, —É –∫–æ—Ç–æ—Ä—ã—Ö `isVisible = true`;
   * –µ—Å–ª–∏ `synonyms` –∏–ª–∏ `title` —Å–æ–¥–µ—Ä–∂–∞—Ç—Å—è –≤ —Ç–µ–∫—Å—Ç–µ ‚Äî –≤–æ–∑–≤—Ä–∞—â–∞–µ–º —ç—Ç—É –ø–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏—é.
   * –ø—Ä–∏–º–µ—Ä:

     * —Ç–µ–∫—Å—Ç: ¬´–ø–æ—Ä–æ—à–æ–∫ 5 –∫–≥ –¥–ª—è —Å—Ç–∏—Ä–∫–∏¬ª ‚Üí –ø–æ–ø–∞–¥–∞–µ—Ç –≤ `–•–∏–º–∏—è –¥–ª—è –¥–æ–º–∞`;
     * —Ç–µ–∫—Å—Ç: ¬´–∫–æ—Ñ–µ –º–æ–ª–æ—Ç—ã–π –∞—Ä–∞–±–∏–∫–∞¬ª ‚Üí –ø–æ–ø–∞–¥–∞–µ—Ç –≤ `–ß–∞–π / –∫–æ—Ñ–µ`;
     * —Ç–µ–∫—Å—Ç: ¬´–≤–µ–ª–æ—Å–∏–ø–µ–¥ –≤–∑—Ä–æ—Å–ª—ã–π –≥–æ—Ä–Ω—ã–π¬ª ‚Üí –ø–æ–ø–∞–¥–∞–µ—Ç –≤ `–í–µ–ª–æ—Å–∏–ø–µ–¥—ã`.

3. –ï—Å–ª–∏ –Ω–∏—á–µ–≥–æ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ:

   * –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å **–±–∞–∑–æ–≤—É—é –∫–∞—Ç–µ–≥–æ—Ä–∏—é** –ø–æ –ø—Ä–æ—Å—Ç—ã–º –ø—Ä–∞–≤–∏–ª–∞–º (–º–æ–∂–µ—à—å –∑–∞—à–∏—Ç—å –ø–µ—Ä–≤–∏—á–Ω—É—é –º–∞–ø—É):

     ```ts
     const keywordToCategoryCode = {
       // –µ–¥–∞
       "—Ö–ª–µ–±": "fast_food",
       "–±—É–ª–∫–∞": "fast_food",
       "–≤—ã–ø–µ—á–∫–∞": "fast_food",
       "–∫–æ—Ñ–µ": "other",       // –ø–æ–∫–∞ –∫–ª–∞–¥—ë–º –≤ –ò–Ω–æ–µ, –Ω–æ –ø–æ–¥–≥—Ä—É–ø–ø—É —Å–¥–µ–ª–∞–µ–º "–ß–∞–π / –∫–æ—Ñ–µ"
       "—á–∞–π": "other",

       // –±—ã—Ç
       "–ø–æ—Ä–æ—à–æ–∫": "home",
       "—Å—Ç–∏—Ä–∞–ª—å–Ω—ã–π": "home",
       "—á–∏—Å—Ç—è—â–µ–µ": "home",

       // —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç
       "–≤–µ–ª–æ—Å–∏–ø–µ–¥": "transport",
       "–±–∞–π–∫": "transport",

       // –¥–µ—Ñ–æ–ª—Ç
       // ...
     };
     ```

   * –µ—Å–ª–∏ –Ω–∏—á–µ–≥–æ –Ω–µ –ø–æ–¥—Ö–æ–¥–∏—Ç ‚Äî **–∫–∞—Ç–µ–≥–æ—Ä–∏—è = `–ò–Ω–æ–µ`**.

4. –í–Ω—É—Ç—Ä–∏ –≤—ã–±—Ä–∞–Ω–Ω–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –∏—â–µ–º —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –ø–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –ø–æ –ø–æ—Ö–æ–∂–µ–º—É —Å–º—ã—Å–ª—É (–∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ –ø.2).
   –ï—Å–ª–∏ –æ–ø—è—Ç—å –Ω–∏—á–µ–≥–æ –Ω–µ –Ω–∞—à–ª–∏ ‚Äî **—Å–æ–∑–¥–∞—ë–º –Ω–æ–≤—É—é –ø–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏—é**:

   –ü—Ä–∏–º–µ—Ä—ã:

   * –¢–µ–∫—Å—Ç —Å–æ–¥–µ—Ä–∂–∏—Ç `–ø–æ—Ä–æ—à–æ–∫ / —Å—Ç–∏—Ä–∞–ª—å–Ω—ã–π / —á–∏—Å—Ç—è—â–µ–µ`
     ‚Üí –±–∞–∑–æ–≤–∞—è –∫–∞—Ç–µ–≥–æ—Ä–∏—è: ¬´–î–ª—è –¥–æ–º–∞¬ª
     ‚Üí –Ω–æ–≤–∞—è subcategory:

     * `title: "–•–∏–º–∏—è –¥–ª—è –¥–æ–º–∞"`
     * `code: "home_cleaning"`
     * `synonyms: ["–ø–æ—Ä–æ—à–æ–∫", "—Å—Ç–∏—Ä–∞–ª—å–Ω—ã–π –ø–æ—Ä–æ—à–æ–∫", "—á–∏—Å—Ç—è—â–µ–µ —Å—Ä–µ–¥—Å—Ç–≤–æ"]`
   * –¢–µ–∫—Å—Ç —Å–æ–¥–µ—Ä–∂–∏—Ç `–∫–æ—Ñ–µ / —á–∞–π`
     ‚Üí –±–∞–∑–æ–≤–∞—è –∫–∞—Ç–µ–≥–æ—Ä–∏—è: `–ò–Ω–æ–µ` –∏–ª–∏ `–ü—Ä–æ–¥—É–∫—Ç—ã` (–µ—Å–ª–∏ —Ç–∞–∫–∞—è –µ—Å—Ç—å)
     ‚Üí –Ω–æ–≤–∞—è subcategory:

     * `title: "–ß–∞–π / –∫–æ—Ñ–µ"`
     * `code: "coffee_tea"`
     * `synonyms: ["–∫–æ—Ñ–µ", "—á–∞–π", "–∑–µ—Ä–Ω–æ–≤–æ–π –∫–æ—Ñ–µ", "–º–æ–ª–æ—Ç—ã–π –∫–æ—Ñ–µ"]`
   * –¢–µ–∫—Å—Ç —Å–æ–¥–µ—Ä–∂–∏—Ç `–≤–µ–ª–æ—Å–∏–ø–µ–¥ / –±–∞–π–∫`
     ‚Üí –±–∞–∑–æ–≤–∞—è –∫–∞—Ç–µ–≥–æ—Ä–∏—è: `–ê–≤—Ç–æ/—Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç` –∏–ª–∏ `–õ–∏—á–Ω—ã–µ –≤–µ—â–∏` (–ø–æ–¥–≥—Ä—É–ø–ø–∞ –¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç)

     * `title: "–í–µ–ª–æ—Å–∏–ø–µ–¥—ã"`
     * `code: "bikes"`
     * `synonyms: ["–≤–µ–ª–æ—Å–∏–ø–µ–¥", "–±–∞–π–∫", "bmx", "–≥–æ—Ä–Ω—ã–π –≤–µ–ª–æ—Å–∏–ø–µ–¥"]`

   –ù–æ–≤—ã–µ –ø–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏–∏:

   ```ts
   isAutoGenerated = true;
   isVisible = false;  // –°–¢–ê–†–¢: —Å–∫—Ä—ã—Ç–∞—è, —á—Ç–æ–±—ã –Ω–µ –∑–∞—Å–æ—Ä—è—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
   ```

   –î–∞–ª—å—à–µ –º–æ–∂–µ–º –≤–∫–ª—é—á–∞—Ç—å –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ —Ç–æ–ª—å–∫–æ –∫–æ–≥–¥–∞ –≤ –Ω–µ–π –Ω–∞–∫–æ–ø–∏–ª–æ—Å—å N –æ–±—ä—è–≤–ª–µ–Ω–∏–π (–Ω–∞–ø—Ä–∏–º–µ—Ä, > 5).

5. –í–æ–∑–≤—Ä–∞—â–∞–µ–º –∏—Ç–æ–≥–æ–≤—É—é { categoryId, subcategoryId, reason }.

---

### 3. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ –ø—Ä–æ—Ü–µ—Å—Å —Å–æ–∑–¥–∞–Ω–∏—è –æ–±—ä—è–≤–ª–µ–Ω–∏—è

1. –ù–∞ —ç—Ç–∞–ø–µ **—á–µ—Ä–Ω–æ–≤–∏–∫–∞ –æ–±—ä—è–≤–ª–µ–Ω–∏—è** (–ø–æ—Å–ª–µ –≤–≤–æ–¥–∞ –∑–∞–≥–æ–ª–æ–≤–∫–∞ –∏ –æ–ø–∏—Å–∞–Ω–∏—è):

   * –µ—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å **–ù–ï –≤—ã–±—Ä–∞–ª** –∫–∞—Ç–µ–≥–æ—Ä–∏—é —Ä—É–∫–∞–º–∏:

     * –≤—ã–∑–≤–∞—Ç—å `autoCategorizeAd({ title, description })`;
     * —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤ —á–µ—Ä–Ω–æ–≤–∏–∫;
     * –Ω–∞ UI:

       * –ø–æ–∫–∞–∑–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –±–ª–æ–∫:

         > ¬´–ú—ã –ø—Ä–µ–¥–ø–æ–ª–∞–≥–∞–µ–º, —á—Ç–æ —ç—Ç–æ:
         > –ö–∞—Ç–µ–≥–æ—Ä–∏—è: *–î–ª—è –¥–æ–º–∞* ‚Üí –ü–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏—è: *–•–∏–º–∏—è –¥–ª—è –¥–æ–º–∞*.
         > –í—ã –º–æ–∂–µ—Ç–µ –∏–∑–º–µ–Ω–∏—Ç—å —ç—Ç–æ –≤—Ä—É—á–Ω—É—é.¬ª

2. –ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å **–≤—ã–±—Ä–∞–ª –∫–∞—Ç–µ–≥–æ—Ä–∏—é —Å–∞–º**:

   * —Å–æ—Ö—Ä–∞–Ω—è–µ–º —ç—Ç–æ –≤ `rawCategoryId / rawSubcategoryId`;
   * –ø—Ä–∏ —ç—Ç–æ–º –º–æ–∂–µ–º –∑–∞–ø—É—Å–∫–∞—Ç—å `autoCategorizeAd` **–≤ —Ñ–æ–Ω–µ** –∏ –ª–æ–≥–∏—Ä–æ–≤–∞—Ç—å —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ/—Ä–∞—Å—Ö–æ–∂–¥–µ–Ω–∏–µ, –Ω–æ **–Ω–µ –º–µ–Ω—è—Ç—å** –≤—ã–±–æ—Ä –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.

3. –í —Ñ–∏–Ω–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö **–≤—Å–µ–≥–¥–∞** —Å–æ—Ö—Ä–∞–Ω—è–µ–º:

   * `categoryId` –∏ `subcategoryId` ‚Äî —á—Ç–æ —Å–∏—Å—Ç–µ–º–∞ —Å—á–∏—Ç–∞–µ—Ç –æ—Å–Ω–æ–≤–Ω—ã–º (–∞–≤—Ç–æ –∏–ª–∏ —Ä—É—á–Ω–æ–π –≤—ã–±–æ—Ä);
   * `rawCategoryId / rawSubcategoryId` ‚Äî —á—Ç–æ –Ω–∞–∂–∞–ª –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å (–¥–ª—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∏ –∏ —É–ª—É—á—à–µ–Ω–∏—è –∞–ª–≥–æ—Ä–∏—Ç–º–∞).

---

### 4. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è 3D-–∏–∫–æ–Ω–∫–∞ –ø–æ —Å–º—ã—Å–ª—É

–£ –∫–∞–∂–¥–æ–π `Subcategory` –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å `iconKey` ‚Äî –∫–ª—é—á –∫ 3D-–∫–∞—Ä—Ç–∏–Ω–∫–µ (–∏–ª–∏ –ø—É—Ç—å –≤ assets/).

–°–¥–µ–ª–∞–π –Ω–µ–±–æ–ª—å—à–æ–π –º–∞–ø–ø–∏–Ω–≥ –ø–æ —Å–º—ã—Å–ª—É:

```ts
const iconKeyBySubcategoryCodeOrKeyword = {
  "home_cleaning": "icon_home_cleaning_3d",  // –±—É—Ç—ã–ª–æ—á–∫–∞/–ø–æ—Ä–æ—à–æ–∫
  "coffee_tea": "icon_coffee_3d",           // –∫—Ä—É–∂–∫–∞ –∫–æ—Ñ–µ –∏–ª–∏ –∑–µ—Ä–Ω–∞
  "bikes": "icon_bike_3d",
  // fallback:
  "default_food": "icon_food_3d",
  "default_other": "icon_box_3d"
};
```

–ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ `Subcategory`:

1. –ü—ã—Ç–∞–µ–º—Å—è –ø–æ–¥–æ–±—Ä–∞—Ç—å `iconKey` –ø–æ `code` –∏–ª–∏ –∫–ª—é—á–µ–≤—ã–º —Å–ª–æ–≤–∞–º (–Ω–∞–ø—Ä–∏–º–µ—Ä, –≤ title).
2. –ï—Å–ª–∏ –Ω–µ –Ω–∞—à–ª–∏ ‚Äî —Å—Ç–∞–≤–∏–º `default_other`.

–í–∞–∂–Ω–æ:

* 3D-–∏–∫–æ–Ω–∫–∏ **—Ö—Ä–∞–Ω–∏–º –∑–∞—Ä–∞–Ω–µ–µ** –≤ –ø—Ä–æ–µ–∫—Ç–µ (png/webp) –∏ –ø—Ä–æ—Å—Ç–æ –Ω–∞–∑–Ω–∞—á–∞–µ–º –∫–ª—é—á–∏.
* –í –±—É–¥—É—â–µ–º –º–æ–∂–Ω–æ –∑–∞–º–µ–Ω–∏—Ç—å —ç—Ç–æ –Ω–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏—é —á–µ—Ä–µ–∑ AI, –Ω–æ —Å–µ–π—á–∞—Å –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –º–∞–ø–ø–∏–Ω–≥–∞.

---

### 5. UI –Ω–∞ —Ñ—Ä–æ–Ω—Ç–µ

1. –í —Ñ–æ—Ä–º–µ —Å–æ–∑–¥–∞–Ω–∏—è –æ–±—ä—è–≤–ª–µ–Ω–∏—è:

   * —Å—Ä–∞–∑—É –ø–æ—Å–ª–µ –≤–≤–æ–¥–∞ –∑–∞–≥–æ–ª–æ–≤–∫–∞ + –æ–ø–∏—Å–∞–Ω–∏—è, –∫–æ–≥–¥–∞ –µ—Å—Ç—å –¥–∞–Ω–Ω—ã–µ ‚Üí –∑–∞–ø—É—Å–∫–∞—Ç—å `autoCategorizeAd` (—á–µ—Ä–µ–∑ API).
   * –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å **–ø–æ–¥—Å–∫–∞–∑–∫—É –∫–∞—Ç–µ–≥–æ—Ä–∏–π** –≤ –≤–∏–¥–µ —á–∏–ø–∞:

     * ¬´–ü—Ä–µ–¥–ª–∞–≥–∞–µ–º —Ä–∞–∑–º–µ—Å—Ç–∏—Ç—å –≤: `–ö–∞—Ç–µ–≥–æ—Ä–∏—è ‚Üí –ü–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏—è`¬ª
     * –ö–Ω–æ–ø–∫–∞: `–ò–∑–º–µ–Ω–∏—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏—é` (–æ—Ç–∫—Ä—ã–≤–∞–µ—Ç —Ä—É—á–Ω–æ–π –≤—ã–±–æ—Ä).

2. –ï—Å–ª–∏ –ø–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏—è –±—ã–ª–∞ **–∞–≤—Ç–æ-—Å–æ–∑–¥–∞–Ω–∞** –∏ `isVisible = false`:

   * –≤ –¥–µ—Ä–µ–≤–µ –≤—ã–±–æ—Ä–∞ –∫–∞—Ç–µ–≥–æ—Ä–∏–π **–Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –µ—ë –æ—Ç–¥–µ–ª—å–Ω—ã–º –ø—É–Ω–∫—Ç–æ–º** –¥–ª—è –¥—Ä—É–≥–∏—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π;
   * –Ω–æ –¥–ª—è —ç—Ç–æ–≥–æ –æ–±—ä—è–≤–ª–µ–Ω–∏—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –µ—ë.

   –ü–æ–∑–∂–µ, –∫–æ–≥–¥–∞ –≤ —ç—Ç–æ–π `subcategory` –Ω–∞–∫–æ–ø–∏—Ç—Å—è N –æ–±—ä—è–≤–ª–µ–Ω–∏–π, –º–æ–∂–Ω–æ —Å–∫—Ä–∏–ø—Ç–æ–º —Å–¥–µ–ª–∞—Ç—å:

   ```ts
   if (adsCountInSubcategory > 5) isVisible = true;
   ```

---

### 6. –ü—Ä–∏–º–µ—Ä—ã —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤

**–°—Ü–µ–Ω–∞—Ä–∏–π 1 ‚Äî –ø–æ—Ä–æ—à–æ–∫ 5 –∫–≥**

* –ó–∞–≥–æ–ª–æ–≤–æ–∫: ¬´–ü–æ—Ä–æ—à–æ–∫ —Å—Ç–∏—Ä–∞–ª—å–Ω—ã–π 5 –∫–≥¬ª
* –û–ø–∏—Å–∞–Ω–∏–µ: ¬´—É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π —Å—Ç–∏—Ä–∞–ª—å–Ω—ã–π –ø–æ—Ä–æ—à–æ–∫ –¥–ª—è –±–µ–ª–æ–≥–æ –∏ —Ü–≤–µ—Ç–Ω–æ–≥–æ¬ª
* –ê–ª–≥–æ—Ä–∏—Ç–º –Ω–∞—Ö–æ–¥–∏—Ç –∫–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞ `–ø–æ—Ä–æ—à–æ–∫, —Å—Ç–∏—Ä–∞–ª—å–Ω—ã–π` ‚Üí
  –ö–∞—Ç–µ–≥–æ—Ä–∏—è: `–î–ª—è –¥–æ–º–∞` ‚Üí –ü–æ–¥–≥—Ä—É–ø–ø–∞: –ª–∏–±–æ —Å—É—â–µ—Å—Ç–≤—É—é—â–∞—è `–•–∏–º–∏—è –¥–ª—è –¥–æ–º–∞`, –ª–∏–±–æ —Å–æ–∑–¥–∞—ë—Ç –µ—ë.
* –ò–∫–æ–Ω–∫–∞: –±—É—Ç—ã–ª–∫–∞/–ø–æ—Ä–æ—à–æ–∫.

**–°—Ü–µ–Ω–∞—Ä–∏–π 2 ‚Äî –∫–æ—Ñ–µ**

* ¬´–ö–æ—Ñ–µ –º–æ–ª–æ—Ç—ã–π –∞—Ä–∞–±–∏–∫–∞ 1 –∫–≥¬ª
* –ö–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞ `–∫–æ—Ñ–µ` ‚Üí
  –ö–∞—Ç–µ–≥–æ—Ä–∏—è: `–ò–Ω–æ–µ` –∏–ª–∏ `–ü—Ä–æ–¥—É–∫—Ç—ã` (–µ—Å–ª–∏ –µ—Å—Ç—å) ‚Üí –ø–æ–¥–≥—Ä—É–ø–ø–∞ `–ß–∞–π / –∫–æ—Ñ–µ`.

**–°—Ü–µ–Ω–∞—Ä–∏–π 3 ‚Äî –≤–µ–ª–æ—Å–∏–ø–µ–¥**

* ¬´–í–µ–ª–æ—Å–∏–ø–µ–¥ –≤–∑—Ä–æ—Å–ª—ã–π –≥–æ—Ä–Ω—ã–π¬ª
* –ö–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞ `–≤–µ–ª–æ—Å–∏–ø–µ–¥` ‚Üí
  –ö–∞—Ç–µ–≥–æ—Ä–∏—è: `–õ–∏—á–Ω—ã–µ –≤–µ—â–∏` –∏–ª–∏ `–ê–≤—Ç–æ/—Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç` ‚Üí –ø–æ–¥–≥—Ä—É–ø–ø–∞ `–í–µ–ª–æ—Å–∏–ø–µ–¥—ã`.

---

### 7. –ß—Ç–æ –≤–∞–∂–Ω–æ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å

1. –û–±—ä—è–≤–ª–µ–Ω–∏–µ **–±–µ–∑ –≤—ã–±–æ—Ä–∞ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏**:

   * —Å–æ–∑–¥–∞—ë—Ç—Å—è —Å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π –∞–≤—Ç–æ-–∫–∞—Ç–µ–≥–æ—Ä–∏–µ–π –∏ –ø–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏–µ–π;
   * –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç –ø–æ–¥—Å–∫–∞–∑–∫—É –∏ –º–æ–∂–µ—Ç –µ—ë –∏–∑–º–µ–Ω–∏—Ç—å.

2. –û–±—ä—è–≤–ª–µ–Ω–∏–µ —Å **—Ä—É—á–Ω—ã–º –≤—ã–±–æ—Ä–æ–º**:

   * –∞–≤—Ç–æ-–∫–∞—Ç–µ–≥–æ—Ä–∏–∑–∞—Ü–∏—è –Ω–µ –ª–æ–º–∞–µ—Ç –≤—ã–±–æ—Ä –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.

3. –ê–≤—Ç–æ-—Å–æ–∑–¥–∞–Ω–Ω—ã–µ –ø–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏–∏:

   * **–Ω–µ –≤–∏–¥–Ω—ã** –≤ –æ–±—â–µ–º –¥–µ—Ä–µ–≤–µ, –ø–æ–∫–∞ –º–∞–ª–æ –æ–±—ä—è–≤–ª–µ–Ω–∏–π;
   * –Ω–∞—á–∏–Ω–∞—é—Ç –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è –ø–æ—Å–ª–µ –ø–æ—Ä–æ–≥–∞ N –æ–±—ä—è–≤–ª–µ–Ω–∏–π.

4. 3D-–∏–∫–æ–Ω–∫–∏:

   * –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –ø–æ–¥—Å—Ç–∞–≤–ª—è—é—Ç—Å—è –¥–ª—è –Ω–æ–≤—ã—Ö auto-subcategories;
   * –Ω–µ—Ç –æ—à–∏–±–æ–∫, –µ—Å–ª–∏ iconKey –Ω–µ –Ω–∞–π–¥–µ–Ω (–∏—Å–ø–æ–ª—å–∑—É–µ–º default).

---

–°–¥–µ–ª–∞–π, –ø–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–µ—Å—å —ç—Ç–æ—Ç —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª **–∞–∫–∫—É—Ä–∞—Ç–Ω–æ, –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º —Å–µ—Ä–≤–∏—Å–µ –∞–≤—Ç–æ-–∫–∞—Ç–µ–≥–æ—Ä–∏–∑–∞—Ü–∏–∏**, —á—Ç–æ–±—ã –µ–≥–æ –º–æ–∂–Ω–æ –±—ã–ª–æ –ø–æ—Ç–æ–º –¥–æ–æ–±—É—á–∏—Ç—å/–∑–∞–º–µ–Ω–∏—Ç—å –Ω–∞ ML, –Ω–µ –ø–µ—Ä–µ–ø–∏—Å—ã–≤–∞—è –≤–µ—Å—å –∫–æ–¥.
