PROMPT –¥–ª—è Replit ‚Äî –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–æ—Ç–æ –∏ –ø–æ–ª–Ω–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ª–µ–Ω—Ç—ã
‚ùó –ó–∞–¥–∞—á–∞: –≤—ã—è—Å–Ω–∏—Ç—å, –ø–æ—á–µ–º—É —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏ –≤ –ª–µ–Ω—Ç–µ –æ–±—ä—è–≤–ª–µ–Ω–∏–π –≥—Ä—É–∑—è—Ç—Å—è –æ—á–µ–Ω—å –º–µ–¥–ª–µ–Ω–Ω–æ / –Ω–µ –≥—Ä—É–∑—è—Ç—Å—è. –ò—Å–ø—Ä–∞–≤–∏—Ç—å.

–ù–∏–∂–µ –ø–æ–ª–Ω—ã–π —Å–ø–∏—Å–æ–∫ –¥–µ–π—Å—Ç–≤–∏–π, –∫–æ—Ç–æ—Ä—ã–µ –Ω—É–∂–Ω–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—å –≤ –ø—Ä–æ–µ–∫—Ç–µ (backend + frontend + —Ñ–∞–π–ª–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞).

üîß 1. BACKEND ‚Äî –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –∑–∞–≥—Ä—É–∑–∫—É –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π

–í—ã–ø–æ–ª–Ω–∏ —Å–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:

‚úî 1.1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–µ–∞–ª—å–Ω—ã–µ —Ä–∞–∑–º–µ—Ä—ã —Ñ–∞–π–ª–æ–≤ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

–ù–∞–π—Ç–∏ –∫–∞—Ç–∞–ª–æ–≥, –≥–¥–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –∑–∞–≥—Ä—É–∑–∫–∏ (–æ–±—ã—á–Ω–æ /uploads/ads –∏–ª–∏ /public/ads)

–í—ã–ª–æ–≥–∏—Ä–æ–≤–∞—Ç—å —Å–ø–∏—Å–æ–∫ —Ñ–∞–π–ª–æ–≤ –∏ –∏—Ö —Ä–∞–∑–º–µ—Ä—ã (kb/mb)

–ï—Å–ª–∏ —Ñ–∞–π–ª—ã > 300 KB ‚Üí —ç—Ç–æ –æ—Å–Ω–æ–≤–Ω–∞—è –ø—Ä–∏—á–∏–Ω–∞ –º–µ–¥–ª–µ–Ω–Ω–æ–π –ª–µ–Ω—Ç—ã

–ù—É–∂–Ω–æ:
–≤ –ª–æ–≥ –≤—ã–≤–µ—Å—Ç–∏ –¢–û–ü-20 —Å–∞–º—ã—Ö –±–æ–ª—å—à–∏—Ö —Ñ–∞–π–ª–æ–≤.

‚úî 1.2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –º–µ—Ö–∞–Ω–∏–∑–º —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –∫–∞—Ä—Ç–∏–Ω–æ–∫

–ü—Ä–æ–≤–µ—Ä–∏—Ç—å:

—Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –ª–∏ –æ—Ä–∏–≥–∏–Ω–∞–ª—ã –ë–ï–ó —Å–∂–∞—Ç–∏—è

–≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –ª–∏ sharp / jimp / imagemin

–≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è –ª–∏ thumbnail –¥–ª—è –ª–µ–Ω—Ç—ã

–æ—Ç–¥–∞—é—Ç—Å—è –ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –æ—Ä–∏–≥–∏–Ω–∞–ª—ã –≤–º–µ—Å—Ç–æ –º–∏–Ω–∏–∞—Ç—é—Ä

–ï—Å–ª–∏ —Å–µ–π—á–∞—Å –æ—Ç–¥–∞—ë—Ç—Å—è –æ—Ä–∏–≥–∏–Ω–∞–ª —Ä–∞–∑–º–µ—Ä–∞ 3‚Äì12 –ú–ë ‚Äî —ç—Ç–æ 100% –ø—Ä–∏—á–∏–Ω–∞ –º–µ–¥–ª–µ–Ω–Ω–æ–π –ª–µ–Ω—Ç—ã.

‚úî 1.3. –ò—Å–ø—Ä–∞–≤–∏—Ç—å: –¥–æ–±–∞–≤–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–∂–∞—Ç–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π

–ù—É–∂–Ω–æ:

–ü—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ ‚Üí –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –≤ webp –∏–ª–∏ jpeg:80.

–û–≥—Ä–∞–Ω–∏—á–∏—Ç—å —à–∏—Ä–∏–Ω—É:

full: max width 1600px  
thumb: max width 400px  


–°–æ–∑–¥–∞—Ç—å –¥–≤–µ –≤–µ—Ä—Å–∏–∏:

ads/full/<id>.webp
ads/thumb/<id>.webp


–í API –≤—ã–¥–∞–≤–∞—Ç—å –ø—É—Ç—å –∫ thumbnail –≤ –ª–µ–Ω—Ç–µ.

‚úî 1.4. –î–æ–±–∞–≤–∏—Ç—å Cache-Control

–í –æ—Ç–≤–µ—Ç–µ —Å–µ—Ä–≤–µ—Ä–∞:

Cache-Control: public, max-age=31536000, immutable

‚úî 1.5. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å Express static

–£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ —Ñ–æ—Ç–æ –æ—Ç–¥–∞—é—Ç—Å—è –∫–∞–∫ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π –∫–æ–Ω—Ç–µ–Ω—Ç –ë–ï–ó —É—á–∞—Å—Ç–∏—è Node:

app.use('/uploads', express.static('uploads', { maxAge: '365d' }))

<br>
üé® 2. FRONTEND ‚Äî –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ª–µ–Ω—Ç—É –æ–±—ä—è–≤–ª–µ–Ω–∏–π
‚úî 2.1. –õ–µ–Ω—Ç–∞ –¥–æ–ª–∂–Ω–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å thumbnail –≤–µ—Ä—Å–∏–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π

–ü—Ä–æ–≤–µ—Ä–∏—Ç—å:

–∫–æ–º–ø–æ–Ω–µ–Ω—Ç Card

–∫–æ–º–ø–æ–Ω–µ–Ω—Ç ProductList / Feed / MasonryGrid

–ï—Å–ª–∏ —Å–µ–π—á–∞—Å –ø–æ–¥—Å—Ç–∞–≤–ª—è–µ—Ç—Å—è:

ad.images[0]


–∑–∞–º–µ–Ω–∏—Ç—å –Ω–∞:

ad.imagesThumb[0]

‚úî 2.2. –í–∫–ª—é—á–∏—Ç—å lazy-loading –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π

–í <img> –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ:

loading="lazy"
decoding="async"


–ò–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –±–∏–±–ª–∏–æ—Ç–µ–∫—É:

react-lazyload

react-intersection-observer

‚úî 2.3. –î–æ–±–∞–≤–∏—Ç—å placeholder skeleton

–î–æ –∑–∞–≥—Ä—É–∑–∫–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å:

—Å–µ—Ä—ã–π –±–ª–æ–∫

skeleton shimmer

–≠—Ç–æ —É—Å—Ç—Ä–∞–Ω–∏—Ç ‚Äú–±–µ–ª—ã–µ –∫–≤–∞–¥—Ä–∞—Ç—ã‚Äù.

‚úî 2.4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å Masonry/Grid

–ï—Å–ª–∏ Masonry –ª–æ–º–∞–µ—Ç—Å—è ‚Äî –æ–Ω –ø–µ—Ä–µ—Ä–∏—Å–æ–≤—ã–≤–∞–µ—Ç –∫–∞–∂–¥—É—é –∫–∞—Ä—Ç–æ—á–∫—É, –æ—Ç —ç—Ç–æ–≥–æ:

jank

–º–µ–¥–ª–µ–Ω–Ω–∞—è –ø—Ä–æ–∫—Ä—É—Ç–∫–∞

—Å–∫–∞—á–∫–∏ –ª–µ–Ω—Ç—ã

–ù—É–∂–Ω–æ:

–≤–∫–ª—é—á–∏—Ç—å react-window –∏–ª–∏

—Å–¥–µ–ª–∞—Ç—å –æ–±—ã—á–Ω—É—é —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—É—é —Å–µ—Ç–∫—É

‚úî 2.5. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–µ—Ç–∫—É –ø–æ–¥ iOS Safari

iOS –æ—á–µ–Ω—å –º–µ–¥–ª–µ–Ω–Ω–æ –∑–∞–≥—Ä—É–∂–∞–µ—Ç –±–æ–ª—å—à–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è.

–ù—É–∂–Ω–æ:

–≤–∫–ª—é—á–∏—Ç—å responsive srcset

–¥–ª—è –º–∏–Ω–∏–∞—Ç—é—Ä –¥–µ–ª–∞—Ç—å 320px

<br>
‚öôÔ∏è 3. DIAGNOSTICS ‚Äî –æ—Ç–ª–∞–¥–∫–∞
‚úî 3.1. –î–æ–±–∞–≤–∏—Ç—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏ –∑–∞–≥—Ä—É–∑–∫–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π

–í DevTools:

–≤—ã–≤–µ—Å—Ç–∏ –≤—Ä–µ–º—è –∑–∞–≥—Ä—É–∑–∫–∏ –∫–∞–∂–¥–æ–π –∫–∞—Ä—Ç–∏–Ω–∫–∏

–≤—ã–≤–µ—Å—Ç–∏ total page weight

–ø—Ä–æ–≤–µ—Ä–∏—Ç—å TTI (time-to-interactive)

‚úî 3.2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–∫–æ—Ä–æ—Å—Ç—å API /ads/feed

–ù—É–∂–Ω–æ —É–≤–∏–¥–µ—Ç—å:

—Å–∫–æ–ª—å–∫–æ –æ–±—ä—è–≤–ª–µ–Ω–∏–π –æ—Ç–¥–∞—ë—Ç API

–æ—Ç–¥–∞—ë—Ç –ª–∏ API –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏–ª–∏ —Ç–æ–ª—å–∫–æ —Å—Å—ã–ª–∫–∏

–µ—Å—Ç—å –ª–∏ –∑–∞–¥–µ—Ä–∂–∫–∏ –ø–æ –ë–î

‚úî 3.3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ—à–∏–±–∫–∏ –∫–æ–Ω—Å–æ–ª–∏

–ï—Å–ª–∏ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Ñ–æ—Ç–æ –µ—Å—Ç—å 404 / CORS / 500 ‚Üí –∏—Å–ø—Ä–∞–≤–∏—Ç—å –ø—É—Ç–∏.

<br>
üß† 4. –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è AI-–ª–µ–Ω—Ç

–ü–æ—Å–ª–µ —É—Å–∫–æ—Ä–µ–Ω–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –º–æ–∂–Ω–æ –≤–∫–ª—é—á–∞—Ç—å:

–ø—Ä–µ–¥–∑–∞–≥—Ä—É–∑–∫—É —Ñ–æ—Ç–æ (prefetch)

—Å–æ—Ä—Ç–∏—Ä–æ–≤–∫—É –ø–æ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏—é

–º–∏–Ω–∏-–∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –ª–æ–∫–∞–ª—å–Ω–æ

üéØ –ö–†–ê–¢–ö–û–ï –¢–ï–•–ó–ê–î–ê–ù–ò–ï –î–õ–Ø REPLIT

–ù—É–∂–Ω–æ:

–ù–∞–π—Ç–∏, –ø–æ—á–µ–º—É —Ñ–æ—Ç–æ –≥—Ä—É–∑—è—Ç—Å—è –º–µ–¥–ª–µ–Ω–Ω–æ.

–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–∑–º–µ—Ä—ã –∏—Å—Ö–æ–¥–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤.

–†–µ–∑–∞—Ç—å —Ñ–æ—Ç–æ –¥–æ –º–∏–Ω–∏–∞—Ç—é—Ä.

–ö–æ–º–ø—Ä–µ—Å—Å–∏—Ä–æ–≤–∞—Ç—å.

–ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –≤ WebP.

–í–∫–ª—é—á–∏—Ç—å Cache-Control.

–í–∫–ª—é—á–∏—Ç—å lazy loading.

–ó–∞–º–µ–Ω–∏—Ç—å –≤ –ª–µ–Ω—Ç–µ –±–æ–ª—å—à–∏–µ —Ñ–æ—Ç–æ –Ω–∞ thumbnails.

–ü—Ä–æ–≤–µ—Ä–∏—Ç—å Masonry/—Å–µ—Ç—å.

–î–æ–±–∞–≤–∏—Ç—å skeleton—ã.

–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å API.

–¶–µ–ª—å:
üëâ –õ–µ–Ω—Ç–∞ –¥–æ–ª–∂–Ω–∞ –∑–∞–≥—Ä—É–∂–∞—Ç—å—Å—è –º–≥–Ω–æ–≤–µ–Ω–Ω–æ, –±–µ–∑ –±–µ–ª—ã—Ö –±–ª–æ–∫–æ–≤.
üëâ –§–æ—Ç–æ –¥–æ–ª–∂–Ω—ã –≤–µ—Å–∏—Ç—å 20‚Äì60 KB, –Ω–µ 2‚Äì10 MB.