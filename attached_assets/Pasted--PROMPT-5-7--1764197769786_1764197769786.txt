–í–æ—Ç –æ–¥–∏–Ω **—Å—É–ø–µ—Ä-PROMPT** –ø–æ–¥ –≤—Å–µ —Ç—Ä–∏ –∑–∞–¥–∞—á–∏ (5‚Äì7), –Ω–æ –±–µ–∑ –ª–∏—à–Ω–µ–π –≤–æ–¥—ã ‚Äî —á—Ç–æ–±—ã –º–æ–∂–Ω–æ –±—ã–ª–æ —Å—Ä–∞–∑—É –æ—Ç–¥–∞–≤–∞—Ç—å –≤ Replit/Codex.

---

## üß† SUPER-PROMPT ‚Äî AI –¥–ª—è —Ñ–µ—Ä–º–µ—Ä–æ–≤ –∏ –∫–∞—á–µ—Å—Ç–≤–∞ –æ–±—ä—è–≤–ª–µ–Ω–∏–π

–¢—ã ‚Äî **senior full-stack —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫** KETMAR Market (–≥–µ–æ-–º–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å –≤ Telegram MiniApp).
–ù—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å **AI-—Å–ª–æ–π –≤–æ–∫—Ä—É–≥ –æ–±—ä—è–≤–ª–µ–Ω–∏–π**, c —Ñ–æ–∫—É—Å–æ–º –Ω–∞ —Ñ–µ—Ä–º–µ—Ä–æ–≤ –∏ –±—ã—Å—Ç—Ä—ã–µ —Ç–æ–≤–∞—Ä—ã.

–°–¥–µ–ª–∞–π —ç—Ç–æ **–º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –ø—Ä–æ—Å—Ç–æ –≤ –∫–æ–¥–µ**, –Ω–æ —Ç–∞–∫, —á—Ç–æ–±—ã –ø–æ—Ç–æ–º –º–æ–∂–Ω–æ –±—ã–ª–æ –∑–∞–º–µ–Ω–∏—Ç—å ¬´–∑–∞–≥–ª—É—à–∫–∏¬ª –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–π AI-API.

---

### 0. –ö–æ–Ω—Ç–µ–∫—Å—Ç –∏ –º–æ–¥–µ–ª–∏

–£ –Ω–∞—Å –µ—Å—Ç—å —Å—É—â–Ω–æ—Å—Ç–∏ (–∞–¥–∞–ø—Ç–∏—Ä—É–π –∫ —Ç–µ–∫—É—â–∏–º –º–æ–¥–µ–ª—è–º):

```ts
type Ad = {
  _id: ObjectId;
  title: string;
  description?: string;
  price: number;            // —Ü–µ–Ω–∞ –∑–∞ —à—Ç—É–∫—É/–∫–≥
  unit?: "item" | "kg" | "g" | "liter";
  categoryId: ObjectId;
  subcategoryId: ObjectId;
  city?: string;
  region?: string;
  createdAt: Date;
  updatedAt: Date;
  photosCount: number;
  viewsCount: number;
  contactClicksCount: number;   // –∫–ª–∏–∫–∏ –ø–æ —Ç–µ–ª–µ—Ñ–æ–Ω—É / Telegram
  isFarmer: boolean;            // —Ñ–µ—Ä–º–µ—Ä—Å–∫–∏–π —Ç–æ–≤–∞—Ä
};

type FarmerProfile = {
  userId: ObjectId;
  city?: string;
  region?: string;
  mainCategories: ObjectId[];   // –æ–≤–æ—â–∏, —Ñ—Ä—É–∫—Ç—ã, —è–≥–æ–¥—ã –∏ —Ç.–ø.
};

type PriceStats = {
  categoryId: ObjectId;
  subcategoryId: ObjectId;
  city?: string;
  region?: string;
  period: "week" | "month";
  avgPrice: number;
  minPrice: number;
  maxPrice: number;
  adsCount: number;
};
```

–î–æ–±–∞–≤—å –Ω–æ–≤—ã–µ –∫–æ–ª–ª–µ–∫—Ü–∏–∏:

```ts
type AdAiScore = {
  adId: ObjectId;
  score: number;               // 0‚Äì100 –∫–∞—á–µ—Å—Ç–≤–æ –æ–±—ä—è–≤–ª–µ–Ω–∏—è
  problems: string[];          // ["–º–∞–ª–æ —Ñ–æ—Ç–æ", "—Å–ª–∏—à–∫–æ–º –Ω–∏–∑–∫–∞—è —Ü–µ–Ω–∞"]
  suggestions: string[];       // —Ç–µ–∫—Å—Ç–æ–≤—ã–µ —Å–æ–≤–µ—Ç—ã
  createdAt: Date;
};

type FarmerSuggestion = {
  farmerId: ObjectId;
  season: string;              // "–≤–µ—Å–Ω–∞ 2025", "–∏—é–ª—å 2025"
  suggestions: string[];       // —Å–æ–≤–µ—Ç—ã: "—Å–µ–π—á–∞—Å –≤—ã–≥–æ–¥–Ω–æ –ø—Ä–æ–¥–∞–≤–∞—Ç—å –º–∞–ª–∏–Ω—É"
  createdAt: Date;
};

type AdOptimizationHint = {
  adId: ObjectId;
  priceSuggestion?: number;    // —Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–Ω–∞—è —Ü–µ–Ω–∞
  priceChangePercent?: number;
  betterTitle?: string;
  betterDescription?: string;
  keywords?: string[];
  badgeType?: "hot" | "fresh" | "trending" | null;
  createdAt: Date;
};
```

---

### 1. PROMPT ‚Ññ5 ‚Äî –§–µ—Ä–º–µ—Ä—Å–∫–∏–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –∏ —Å–µ–∑–æ–Ω–Ω–æ—Å—Ç—å

**–ó–∞–¥–∞—á–∞:** —Ä–∞–∑ –≤ –¥–µ–Ω—å/–Ω–µ–¥–µ–ª—é —Å–æ–±–∏—Ä–∞—Ç—å –ø—Ä–æ—Å—Ç—É—é –∞–Ω–∞–ª–∏—Ç–∏–∫—É –ø–æ —Ñ–µ—Ä–º–µ—Ä—Å–∫–∏–º —Ç–æ–≤–∞—Ä–∞–º –∏ –≤—ã–¥–∞–≤–∞—Ç—å —Ñ–µ—Ä–º–µ—Ä–∞–º **–ø—Ä–æ—Å—Ç—ã–µ —Å–æ–≤–µ—Ç—ã**, —á—Ç–æ —Å–µ–π—á–∞—Å –≤—ã–≥–æ–¥–Ω–æ –ø—Ä–æ–¥–∞–≤–∞—Ç—å.

–°–¥–µ–ª–∞–π —Å–µ—Ä–≤–∏—Å `farmerSeasonService.ts` —Å–æ —Å–ª–µ–¥—É—é—â–∏–º –ø–æ–≤–µ–¥–µ–Ω–∏–µ–º:

```ts
async function buildFarmerSuggestionsForAll(): Promise<void>
```

–ê–ª–≥–æ—Ä–∏—Ç–º –ø—Ä–æ—Å—Ç–æ–π (–±–µ–∑ —Å–ª–æ–∂–Ω–æ–≥–æ ML):

1. –î–ª—è –∫–∞–∂–¥–æ–π —Ñ–µ—Ä–º–µ—Ä—Å–∫–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ (–æ–≤–æ—â–∏, —Ñ—Ä—É–∫—Ç—ã, —è–≥–æ–¥—ã, –º–æ–ª–æ—á–∫–∞ –∏ —Ç.–ø.) –ø–æ —Ä–µ–≥–∏–æ–Ω—É —Å–æ–±–∏—Ä–∞–µ–º —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –∑–∞ –ø–æ—Å–ª–µ–¥–Ω—é—é **–Ω–µ–¥–µ–ª—é**:

   * —Å–∫–æ–ª—å–∫–æ –æ–±—ä—è–≤–ª–µ–Ω–∏–π,
   * —Å—Ä–µ–¥–Ω—è—è —Ü–µ–Ω–∞,
   * —Å–∫–æ–ª—å–∫–æ –ø—Ä–æ—Å–º–æ—Ç—Ä–æ–≤ –≤ —Å—É–º–º–µ.

2. –í—ã—è–≤–ª—è–µ–º **—Ç–æ–≤–∞—Ä—ã —Å –≤—ã—Å–æ–∫–∏–º —Å–ø—Ä–æ—Å–æ–º –∏ –º–∞–ª—ã–º –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ–º**:

   * –º–∞–ª–æ –æ–±—ä—è–≤–ª–µ–Ω–∏–π (`adsCount` < –ø–æ—Ä–æ–≥–∞, –Ω–∞–ø—Ä–∏–º–µ—Ä 10),
   * –Ω–æ —Å—É–º–º–∞—Ä–Ω—ã–µ –ø—Ä–æ—Å–º–æ—Ç—Ä—ã / –∑–∞–ø—Ä–æ—Å—ã –ø–æ –ø–æ–∏—Å–∫—É –≤—ã—Å–æ–∫–∏–µ (–µ—Å–ª–∏ –µ—Å—Ç—å —Å—á—ë—Ç—á–∏–∫ –ø–æ–∏—Å–∫–æ–≤—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ –ø–æ –∫–ª—é—á–µ–≤—ã–º —Å–ª–æ–≤–∞–º ‚Äî –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å; –µ—Å–ª–∏ –Ω–µ—Ç, –ø–æ–∫–∞ –∏–≥–Ω–æ—Ä–∏—Ä—É–µ–º).

3. –î–ª—è –∫–∞–∂–¥–æ–≥–æ `FarmerProfile` –≤ —ç—Ç–æ–º —Ä–µ–≥–∏–æ–Ω–µ:

   * —Å–æ–±–µ—Ä–∏ —Å–ø–∏—Å–æ–∫ `suggestions`, –≤–∏–¥–∞:

     * ¬´–í –≤–∞—à–µ–º —Ä–∞–π–æ–Ω–µ –º–∞–ª–æ –æ–±—ä—è–≤–ª–µ–Ω–∏–π –ø–æ *–º–∞–ª–∏–Ω–µ*, –Ω–æ –≤—ã—Å–æ–∫–∏–π –∏–Ω—Ç–µ—Ä–µ—Å ‚Äî —Å–µ–π—á–∞—Å –≤—ã–≥–æ–¥–Ω–æ –≤—ã–ª–æ–∂–∏—Ç—å —è–≥–æ–¥—ã.¬ª
     * ¬´–ö–∞—Ä—Ç–æ—Ñ–µ–ª—å –ø–æ–∫—É–ø–∞—é—Ç —á–∞—â–µ, —á–µ–º –ø—Ä–µ–¥–ª–∞–≥–∞—é—Ç ‚Äî –º–æ–∂–Ω–æ –ø–æ–¥–Ω—è—Ç—å —Ü–µ–Ω—É –Ω–∞ 10‚Äì15%.¬ª

4. –ó–∞–ø–∏—à–∏ –≤ –∫–æ–ª–ª–µ–∫—Ü–∏—é `FarmerSuggestion` –∏ —Å–¥–µ–ª–∞–π –ø—Ä–æ—Å—Ç–æ–π API:

```ts
GET /api/farmers/me/suggestions
```

–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø–æ—Å–ª–µ–¥–Ω–∏–µ –∞–∫—Ç—É–∞–ª—å–Ω—ã–µ —Å–æ–≤–µ—Ç—ã.
–ù–∞ —Ñ—Ä–æ–Ω—Ç–µ ‚Äî –ø—Ä–æ—Å—Ç–æ —Å–ø–∏—Å–æ–∫ –ø–æ–¥—Å–∫–∞–∑–æ–∫ –≤ ¬´–§–µ—Ä–º–µ—Ä—Å–∫–æ–º –∫–∞–±–∏–Ω–µ—Ç–µ¬ª.

**–í–∞–∂–Ω–æ:** –ø–æ–∫–∞ –º–æ–∂–Ω–æ –æ–±–æ–π—Ç–∏—Å—å **–ø—Ä–æ—Å—Ç—ã–º–∏ –ø—Ä–∞–≤–∏–ª–∞–º–∏** (if/else, –ø–æ—Ä–æ–≥–∏). –í –∫–æ–¥–µ —è–≤–Ω–æ –ø–æ–º–µ—Ç—å –º–µ—Å—Ç–∞, –≥–¥–µ –¥–∞–ª—å—à–µ –º–æ–∂–Ω–æ –ø–æ–¥–∫–ª—é—á–∏—Ç—å –≤–Ω–µ—à–Ω–∏–π AI.

---

### 2. PROMPT ‚Ññ6 ‚Äî AI-–æ—Ü–µ–Ω–∫–∞ –æ–±—ä—è–≤–ª–µ–Ω–∏–π: —á—Ç–æ —É–ª—É—á—à–∏—Ç—å

–ù—É–∂–Ω–æ, —á—Ç–æ–±—ã –∫–∞–∂–¥–æ–µ –æ–±—ä—è–≤–ª–µ–Ω–∏–µ –ø–æ–ª—É—á–∞–ª–æ **–æ—Ü–µ–Ω–∫—É –∫–∞—á–µ—Å—Ç–≤–∞** (0‚Äì100) –∏ —Å–ø–∏—Å–æ–∫ –ø—Ä–æ–±–ª–µ–º.

–°–¥–µ–ª–∞–π —Å–µ—Ä–≤–∏—Å `adQualityService.ts`:

```ts
function evaluateAdQuality(ad: Ad, stats?: PriceStats): AdAiScore
```

–û—Ü–µ–Ω–∏ –ø–æ –ø—Ä–æ—Å—Ç—ã–º –ø—Ä–∞–≤–∏–ª–∞–º:

* +20 –±–∞–ª–ª–æ–≤, –µ—Å–ª–∏ –µ—Å—Ç—å ‚â• 3 —Ñ–æ—Ç–æ,
* ‚àí20, –µ—Å–ª–∏ –Ω–µ—Ç —Ñ–æ—Ç–æ,
* +20, –µ—Å–ª–∏ title –¥–ª–∏–Ω–æ–π 20‚Äì80 —Å–∏–º–≤–æ–ª–æ–≤,
* ‚àí10, –µ—Å–ª–∏ title —Å–ª–∏—à–∫–æ–º –∫–æ—Ä–æ—Ç–∫–∏–π (<10) –∏–ª–∏ —Å–ª–∏—à–∫–æ–º –¥–ª–∏–Ω–Ω—ã–π (>90),
* +10, –µ—Å–ª–∏ –∑–∞–ø–æ–ª–Ω–µ–Ω–æ –æ–ø–∏—Å–∞–Ω–∏–µ,
* +10, –µ—Å–ª–∏ —É–∫–∞–∑–∞–Ω–∞ –µ–¥–∏–Ω–∏—Ü–∞ –∏–∑–º–µ—Ä–µ–Ω–∏—è (kg/item),
* –¥–æ ¬±20 –±–∞–ª–ª–æ–≤ –∑–∞ **—Ü–µ–Ω—É**:

  * –µ—Å–ª–∏ `price` –≤ –∫–æ—Ä–∏–¥–æ—Ä–µ ¬±20% –æ—Ç `avgPrice` –ø–æ —Ä—ã–Ω–∫—É ‚Üí –æ–∫,
  * –µ—Å–ª–∏ —Ü–µ–Ω–∞ —Å–ª–∏—à–∫–æ–º –Ω–∏–∑–∫–∞—è (<60% –æ—Ç —Å—Ä–µ–¥–Ω–µ–≥–æ) ‚Üí –ø–æ–º–µ—á–∞–µ–º ¬´—Å–ª–∏—à–∫–æ–º –Ω–∏–∑–∫–∞—è —Ü–µ–Ω–∞¬ª,
  * –µ—Å–ª–∏ —Å–ª–∏—à–∫–æ–º –≤—ã—Å–æ–∫–∞—è (>150% —Å—Ä–µ–¥–Ω–µ–≥–æ) ‚Üí ¬´—Ü–µ–Ω–∞ –≤—ã—à–µ —Ä—ã–Ω–∫–∞¬ª.

–§–æ—Ä–º–∏—Ä—É–π `problems` –∏ `suggestions`:

–ü—Ä–∏–º–µ—Ä—ã:

* problems:

  * ¬´–ù–µ—Ç —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π¬ª
  * ¬´–°–ª–∏—à–∫–æ–º –∫–æ—Ä–æ—Ç–∫–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ¬ª
  * ¬´–¶–µ–Ω–∞ –Ω–∏–∂–µ —Ä—ã–Ω–∫–∞ –Ω–∞ 40%¬ª
* suggestions:

  * ¬´–î–æ–±–∞–≤—å—Ç–µ –º–∏–Ω–∏–º—É–º 3 —Ñ–æ—Ç–æ —Ç–æ–≤–∞—Ä–∞, —ç—Ç–æ —Å–∏–ª—å–Ω–æ –ø–æ–≤—ã—à–∞–µ—Ç –¥–æ–≤–µ—Ä–∏–µ¬ª
  * ¬´–£—Ç–æ—á–Ω–∏—Ç–µ –º–æ–¥–µ–ª—å, –≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å, —Å–æ—Ä—Ç¬ª
  * ¬´–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–¥–Ω—è—Ç—å —Ü–µ–Ω—É –±–ª–∏–∂–µ –∫ —Å—Ä–µ–¥–Ω–µ–π –ø–æ —Ä—ã–Ω–∫—É¬ª

–°–¥–µ–ª–∞–π:

```ts
POST /api/ads/:id/evaluate
```

* –≤—ã—á–∏—Å–ª—è–µ—Ç `AdAiScore`,
* —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –≤ –∫–æ–ª–ª–µ–∫—Ü–∏—é,
* –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ñ—Ä–æ–Ω—Ç—É.

–ü–ª—é—Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∑–∞–ø—É—Å–∫:

* –∫—Ä–æ–Ω-–∑–∞–¥–∞—á–∞/worker, –∫–æ—Ç–æ—Ä—ã–π —Ä–∞–∑ –≤ —á–∞—Å –ø—Ä–æ—Ö–æ–¥–∏—Ç –ø–æ –Ω–æ–≤—ã–º –æ–±—ä—è–≤–ª–µ–Ω–∏—è–º –∏ —Å—á–∏—Ç–∞–µ—Ç –æ—Ü–µ–Ω–∫—É.

–ù–∞ —Ñ—Ä–æ–Ω—Ç–µ:

* –≤ ¬´–ú–æ–∏ –æ–±—ä—è–≤–ª–µ–Ω–∏—è¬ª —É –∫–∞–∂–¥–æ–≥–æ –æ–±—ä—è–≤–ª–µ–Ω–∏—è –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å:

  * –±–µ–π–¥–∂: ¬´–ö–∞—á–µ—Å—Ç–≤–æ: 78/100¬ª
  * –∫–Ω–æ–ø–∫–∞: ¬´–ß—Ç–æ —É–ª—É—á—à–∏—Ç—å?¬ª ‚Üí —Ä–∞—Å–∫—Ä—ã–≤–∞–µ—Ç —Å–ø–∏—Å–æ–∫ `suggestions`.

---

### 3. PROMPT ‚Ññ7 ‚Äî –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–æ–≤—ã—à–µ–Ω–∏–µ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –∫–∞—Ä—Ç–æ—á–∫–∏

–ù–∞ –æ—Å–Ω–æ–≤–µ `AdAiScore` –Ω—É–∂–Ω–æ –¥–∞–≤–∞—Ç—å **–≥–æ—Ç–æ–≤—ã–µ —É–ª—É—á—à–µ–Ω–∏—è**:

* —Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–Ω–∞—è —Ü–µ–Ω–∞,
* —É–ª—É—á—à–µ–Ω–Ω—ã–π –∑–∞–≥–æ–ª–æ–≤–æ–∫/–æ–ø–∏—Å–∞–Ω–∏–µ,
* –∫–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞,
* —Ç–∏–ø –±–µ–π–¥–∂–∞/—Ü–≤–µ—Ç –∫–∞—Ä—Ç–æ—á–∫–∏.

–°–¥–µ–ª–∞–π —Å–µ—Ä–≤–∏—Å `adOptimizationService.ts`:

```ts
function buildOptimizationHint(ad: Ad, stats?: PriceStats, aiScore?: AdAiScore): AdOptimizationHint
```

–ü—Ä–∞–≤–∏–ª–∞ (–æ–ø—è—Ç—å –∂–µ –ø—Ä–æ—Å—Ç—ã–µ):

1. **–¶–µ–Ω–∞**

   –ï—Å–ª–∏ –µ—Å—Ç—å `PriceStats`:

   * –µ—Å–ª–∏ —Ü–µ–Ω–∞ < 60% –æ—Ç —Å—Ä–µ–¥–Ω–µ–π ‚Üí `priceSuggestion = avgPrice * 0.9`, `priceChangePercent = +X`.
   * –µ—Å–ª–∏ —Ü–µ–Ω–∞ > 150% ‚Üí `priceSuggestion = avgPrice * 1.1`, `priceChangePercent = -Y`.
   * –∏–Ω–∞—á–µ –Ω–µ —Ç—Ä–æ–≥–∞–µ–º.

2. **–ë–µ–π–¥–∂/—Ü–≤–µ—Ç**

   * –µ—Å–ª–∏ —Ç–æ–≤–∞—Ä **—Å–≤–µ–∂–∏–π —Ñ–µ—Ä–º–µ—Ä—Å–∫–∏–π** (–∫–∞—Ç–µ–≥–æ—Ä–∏—è —Ñ–µ—Ä–º–µ—Ä—Å–∫–∞—è, —Å–æ–∑–¥–∞–Ω < 24 —á–∞—Å–æ–≤) ‚Üí `badgeType = "fresh"`.
   * –µ—Å–ª–∏ –æ–±—ä—è–≤–ª–µ–Ω–∏–µ –∏–º–µ–µ—Ç –≤—ã—Å–æ–∫–∏–π CTR (–º–Ω–æ–≥–æ –ø—Ä–æ—Å–º–æ—Ç—Ä–æ–≤ / –º–∞–ª–æ –∫–ª–∏–∫–æ–≤ –ø–æ –∫–æ–Ω—Ç–∞–∫—Ç—É) ‚Üí `badgeType = "hot"` –∏–ª–∏ ` "trending"`.

3. **–¢–µ–∫—Å—Ç (–∑–∞–≥–ª—É—à–∫–∞ –≤–º–µ—Å—Ç–æ AI)**

   –ü—Ä–æ—Å—Ç–æ –¥–æ–±–∞–≤—å –ø–∞—Ä—É –±–∞–∑–æ–≤—ã—Ö —à–∞–±–ª–æ–Ω–æ–≤ –Ω–∞ JS:

   * –µ—Å–ª–∏ title —Å–ª–∏—à–∫–æ–º –∫–æ—Ä–æ—Ç–∫–∏–π:
     ‚Üí `betterTitle = "<–∫–∞—Ç–µ–≥–æ—Ä–∏—è> ‚Äî <–æ—Å–Ω–æ–≤–Ω–æ–π –ø–∞—Ä–∞–º–µ—Ç—Ä> <–≥–æ—Ä–æ–¥>"` (–Ω–∞–ø—Ä–∏–º–µ—Ä: ¬´–ú–∞–ª–∏–Ω–∞ —Å–≤–µ–∂–∞—è, 1 –∫–≥ ‚Äî –ë—Ä–µ—Å—Ç¬ª).
   * –µ—Å–ª–∏ description –ø—É—Å—Ç–æ–µ:
     ‚Üí `betterDescription = "–°–≤–µ–∂–∏–π —Ç–æ–≤–∞—Ä –æ—Ç –º–µ—Å—Ç–Ω–æ–≥–æ –ø—Ä–æ–¥–∞–≤—Ü–∞. –£—Ç–æ—á–Ω—è–π—Ç–µ –¥–µ—Ç–∞–ª–∏ –∏ –≤–æ–∑–º–æ–∂–Ω—É—é –¥–æ—Å—Ç–∞–≤–∫—É."`

   –¢–∞–∫–∂–µ —Å–≥–µ–Ω–µ—Ä–∏—Ä—É–π –º–∞—Å—Å–∏–≤ `keywords` (–ø—Ä–æ—Å—Ç–æ —Ä–∞–∑–±–µ–π title + –∫–∞—Ç–µ–≥–æ—Ä–∏—è –Ω–∞ 3‚Äì5 –æ—Å–Ω–æ–≤–Ω—ã—Ö —Å–ª–æ–≤, –±–µ–∑ —Å—Ç–æ–ø-—Å–ª–æ–≤).

4. **API –∏ —Ñ—Ä–æ–Ω—Ç**

–°–¥–µ–ª–∞–π endpoint:

```ts
GET /api/ads/:id/optimization-hint
```

–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç `AdOptimizationHint`.

–ù–∞ —Ñ—Ä–æ–Ω—Ç–µ, –≤ ¬´–ú–æ–∏ –æ–±—ä—è–≤–ª–µ–Ω–∏—è ‚Üí —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ¬ª:

* –±–ª–æ–∫ **¬´–£–º–Ω—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏¬ª**:

  * ¬´üîç –ö–∞—á–µ—Å—Ç–≤–æ: 78/100¬ª
  * ¬´üí° –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–∞—è —Ü–µ–Ω–∞: 18 —Ä—É–±. (—Å–µ–π—á–∞—Å 15 —Ä—É–±., –Ω–∏–∂–µ —Ä—ã–Ω–∫–∞ –Ω–∞ 20%)¬ª
  * ¬´‚úèÔ∏è –ü—Ä–µ–¥–ª–∞–≥–∞–µ–º—ã–π –∑–∞–≥–æ–ª–æ–≤–æ–∫: ‚Ä¶¬ª
  * ¬´üìå –ö–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞: –º–∞–ª–∏–Ω–∞, —Å–≤–µ–∂–∞—è, —è–≥–æ–¥—ã, –ë—Ä–µ—Å—Ç¬ª

* –∫–Ω–æ–ø–∫–∏:

  * ¬´–ü—Ä–∏–º–µ–Ω–∏—Ç—å —Ü–µ–Ω—É¬ª ‚Üí –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç PATCH –Ω–∞ `/api/ads/:id` —Å –Ω–æ–≤–æ–π —Ü–µ–Ω–æ–π;
  * ¬´–ü—Ä–∏–º–µ–Ω–∏—Ç—å —Ç–µ–∫—Å—Ç¬ª ‚Üí –ø–æ–¥—Å—Ç–∞–≤–ª—è–µ—Ç title/description –≤ —Ñ–æ—Ä–º—É (–ø–µ—Ä–µ–¥ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –ø–æ–ø—Ä–∞–≤–∏—Ç—å).

**–í–∞–∂–Ω–æ:** –Ω–∏–∫–∞–∫–∏—Ö –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π –±–µ–∑ —Å–æ–≥–ª–∞—Å–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è ‚Äî –≤—Å—ë –∞–∫—Ç–∏–≤–∏—Ä—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø–æ –∫–ª–∏–∫—É.

---

### 4. –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∏ —Ä–∞—Å—à–∏—Ä—è–µ–º–æ—Å—Ç—å

1. –í–µ—Å—å AI-—Å–ª–æ–π —Ä–∞–∑–±–µ–π –Ω–∞ **3 –æ—Ç–¥–µ–ª—å–Ω—ã–µ —Å–µ—Ä–≤–∏—Å-–º–æ–¥—É–ª—è**:

   * `farmerSeasonService.ts`
   * `adQualityService.ts`
   * `adOptimizationService.ts`

2. –í–Ω—É—Ç—Ä–∏ –º–æ–¥—É–ª–µ–π **–æ—Ç–¥–µ–ª—å–Ω–æ –≤—ã–¥–µ–ª–∏ —Ñ—É–Ω–∫—Ü–∏–∏-¬´–∑–∞–≥–ª—É—à–∫–∏¬ª**, —Ç–∏–ø–∞:

   ```ts
   function callExternalAiForTextImprovement(ad: Ad): { betterTitle: string; betterDescription: string; keywords: string[] } {
     // TODO: later ‚Äî –∑–∞–º–µ–Ω–∏—Ç—å –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–π AI
     // –ø–æ–∫–∞: –ø—Ä–∏–º–∏—Ç–∏–≤–Ω—ã–µ —à–∞–±–ª–æ–Ω—ã
   }
   ```

   –≠—Ç–æ –ø–æ–∑–≤–æ–ª–∏—Ç –ø–æ—Ç–æ–º –ø—Ä–æ—Å—Ç–æ –∑–∞–º–µ–Ω–∏—Ç—å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é, –Ω–µ –ø–µ—Ä–µ–ø–∏—Å—ã–≤–∞—è API.

3. –î–æ–±–∞–≤—å –±–∞–∑–æ–≤—ã–µ —Ç–µ—Å—Ç—ã:

   * –Ω–∞ —Ä–∞—Å—á—ë—Ç —Ü–µ–Ω—ã –∏ –æ—Ü–µ–Ω–∫—É –∫–∞—á–µ—Å—Ç–≤–∞,
   * –Ω–∞ —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–≤–µ—Ç–æ–≤ —Ñ–µ—Ä–º–µ—Ä—É.

---

–°–¥–µ–ª–∞–π –≤—Å—ë **–º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –ø—Ä–æ—Å—Ç–æ –∏ –ø—Ä–æ–∑—Ä–∞—á–Ω–æ**: –±–µ–∑ –ª–∏—à–Ω–∏—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π, –Ω–∞ —á–∏—Å—Ç–æ–º TypeScript/JS —Å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è–º–∏.
–§—Ä–æ–Ω—Ç ‚Äî –∞–∫–∫—É—Ä–∞—Ç–Ω—ã–µ –±–ª–æ–∫–∏ ¬´–°–æ–≤–µ—Ç—ã¬ª / ¬´–ö–∞—á–µ—Å—Ç–≤–æ¬ª / ¬´–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è¬ª –≤ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö —ç–∫—Ä–∞–Ω–∞—Ö, –±–µ–∑ –±–æ–ª—å—à–æ–≥–æ —Ä–µ–¥–∏–∑–∞–π–Ω–∞.
