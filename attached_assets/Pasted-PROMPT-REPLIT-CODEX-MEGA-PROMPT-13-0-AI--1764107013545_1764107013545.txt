PROMPT –î–õ–Ø REPLIT / CODEX

–ó–∞–¥–∞—á–∞:
–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –º–æ–¥—É–ª—å  
üî• MEGA-PROMPT 13.0 ‚Äî ¬´AI-–î–ò–ù–ê–ú–ò–ß–ï–°–ö–û–ï –¶–ï–ù–û–û–ë–†–ê–ó–û–í–ê–ù–ò–ï¬ª  
–∫–∞–∫ –≤ Uber Surge + Avito Pro + Amazon Dynamic Pricing.

–ú–æ–¥—É–ª—å –±—É–¥–µ—Ç:

- –∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Å–ø—Ä–æ—Å –≤–æ–∫—Ä—É–≥ —Ç–æ–≤–∞—Ä–∞,
- —Å–º–æ—Ç—Ä–µ—Ç—å –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–æ–≤,
- —É—á–∏—Ç—ã–≤–∞—Ç—å —Å–µ–∑–æ–Ω–Ω–æ—Å—Ç—å,
- –∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –≤—Ä–µ–º—è –ø—É–±–ª–∏–∫–∞—Ü–∏–∏,
- —Å–º–æ—Ç—Ä–µ—Ç—å –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –ø–æ–∫—É–ø–∞—Ç–µ–ª–µ–π,
- –ø—Ä–µ–¥–ª–∞–≥–∞—Ç—å –ø—Ä–æ–¥–∞–≤—Ü—É –æ–ø—Ç–∏–º–∞–ª—å–Ω—É—é —Ü–µ–Ω—É,
- –ø–æ–¥—Å–≤–µ—á–∏–≤–∞—Ç—å ‚Äú–Ω–∏–∂–µ —Ä—ã–Ω–∫–∞ / –≤—ã—à–µ —Ä—ã–Ω–∫–∞‚Äù,
- –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ —Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ü–µ–Ω—ã.

====================================================================
0. –¶–ï–õ–¨
====================================================================

–°–¥–µ–ª–∞—Ç—å —Å–∏—Å—Ç–µ–º—É, –∫–æ—Ç–æ—Ä–∞—è:

1) –î–ª—è –∫–∞–∂–¥–æ–≥–æ —Ç–æ–≤–∞—Ä–∞ –ø—Ä–æ–¥–∞–≤—Ü–∞ –≤—ã—á–∏—Å–ª—è–µ—Ç:
   - —Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–Ω—É—é —Ü–µ–Ω—É,
   - –¥–∏–∞–ø–∞–∑–æ–Ω —Ü–µ–Ω—ã (min‚Äìmax),
   - –ø–æ–∑–∏—Ü–∏—é —Ü–µ–Ω—ã –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ —Ä—ã–Ω–∫–∞.

2) –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø—Ä–æ–¥–∞–≤—Ü—É –ø–æ–¥—Å–∫–∞–∑–∫–∏:
   - ¬´–¶–µ–Ω–∞ –≤—ã—à–µ —Ä—ã–Ω–∫–∞ –Ω–∞ 27%¬ª
   - ¬´–ú–æ–∂–Ω–æ –ø–æ–¥–Ω—è—Ç—å —Ü–µ–Ω—É –Ω–∞ 12% ‚Äî —Å–ø—Ä–æ—Å –≤—ã—Å–æ–∫–∏–π¬ª
   - ¬´–í —Ä–∞–¥–∏—É—Å–µ 2 –∫–º –º–∞–ª–æ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π ‚Äî –ø–æ–≤—ã—Å–∏—Ç—å —Ü–µ–Ω—É?¬ª

3) –í—ã–¥–∞—ë—Ç *–∏–º–ø—É–ª—å—Å–Ω—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏*:
   - —É—Ç—Ä–æ–º –º–æ–∂–µ—à—å –ø–æ–¥–Ω—è—Ç—å —Ü–µ–Ω—É (–≤—ã–ø–µ—á–∫–∞),
   - –≤–µ—á–µ—Ä–æ–º —Å–ø—Ä–æ—Å –Ω–∏–∑–∫–∏–π ‚Äî —Ü–µ–Ω–∞ –≤–Ω–∏–∑.

4) –£—á–∏—Ç—ã–≤–∞–µ—Ç *–≥–µ–æ*:
   - –≤ —Ü–µ–Ω—Ç—Ä–µ —Å–ø—Ä–æ—Å –≤—ã—à–µ
   - –≤ –¥–µ—Ä–µ–≤–Ω–µ ‚Äî –Ω–∏–∂–µ

5) –£—á–∏—Ç—ã–≤–∞–µ—Ç *—Å–µ–∑–æ–Ω–Ω–æ—Å—Ç—å*:
   - —è–≥–æ–¥—ã ‚Üí –ø–∏–∫ —Å–ø—Ä–æ—Å–∞
   - —Ç—é–ª—å–ø–∞–Ω—ã –∫ 8 –º–∞—Ä—Ç–∞
   - –∫–ª—É–±–Ω–∏–∫–∞ ‚Äî —É—Ç—Ä–æ/–≤–µ—á–µ—Ä

6) –£–≤–µ–¥–æ–º–ª—è–µ—Ç –ø—Ä–æ–¥–∞–≤—Ü–∞:
   - –∫–æ–≥–¥–∞ –∏–∑–º–µ–Ω–∏–ª—Å—è —Ä—ã–Ω–æ–∫,
   - –∫–æ–≥–¥–∞ –≤—ã—Ä–æ—Å —Å–ø—Ä–æ—Å,
   - –∫–æ–≥–¥–∞ –º–æ–∂–Ω–æ –ø–æ–¥–Ω—è—Ç—å/–æ–ø—É—Å—Ç–∏—Ç—å —Ü–µ–Ω—É.

====================================================================
1. BACKEND ‚Äî PRICE ENGINE
====================================================================

–°–æ–∑–¥–∞—Ç—å –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é:

`/backend/src/price/`

–°–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª:

`DynamicPriceEngine.ts`

--------------------------------------------------
1.1. –û—Å–Ω–æ–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è
--------------------------------------------------

```ts
class DynamicPriceEngine {
  static async calculatePrice(ad: Ad): Promise<{
    recommended: number;
    marketMin: number;
    marketMax: number;
    marketAvg: number;
    position: 'low' | 'optimal' | 'high';
    confidence: number; // 0-1
    reasons: string[];
  }> 
–ê–ª–≥–æ—Ä–∏—Ç–º:

–°–æ–±—Ä–∞—Ç—å –∞–Ω–∞–ª–æ–≥–∏:

ts
–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∫–æ–¥
const comps = await Ad.find({
  categoryId: ad.categoryId,
  tags: { $in: ad.tags },
  geo: { $near: ... },   // 5‚Äì10 –∫–º
});
–û—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤–∞—Ç—å –º—É—Å–æ—Ä:

–±–µ–∑ —Ñ–æ—Ç–æ

—Å–ª–∏—à–∫–æ–º —Å—Ç–∞—Ä—ã–µ

—Å–ª–∏—à–∫–æ–º –¥–µ—à—ë–≤—ã–µ / –¥–æ—Ä–æ–≥–∏–µ –≤—ã–±—Ä–æ—Å—ã (remove outliers)

–†–∞—Å—Å—á–∏—Ç–∞—Ç—å:

min, max, avg, median

–û–ø—Ä–µ–¥–µ–ª–∏—Ç—å —Å–µ–∑–æ–Ω–Ω–æ—Å—Ç—å:

ts
–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∫–æ–¥
const seasonFactor = SeasonalInsight.getFactor(ad.categoryId);
–£—á–µ—Å—Ç—å GeoDemand:

ts
–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∫–æ–¥
const demandScore = HotspotEngine.getDemandScore(geo, categoryId);
–ò—Ç–æ–≥–æ–≤–∞—è —Ñ–æ—Ä–º—É–ª–∞:

ts
–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∫–æ–¥
recommended = 
   avg 
   * seasonFactor 
   * demandScore 
   * qualityFactor(ad)   // –∫–∞—á–µ—Å—Ç–≤–æ –æ–ø–∏—Å–∞–Ω–∏—è+—Ñ–æ—Ç–æ
–û–ø—Ä–µ–¥–µ–ª–∏—Ç—å –ø–æ–∑–∏—Ü–∏—é —Ü–µ–Ω—ã:

–Ω–∏–∂–µ —Ä—ã–Ω–∫–∞: ad.price < avg * 0.9

–æ–ø—Ç–∏–º–∞–ª—å–Ω–∞—è: ¬±10%

–≤—ã—à–µ —Ä—ã–Ω–∫–∞: ad.price > avg * 1.1

–í–µ—Ä–Ω—É—Ç—å –Ω–∞–±–æ—Ä —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π.

1.2. qualityFactor(ad)
–ù–∞ –æ—Å–Ω–æ–≤–µ:

–∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Ñ–æ—Ç–æ,

–∫–∞—á–µ—Å—Ç–≤–∞ —Ç–µ–∫—Å—Ç–∞,

AI –æ—Ü–µ–Ω–∫–∏ –æ–ø–∏—Å–∞–Ω–∏—è,

–∫–∞—Ç–µ–≥–æ—Ä–∏–∏ (–Ω–µ–∫–æ—Ç–æ—Ä—ã–µ —Ç—Ä–µ–±—É—é—Ç —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫).

–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:

0.9‚Äì1.1 –º–Ω–æ–∂–∏—Ç–µ–ª—å.

====================================================================
2. BACKEND ‚Äî API
–°–æ–∑–¥–∞—Ç—å –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä:

/api/dynamic-price/*

2.1. –ü–æ–ª—É—á–∏—Ç—å –∞–Ω–∞–ª–∏—Ç–∏–∫—É –ø–æ —Ü–µ–Ω–µ —Ç–æ–≤–∞—Ä–∞
GET /api/dynamic-price/:adId

–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:

json
–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∫–æ–¥
{
  "recommended": 320,
  "marketMin": 250,
  "marketMax": 380,
  "marketAvg": 305,
  "position": "above",
  "confidence": 0.82,
  "reasons": [
    "–≤—ã—Å–æ–∫–∏–π —Å–ø—Ä–æ—Å –≤ —Ä–∞–π–æ–Ω–µ",
    "—É –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–æ–≤ –º–∞–ª–æ –æ–±—ä—è–≤–ª–µ–Ω–∏–π",
    "—Å–µ–∑–æ–Ω–Ω—ã–π —Ñ–∞–∫—Ç–æ—Ä ‚Äî –ø–∏–∫",
    "–≤–∞—à–∞ —Ü–µ–Ω–∞ –≤—ã—à–µ —Ä—ã–Ω–∫–∞ –Ω–∞ 23%"
  ]
}
2.2. –ú–∞—Å—Å–æ–≤—ã–π –ø–µ—Ä–µ—Å—á—ë—Ç —Ç–æ–≤–∞—Ä–æ–≤ –ø—Ä–æ–¥–∞–≤—Ü–∞
GET /api/dynamic-price/seller/:sellerId/recalculate

====================================================================
3. BACKEND ‚Äî PRICE WATCHER (–£–í–ï–î–û–ú–õ–ï–ù–ò–Ø)
–î–æ–±–∞–≤–∏—Ç—å PriceWatcher:

PriceWatcher.ts (cron/worker)

–ö–∞–∂–¥—ã–µ 10 –º–∏–Ω—É—Ç:

–ü—Ä–æ–≤–µ—Ä—è–µ—Ç –Ω–æ–≤—ã–µ –æ–±—ä—è–≤–ª–µ–Ω–∏—è.

–ü—Ä–æ–≤–µ—Ä—è–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ä—ã–Ω–∫–∞ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º.

–°—Ä–∞–≤–Ω–∏–≤–∞–µ—Ç —Ü–µ–Ω—É —Ç–æ–≤–∞—Ä–∞ —Å –Ω–æ–≤—ã–º recommended.

–ï—Å–ª–∏ —Ä–∞–∑–Ω–∏—Ü–∞ –±–æ–ª—å—à–∞—è ‚Äî —Å–æ–∑–¥–∞—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ:

¬´–°–ø—Ä–æ—Å –≤—ã—Ä–æ—Å ‚Äî –ø–æ–¥–Ω–∏–º–∏—Ç–µ —Ü–µ–Ω—É¬ª

¬´–ü–æ—è–≤–∏–ª–∏—Å—å –∞–Ω–∞–ª–æ–≥–∏ –¥–µ—à–µ–≤–ª–µ –Ω–∞ 10%¬ª

¬´–í —Ä–∞–¥–∏—É—Å–µ 3 –∫–º –æ–±–≤–∞–ª —Ü–µ–Ω—ã –ø–æ —ç—Ç–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏¬ª

–û—Ç–ø—Ä–∞–≤–∫–∞ —á–µ—Ä–µ–∑ NotificationEngine:

Telegram push

Mobile push

–í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è MiniApp

====================================================================
4. FRONTEND MINIAPP ‚Äî UI –î–ò–ù–ê–ú–ò–ß–ï–°–ö–ò–• –¶–ï–ù
–≠–∫—Ä–∞–Ω –≤ –∫–∞—Ä—Ç–æ—á–∫–µ —Ç–æ–≤–∞—Ä–∞ (–¥–ª—è –ø—Ä–æ–¥–∞–≤—Ü–∞):

üìä –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ —Ä—ã–Ω–∫–∞
‚Ä¢ –°—Ä–µ–¥–Ω—è—è —Ü–µ–Ω–∞: 305 —Ä—É–±
‚Ä¢ –í –≤–∞—à–µ–º —Ä–∞–π–æ–Ω–µ: –≤—ã—Å–æ–∫–∏–π —Å–ø—Ä–æ—Å
‚Ä¢ –í–∞—à–∞ —Ü–µ–Ω–∞: 350 —Ä—É–± (–≤—ã—à–µ —Ä—ã–Ω–∫–∞ –Ω–∞ 23%)
‚Ä¢ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è: 320 —Ä—É–±
‚Ä¢ –ü–æ–∑–∏—Ü–∏—è: üî¥ –í—ã—à–µ —Ä—ã–Ω–∫–∞
‚Ä¢ –£–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å AI: 82%

–ö–Ω–æ–ø–∫–∞:
[ –ü—Ä–∏–º–µ–Ω–∏—Ç—å —Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–Ω—É—é —Ü–µ–Ω—É ]

üî• –ì—Ä–∞—Ñ–∏–∫ —Ü–µ–Ω –∑–∞ –Ω–µ–¥–µ–ª—é
Line chart:

min / max / avg –ø–æ —Ä—ã–Ω–∫—É

—Ç–≤–æ—è —Ü–µ–Ω–∞

üìà –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è
¬´–¶–µ–Ω–∞ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–æ–≤ —É–ø–∞–ª–∞ –Ω–∞ 12%¬ª

¬´–°–ø—Ä–æ—Å –≤—ã—Ä–æ—Å ‚Äî –º–æ–∂–Ω–æ –ø–æ–¥–Ω—è—Ç—å¬ª

¬´–ü–ª–æ—Ö–∏–µ —Ñ–æ—Ç–æ —Å–Ω–∏–∂–∞—é—Ç —Ü–µ–Ω—É ‚Äî —É–ª—É—á—à–∏—Ç–µ¬ª

====================================================================
5. FRONTEND MINIAPP ‚Äî –£–í–ï–î–û–ú–õ–ï–ù–ò–Ø
–ü—Ä–æ–¥–∞–≤—Ü—É –ø—Ä–∏—Ö–æ–¥—è—Ç:

¬´–¶–µ–Ω–∞ —Å—Ç–∞–ª–∞ –≤—ã—à–µ —Ä—ã–Ω–∫–∞¬ª

¬´–í–∞—à —Ç–æ–≤–∞—Ä –¥–µ—à–µ–≤–ª–µ –Ω–∞ 18% ‚Äî –º–æ–∂–Ω–æ –ø–æ–¥–Ω—è—Ç—å¬ª

¬´üî• –£ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–æ–≤ –Ω–µ—Ç –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π ‚Äî –ø–æ–¥–Ω–∏–º–∏—Ç–µ —Ü–µ–Ω—É¬ª

¬´üìâ –¶–µ–Ω–∞ –≤ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ —É–ø–∞–ª–∞ ‚Äî –ø–æ–¥—É–º–∞–π—Ç–µ –æ —Å–Ω–∏–∂–µ–Ω–∏–∏¬ª

====================================================================
6. AI –ò –ò–ù–¢–ï–ì–†–ê–¶–ò–Ø
AI Engine –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è:

–¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Ç–µ–∫—Å—Ç–∞ + —Ñ–æ—Ç–æ,

–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –±—Ä–µ–Ω–¥–∞, –º–æ–¥–µ–ª–∏, —Å–æ—Å—Ç–æ—è–Ω–∏—è,

—Å—Ä–∞–≤–Ω–µ–Ω–∏—è –∫–∞—Ç–µ–≥–æ—Ä–∏–∏,

–ø—Ä–æ–≥–Ω–æ–∑–∏—Ä–æ–≤–∞–Ω–∏—è —Å–µ–∑–æ–Ω–Ω–æ—Å—Ç–∏.

–ò—Å–ø–æ–ª—å–∑—É–µ—Ç:

embeddings –¥–ª—è –ø–æ–∏—Å–∫–∞ –∞–Ω–∞–ª–æ–≥–æ–≤,

–∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ç–æ—Ä seasonality,

geo-–º–æ–¥–µ–ª—å –±–ª–∏–∂–∞–π—à–∏—Ö –ø–æ–∫—É–ø–æ–∫.

====================================================================
7. –ù–ï –õ–û–ú–ê–ï–ú –ö–û–î
Ad –º–æ–¥–µ–ª—å –Ω–µ –∏–∑–º–µ–Ω—è–µ–º,

CategoryEngine –Ω–µ –ª–æ–º–∞–µ–º,

–¥–æ–±–∞–≤–ª—è–µ–º —Ç–æ–ª—å–∫–æ:

DynamicPriceEngine.ts

PriceWatcher.ts

API dynamic-price/*

UI –≤ MiniApp

====================================================================
–†–ï–ó–Æ–ú–ï
–≠—Ç–æ—Ç –º–æ–¥—É–ª—å –¥–æ–ª–∂–µ–Ω:

–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Ä—ã–Ω–æ–∫ –≤–æ–∫—Ä—É–≥ –∫–∞–∂–¥–æ–≥–æ —Ç–æ–≤–∞—Ä–∞,

–≤—ã—á–∏—Å–ª—è—Ç—å –æ–ø—Ç–∏–º–∞–ª—å–Ω—É—é —Ü–µ–Ω—É,

–¥–∞–≤–∞—Ç—å —Å–æ–≤–µ—Ç—ã –ø—Ä–æ–¥–∞–≤—Ü—É,

—É–≤–µ–¥–æ–º–ª—è—Ç—å –æ —Ç—Ä–µ–Ω–¥–∞—Ö,

—É—á–∏—Ç—ã–≤–∞—Ç—å –≥–µ–æ, —Å–µ–∑–æ–Ω–Ω–æ—Å—Ç—å, —Å–ø—Ä–æ—Å, –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–æ–≤, –∫–∞—á–µ—Å—Ç–≤–æ –æ–±—ä—è–≤–ª–µ–Ω–∏—è,

—Ä–∞–±–æ—Ç–∞—Ç—å –∫–∞–∫ Uber Surge Pricing –≤ –º–∏—Ä–µ –æ–±—ä—è–≤–ª–µ–Ω–∏–π.

–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –≤—Å—ë –Ω–∞ TypeScript.