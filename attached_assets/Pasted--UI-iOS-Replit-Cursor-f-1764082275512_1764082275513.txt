Мини-промт: супер-красивый UI выбора даты/времени (как iOS)

Скопируй это в Replit / Cursor:

Ты — frontend-разработчик (React + TypeScript, Telegram MiniApp).

Нужно сделать **супер-приятный UI выбора даты/времени публикации**, максимально похожий на iOS-picker, для блока планирования публикации объявления.

Контекст:
- Уже есть логика отложенной публикации (publishAt: Date | null).
- Сейчас, скорее всего, используется обычный `<input type="datetime-local">`.
- Мы хотим заменить это на красивый кастомный компонент.

Создай компонент:

`miniapp/src/components/schedule/IOSDateTimePicker.tsx`

API:

```ts
interface IOSDateTimePickerProps {
  value: Date | null;
  min?: Date; // минимум (по умолчанию: сейчас + 5 минут)
  max?: Date; // опционально
  onChange: (next: Date | null) => void;
}


Требования по UX:

Общий вид:

Белая карточка с закруглёнными краями (border-radius ~16px), лёгкой тенью.

Внутри — “колёсики” по типу iOS:

отдельная колонка для Даты,

отдельная колонка для Часа,

отдельная колонка для Минут (с шагом 5 или 10 мин).

По центру — активная строка (выбранный элемент), сверху и снизу — менее яркие, полупрозрачные элементы.

Высота блока ~ 3–4 строки элементов.

Реализация “колёсиков”:

Можно сделать через 3 вертикальных scroll-списка (overflow-y: scroll) с фиксированной высотой.

При остановке скролла — позиционировать выбранный элемент в центр.

Логика:

при скролле дата-колонки — меняется день/месяц/год, время остаётся прежним;

при скролле часа/минут — меняются только время.

Набор значений:

Даты:

список минимум на 14 дней вперёд (сегодня + ближайшие дни),

формат строки:

Сегодня, 28 ноября

Завтра, 29 ноября

Пт, 30 ноября

Можно добавлять месяц, если переход через месяц.

Часы:

от 00 до 23 (или с учётом min, если нужно).

Минуты:

шаг 5 или 10 минут:

00, 05, 10, 15, 20, ..., 55.

Синхронизация:

Если value === null → инициализировать value ближайшим допустимым временем:

nowRoundedUpToNext5Minutes, но НЕ меньше min.

При изменении одного из “колёсиков”:

собирать новую дату:

дата из первого,

час из второго,

минуты из третьего,

проверять против min/max:

если < min → установить min,

если > max → обрезать до max.

Валидация и подсказки:

Если выбрана дата/время < min:

подсветить над компонентом маленький текст красным:

“Минимальное время — через 5 минут”

но внутри всё равно показывать выбранное пользователем.

Под компонентом можно вывести:

“Время указано по вашему локальному времени”.

Встраивание:

В блоке выбора времени публикации (SchedulePublishBlock):

вместо <input type="datetime-local"> использовать:

<IOSDateTimePicker
  value={publishAt}
  min={new Date(Date.now() + 5 * 60 * 1000)}
  onChange={setPublishAt}
/>


TypeScript:

без any,

аккуратно типизировать внутренние массивы дат/часов/минут.

В конце выведи список файлов, которые создал/обновил, и кратко опиши изменения.


---

## 2️⃣ Мини-промт: UI карточки «Запланировано» в списке «Мои объявления»

```text
Ты — frontend-разработчик (React + TypeScript, Telegram MiniApp).

Нужно улучшить список «Мои объявления», чтобы запланированные объявления выглядели ОТДЕЛЬНО и красиво.

Цель:
- Пользователь сразу видит, какие объявления уже опубликованы, а какие **“Запланированы на …”**.
- Для запланированных — показать, когда они выйдут и через сколько времени.

Контекст:
- Модель объявления уже имеет:
  - `status: 'draft' | 'scheduled' | 'active' | 'archived'`
  - `publishAt?: string | Date | null`

Найди экран со списком «Мои объявления»:
- что-то вроде `MyAdsScreen.tsx`, `ProfileAdsScreen.tsx` и компонент карточки `MyAdCard`.

Доработай:

1) Визуальное разделение:

- Вверху списка добавить небольшие табы/сегменты:
  - `[Все] [Активные] [Запланированные] [Черновики]` (по возможности)
  - либо хотя бы показывать отдельный блок:
    - "Запланированные" → список scheduled,
    - ниже "Опубликованные" → active.

2) Карточка запланированного объявления:

Создай отдельный стиль (можно отдельный компонент-обёртку) `ScheduledAdBadge` или `ScheduledAdCardState`:

На карточке:

- Небольшой цветной чип в верхней части или над заголовком:
  - фон: мягкий синий/фиолетовый,
  - текст: «Запланировано».

- Под заголовком/ценой — строка:

  - `"Будет опубликовано: 28 ноября, 14:30"`
  - и вторая строка:
    - `"Через 3 часа 15 минут"` (доп. информация).

Сделай helper:

```ts
function formatPublishAt(publishAt: Date): {
  dateLabel: string;   // "28 ноября, 14:30"
  relativeLabel: string; // "Через 3 часа 15 минут"
}


Пример логики:

Если < 1 часа → "Через 45 минут".

Если < 24 часов → "Через 5 часов".

Если ≥ 24 часов → "Через 3 дня".

На основе Intl.DateTimeFormat + простая разница в миллисекундах.

Кнопки управления:

Для запланированных объявлений:

Показать кнопки:

"Изменить время" → перекидывает на экран редактирования с открытым date/time picker.

"Отменить публикацию" → переводит статус в draft или archived (используй уже существующий endpoint).

Кнопки могут быть в виде:

двух текстовых ссылок под карточкой,

или иконок в меню “•••”.

Состояние “будет опубликовано скоро”:

Если до публикации осталось ≤ 1 часа:

чип “Запланировано” окрашиваем чуть ярче,

можно добавить маленький индикатор (точку) а-ля “онлайн”.

Текст:

"Скоро будет опубликовано" над временем.

Общий стиль:

Не перегружать:

фон карточки остаётся белый,

акцент только на чипе и строке времени.

Шрифты:

чип — 11–12px,

время — 13–14px.

Реализация:

В компоненте MyAdCard:

если ad.status === 'scheduled':

рендерить чип “Запланировано” и блок времени,

показать управление (изменить / отменить),

НЕ показывать статусы вроде “Активно”.

если active:

обычный вид (как сейчас),

без блока времени.

В конце — выведи список изменённых/созданных файлов, например:

MyAdsScreen.tsx — добавлены секции для запланированных.

MyAdCard.tsx — добавлен UI для запланированных объявлений.

dateUtils.ts — helper для форматирования publishAt/relative time.