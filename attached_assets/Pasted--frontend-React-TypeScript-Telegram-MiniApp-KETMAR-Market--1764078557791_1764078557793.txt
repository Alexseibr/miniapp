Ты — frontend-разработчик (React + TypeScript, Telegram MiniApp) в проекте KETMAR Market.

ПРОБЛЕМА (БАГ):
Сейчас в мастере подачи объявления шаг «Где вы продаёте?» (геолокация) работает так:

1. Пользователь запускает подачу объявления.
2. На первом шаге ему показывается экран:
   - заголовок: «Где вы продаёте?»
   - подзаголовок: «Мы определим район или деревню, где вы сейчас находитесь»
   - после успешного определения гео — зелёный блок:
     - «Ваше местоположение: ...»
     - кнопка «Выбрать другое»
3. Местоположение успешно определяется и отображается (пример: «Великоритский сельский совет (Вощулы)»), но:
   ❌ мастер НЕ переходит на следующий шаг (фото / детали объявления),
   ❌ пользователь «застревает» на этом экране, пока сам не нажмёт кнопку/стрелку «назад» или не сделает что-то ещё.
   То есть логика завершения шага геолокации НЕ привязана к переходу на следующий шаг.

НУЖНО ИСПРАВИТЬ:

1. Логика шага геолокации должна быть такой:

   а) После успешного определения местоположения и получения от бэкенда нормализованного названия (типа: «Великоритский сельский совет (Вощулы)») шаг считается ЗАВЕРШЁННЫМ.

   б) Как только местоположение успешно сохранено в состоянии мастера (например, `setLocation(...)`), нужно:
      - вызвать колбэк `onComplete()` / `onNext()` / `goToStep(nextStep)`, в зависимости от того, как сейчас устроен wizard;
      - этот колбэк должен перевести пользователя на следующий шаг мастера (например, «Фото товара»).

   в) Переход можно делать:
      - либо сразу после успешного определения гео,
      - либо после короткой паузы (пример: 800–1200 мс), чтобы пользователь успел увидеть зелёный блок «Ваше местоположение: ...».
      Сделай через `setTimeout`, но *обязательно* очисти таймер при размонтировании компонента, чтобы не ловить утечки.

   г) Кнопка «Выбрать другое» должна по-прежнему работать:
      - при нажатии — открыть модалку/список с выбором другого района/деревни;
      - если пользователь выбрал другое местоположение:
         - обновить state (новый label и координаты),
         - снова считать шаг завершённым и перевести на следующий шаг.

2. Структура мастера (wizard):

   Найди компонент мастера подачи объявления, где управляется текущий шаг:
   - что-то вроде `AdCreateWizard`, `CreateAdStepper`, `SubmitAdFlow` и т.п.
   Там, как правило, есть:
   - `currentStep` / `currentStepIndex` в state,
   - функции `goToNextStep()`, `goToStep(index)` или `setCurrentStep(...)`.

   Нужно:
   - убедиться, что шаг геолокации принимает проп вида `onComplete` / `onNext`,
   - при вызове `onComplete(locationData)` родитель:
      - сохраняет `locationData` (координаты + человеко-понятный label) в общие данные объявления,
      - двигает мастер на следующий шаг:
        ```ts
        setCurrentStep((prev) => prev + 1);
        ```
        или через имеющийся `goToNextStep()`.

3. Компонент шага геолокации:

   Найди компонент, который рисует экран «Где вы продаёте?»:
   - например, `LocationStep`, `AdLocationStep`, `AdCreateLocationScreen`.

   В нём сейчас, скорее всего, происходит следующее:
   - запрос геопозиции,
   - запрос к backend /api/geo/resolve,
   - сохранение state `resolvedLocation`,
   - показ зелёного блока.

   Нужно:
   - После того как `resolvedLocation` успешно установлено и в state нет ошибок:
     - вызывать проп `onComplete(resolvedLocation)` (или аналогичный).
     - либо прямо в `then`/`await` после успешного запроса,
     - либо в `useEffect`, который следит за `resolvedLocation`:

       ```ts
       useEffect(() => {
         if (resolvedLocation && autoAdvance) {
           const timer = setTimeout(() => {
             onComplete(resolvedLocation);
           }, 1000);

           return () => clearTimeout(timer);
         }
       }, [resolvedLocation, onComplete]);
       ```

   - Поле `resolvedLocation` должно включать:
     - координаты (`lat`, `lng`),
     - строку label (пример: «Великоритский сельский Совет (Вощулы)»),
     - при необходимости — city/area/village.

4. UX-требование:

   - Для пользователя логика должна быть максимально понятной:
     - он открывает шаг «Где вы продаёте?»,
     - видит текст «Мы определим район или деревню, где вы сейчас находитесь»,
     - через секунду экран показывает зелёный блок с местоположением,
     - ещё через мгновение мастер *сам* переходит на следующий шаг (например, «Фото товара»),
     - при этом ниже на следующем шаге можно ещё раз показать текст «Вы продаёте: Великоритский сельский Совет (Вощулы)» в маленьком блоке-напоминалке.

   - Кнопка «Выбрать другое» остаётся для случая, если человек НЕ согласен:
     - при нажатии — остаёмся на текущем шаге,
     - открываем выбор другого района/деревни,
     - после подтверждения нового местоположения — опять авто-переход на следующий шаг.

5. ДОПОЛНИТЕЛЬНО (опционально, если видишь баг):

   - Проверь, что:
     - при обновлении шага не ломается индикатор шагов (синяя полоска прогресса),
     - текущий индекс шага правильно синхронизируется с визуальным степпером.

6. В конце:

   - Выведи список изменённых файлов и кратко опиши, что в каждом изменено.
   - Предложи название для ветки и коммита:
     - ветка: `fix/location-step-autonext`
     - коммит: `fix(ad-create): auto advance to next step after location resolved`.
