–¢—ã —Ö–æ—á–µ—à—å –µ–¥–∏–Ω—ã–π, –ø–æ–ª–Ω—ã–π, –∞–∫–∫—É—Ä–∞—Ç–Ω–æ —Å–æ–±—Ä–∞–Ω–Ω—ã–π –∏ –ø–æ–Ω—è—Ç–Ω—ã–π PROMPT –¥–ª—è Codex, –∫–æ—Ç–æ—Ä—ã–π –≤–∫–ª—é—á–∞–µ—Ç –í–°–ï, —á—Ç–æ –º—ã —É–∂–µ –∑–∞–¥—É–º–∞–ª–∏:

backend (Node.js + Express + MongoDB),

–≤–µ—Å—å —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –º–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å–∞,

Telegram-–±–æ—Ç—ã,

MiniApp,

–≥–µ–æ–ø–æ–∏—Å–∫, –∏–∑–±—Ä–∞–Ω–Ω–æ–µ, —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è,

–∫–∞—Ç–µ–≥–æ—Ä–∏–∏, —Å–µ–∑–æ–Ω—ã –∏ —è—Ä–º–∞—Ä–∫–∏,

–º–æ–¥–µ—Ä–∞—Ü–∏—è (–∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å + –∫–æ–º–∞–Ω–¥—ã –¥–ª—è –±–æ—Ç–∞),

–ø–æ–¥–∞—á—É –æ–±—ä—è–≤–ª–µ–Ω–∏–π,

—Ä–∞–±–æ—Ç—É —Å –∫–æ–Ω—Ç–∞–∫—Ç–∞–º–∏ –∏ –ø—Ä–æ—Ñ–∏–ª–µ–º
–∏ —Ç.–¥.

üìå –Ø —Å–µ–π—á–∞—Å —Å–≥–µ–Ω–µ—Ä–∏—Ä—É—é –ø–æ–ª–Ω–æ—Å—Ç—å—é –≥–æ—Ç–æ–≤—ã–π PROMPT –¥–ª—è Codex, –∫–æ—Ç–æ—Ä—ã–π —Ç—ã —Å–º–æ–∂–µ—à—å –≤—Å—Ç–∞–≤–∏—Ç—å –≤ Replit ‚Üí ChatGPT (Codex mode) –∏ –æ–Ω –Ω–∞—á–Ω—ë—Ç –ø–∏—Å–∞—Ç—å –∫–æ–¥ —Å—Ç—Ä–æ–≥–æ –ø–æ –Ω–∞—à–µ–º—É –ø—Ä–æ–µ–∫—Ç—É.

‚úÖ –ì–û–¢–û–í–´–ô –ü–û–õ–ù–´–ô PROMPT –î–õ–Ø CODEX

(—Å–∫–æ–ø–∏—Ä—É–π —Ü–µ–ª–∏–∫–æ–º –∏ –≤—Å—Ç–∞–≤—å –≤ ChatGPT Codex)

PROMPT –î–õ–Ø CODEX

–°–æ–∑–¥–∞–π –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π –ø—Ä–æ–µ–∫—Ç KETMAR Market ‚Äî –º–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å –æ–±—ä—è–≤–ª–µ–Ω–∏–π –Ω–∞ –±–∞–∑–µ:

Node.js + Express + MongoDB (Mongoose)

Telegram Bot (Telegraf)

Telegram MiniApp (WebApp)

Frontend MiniApp (Vite + React)

Web-–≤–∏—Ç—Ä–∏–Ω–∞ (mobile-first, read-only)

–ü—Ä–æ–µ–∫—Ç –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–∞–±–æ—á—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É –∏ –∫–æ–¥ —Å–æ–≥–ª–∞—Å–Ω–æ –¢–ó –Ω–∏–∂–µ.
–ü–∏—à–∏ –∫–æ–¥ –ø–æ—ç—Ç–∞–ø–Ω–æ, –æ—Ç–¥–∞–≤–∞–π –≥–æ—Ç–æ–≤—ã–µ —Ñ–∞–π–ª—ã —Å –ø—É—Ç—è–º–∏, –Ω–µ —Ñ—Ä–∞–≥–º–µ–Ω—Ç—ã.

–¢–ï–•–ù–ò–ß–ï–°–ö–û–ï –ó–ê–î–ê–ù–ò–ï (–¢–ó)

–ü–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É –º–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å–∞:

1. –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
project/
 ‚îú‚îÄ index.js
 ‚îú‚îÄ package.json
 ‚îú‚îÄ .env.example
 ‚îÇ
 ‚îú‚îÄ /api
 ‚îÇ   ‚îú‚îÄ server.js
 ‚îÇ   ‚îú‚îÄ /routes
 ‚îÇ   ‚îÇ    ads.js
 ‚îÇ   ‚îÇ    categories.js
 ‚îÇ   ‚îÇ    seasons.js
 ‚îÇ   ‚îÇ    orders.js
 ‚îÇ   ‚îÇ    users.js
 ‚îÇ   ‚îú‚îÄ /middleware
 ‚îÇ   ‚îî‚îÄ /utils
 ‚îÇ
 ‚îú‚îÄ /models
 ‚îÇ    User.js
 ‚îÇ    Category.js
 ‚îÇ    Season.js
 ‚îÇ    Ad.js
 ‚îÇ    Order.js
 ‚îÇ
 ‚îú‚îÄ /services
 ‚îÇ    db.js
 ‚îÇ    telegramAuth.js
 ‚îÇ
 ‚îú‚îÄ /bot
 ‚îÇ    bot.js
 ‚îÇ    moderation.js (–∞–¥–º–∏–Ω-–∫–æ–º–∞–Ω–¥—ã)
 ‚îÇ    keyboards.js
 ‚îÇ
 ‚îú‚îÄ /miniapp   (frontend)
 ‚îÇ    index.html
 ‚îÇ    vite.config.js
 ‚îÇ    /src
 ‚îÇ       main.jsx
 ‚îÇ       app.jsx
 ‚îÇ       /components
 ‚îÇ       /pages
 ‚îÇ       /helpers
 ‚îÇ
 ‚îú‚îÄ /public
 ‚îÇ    logo.png
 ‚îÇ
 ‚îú‚îÄ /scripts
 ‚îÇ    seedCategories.js
 ‚îÇ    seedSeasons.js

2. –ú–æ–¥–µ–ª–∏ MongoDB
User

telegramId (unique, required)

firstName

lastName

username

phoneVerified (bool)

verifiedPhone

instagram

showPhone / showUsername / showInstagram

location { lat, lng }

roles: "buyer" | "seller" | "admin"

favorites: [adId]

Category

slug

name

parentSlug

sortOrder

Season

code (unique)

name

description

isActive

startDate

endDate

Ad

title

description

categoryId

subcategoryId

price, currency

photos[]

attributes {}

sellerTelegramId

deliveryType

deliveryRadiusKm

location { lat, lng }

seasonCode

status (active / expired / hidden / archived)

moderationStatus (pending / approved / rejected)

lifetimeDays

validUntil

isLiveSpot

Order

buyerTelegramId

items[]

status

seasonCode

comment

3. Backend API
/api/categories

GET /api/categories ‚Üí –¥–µ—Ä–µ–≤–æ –∫–∞—Ç–µ–≥–æ—Ä–∏–π

/api/seasons

GET /api/seasons

/api/ads

GET /api/ads (–ø–æ–∏—Å–∫ + —Ñ–∏–ª—å—Ç—Ä—ã + –≥–µ–æ–ø–æ–∏—Å–∫)

GET /api/ads/:id

POST /api/ads

PATCH /api/ads/:id/price

PATCH /api/ads/:id/photos

PATCH /api/ads/:id/delivery

PATCH /api/ads/:id/liveSpot

DELETE /api/ads/:id

/api/orders

POST /api/orders

GET /api/orders/my

–ì–µ–æ–ø–æ–∏—Å–∫

–í /api/ads –¥–æ–±–∞–≤–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:

lat

lng

radiusKm

deliveryOnly=true

seasonCode=march8_tulips

nearby=true

–ò–∑–±—Ä–∞–Ω–Ω–æ–µ

POST /api/users/favorites/toggle

GET /api/users/favorites

4. –ú–æ–¥–µ—Ä–∞—Ü–∏—è
–í backend:

–¢–∞–±–ª–∏—Ü–∞ –æ–±—ä—è–≤–ª–µ–Ω–∏–π —Å–æ —Å—Ç–∞—Ç—É—Å–∞–º–∏ pending/approved/rejected.

–≠–Ω–¥–ø–æ–∏–Ω—Ç—ã:

GET /api/moderation/pending

POST /api/moderation/approve/:id

POST /api/moderation/reject/:id

–í Telegram –±–æ—Ç–µ:

–ö–æ–º–∞–Ω–¥–∞ /moderation

Inline-–∫–Ω–æ–ø–∫–∏:

Approve

Reject

Open Ad

5. Telegram Bot (Telegraf)
–ë–æ—Ç –¥–æ–ª–∂–µ–Ω —É–º–µ—Ç—å:
5.1. /start

–ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ

–ö–Ω–æ–ø–∫–∏:

–û—Ç–∫—Ä—ã—Ç—å MiniApp

–ü–æ–¥–∞—Ç—å –æ–±—ä—è–≤–ª–µ–Ω–∏–µ

–õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç

–°–µ–∑–æ–Ω–Ω—ã–µ —è—Ä–º–∞—Ä–∫–∏

5.2. –ö–æ–º–∞–Ω–¥—ã

/categories

/new_ad ‚Äì –∑–∞–ø—É—Å–∫ –º–∞—Å—Ç–µ—Ä–∞ —Å–æ–∑–¥–∞–Ω–∏—è –æ–±—ä—è–≤–ª–µ–Ω–∏—è

/my_ads ‚Äì –º–æ–∏ –æ–±—ä—è–≤–ª–µ–Ω–∏—è

/moderation ‚Äì –∞–¥–º–∏–Ω-—Ä–µ–∂–∏–º

5.3. –ú–∞—Å—Ç–µ—Ä —Å–æ–∑–¥–∞–Ω–∏—è –æ–±—ä—è–≤–ª–µ–Ω–∏—è

–í—ã–±–æ—Ä –∫–∞—Ç–µ–≥–æ—Ä–∏–∏

–ü–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏–∏

–§–æ—Ç–æ

–¶–µ–Ω–∞

–î–æ—Å—Ç–∞–≤–∫–∞

–ì–µ–æ–ª–æ–∫–∞—Ü–∏—è

–°–æ–∑–¥–∞—Ç—å

6. MiniApp (Frontend)
–°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å—Ç—Ä–∞–Ω–∏—Ü:

–ì–ª–∞–≤–Ω–∞—è ‚Üí –∫–∞—Ç–µ–≥–æ—Ä–∏–∏

–ü–æ–∏—Å–∫

–ö–∞—Ä—Ç–æ—á–∫–∞ –æ–±—ä—è–≤–ª–µ–Ω–∏—è

–ì–µ–æ–ø–æ–∏—Å–∫ ¬´—Ä—è–¥–æ–º —Å–æ –º–Ω–æ–π¬ª

–ò–∑–±—Ä–∞–Ω–Ω–æ–µ

–õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç

–ú–æ–∏ –æ–±—ä—è–≤–ª–µ–Ω–∏—è

–°–æ–∑–¥–∞–Ω–∏–µ –æ–±—ä—è–≤–ª–µ–Ω–∏—è (—á–µ—Ä–µ–∑ —Å—Ç–∞—Ä—Ç –∏–∑ –±–æ—Ç–∞)

–°–µ–∑–æ–Ω–Ω—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã

–¢—é–ª—å–ø–∞–Ω—ã 8 –º–∞—Ä—Ç–∞

–†–µ–º–µ—Å–ª–µ–Ω–Ω–∏–∫–∏

–û—Å–µ–Ω–Ω—è—è —è—Ä–º–∞—Ä–∫–∞

MiniApp –¥–æ–ª–∂–µ–Ω:

—á–∏—Ç–∞—Ç—å initData

–ø–æ–ª—É—á–∞—Ç—å –¥–∞–Ω–Ω—ã–µ —á–µ—Ä–µ–∑ API

–æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å —Ç–æ–∫–µ–Ω-–ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ Telegram

7. Web-–≤–∏—Ç—Ä–∏–Ω–∞

—á–∏—Ç–∞—Ç—å —Ç–µ –∂–µ API

mobile-first

—Ç–æ–ª—å–∫–æ –ø—Ä–æ—Å–º–æ—Ç—Ä

–∫–Ω–æ–ø–∫–∞ ‚Äú–ü–æ–¥–∞—Ç—å –æ–±—ä—è–≤–ª–µ–Ω–∏–µ‚Äù ‚Üí –≤–µ–¥—ë—Ç –≤ Telegram –±–æ—Ç

8. –ì–µ–æ–ø–æ–∏—Å–∫

GET /api/ads?lat=X&lng=Y&radiusKm=Z

–∏–Ω–¥–µ–∫—Å—ã Mongo:

location: { type: "Point", coordinates: [lng, lat] }
2dsphere index

9. –ò–∑–±—Ä–∞–Ω–Ω–æ–µ –∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

–î–æ–±–∞–≤–ª–µ–Ω–∏–µ/—É–¥–∞–ª–µ–Ω–∏–µ –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–µ

–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è —á–µ—Ä–µ–∑ Telegram:

–∏–∑–º–µ–Ω–µ–Ω–∏–µ —Ü–µ–Ω—ã

–∏–∑–º–µ–Ω–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞

—Å–Ω—è—Ç–∏–µ –æ–±—ä—è–≤–ª–µ–Ω–∏—è

–í backend ‚Äî cron-–∑–∞–¥–∞—á–∞ —Ä–∞–∑ –≤ 1‚Äì5 –º–∏–Ω

10. –°–µ–∑–æ–Ω–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏
–¢—é–ª—å–ø–∞–Ω—ã 8 –º–∞—Ä—Ç–∞

Ad.attributes:

color

size

type (‚Äúsingle‚Äù, ‚Äúbouquet‚Äù)

packaging

–†–µ–º–µ—Å–ª–µ–Ω–Ω–∏–∫–∏ –∏ –≤—ã–ø–µ—á–∫–∞

Ad.attributes:

filling

size

weight

shelfLife

–ñ–∏–≤—ã–µ —Ç–æ—á–∫–∏

isLiveSpot = true

–ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –Ω–∞ –∫–∞—Ä—Ç–µ

11. Seed

–°–æ–∑–¥–∞—Ç—å:

–∫–∞—Ç–µ–≥–æ—Ä–∏–∏

–ø–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏–∏

—Å–µ–∑–æ–Ω "march8_tulips"

12. –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ Codex

–û—Ç–¥–∞–≤–∞–π —Ç–æ–ª—å–∫–æ –ø–æ–ª–Ω—ã–µ —Ñ–∞–π–ª—ã —Å –ø—É—Ç—ë–º.

–°—Ç—Ä–æ–≥–æ –ø–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–µ –ø—Ä–æ–µ–∫—Ç–∞.

–ö–∞–∂–¥—É—é —á–∞—Å—Ç—å ‚Äî –æ—Ç–¥–µ–ª—å–Ω—ã–º —ç—Ç–∞–ø–æ–º.

–ù–µ –ø—Ä–æ–ø—É—Å–∫–∞—Ç—å —Ñ–∞–π–ª—ã.

–ü–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ —ç—Ç–∞–ø–∞ ‚Äî –ø–∏—Å–∞—Ç—å –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏:

–∫—É–¥–∞ –≤—Å—Ç–∞–≤–∏—Ç—å —Ñ–∞–π–ª

–∫–∞–∫–∏–µ –∫–æ–º–∞–Ω–¥—ã –≤ Replit –∑–∞–ø—É—Å—Ç–∏—Ç—å

‚ÄºÔ∏è –°–û–ó–î–ê–ô –°–†–ê–ó–£ –≠–¢–ê–ü 1:
‚úî –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
‚úî package.json
‚úî index.js
‚úî server.js
‚úî db.js
‚úî bot.js (–ø—É—Å—Ç–æ–π –∫–∞—Ä–∫–∞—Å)