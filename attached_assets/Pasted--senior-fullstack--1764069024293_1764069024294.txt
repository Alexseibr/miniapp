Ты — senior fullstack-архитектор и аудит-инженер.
Твоя задача: проанализировать мой текущий проект в Replit (и привязанные репозитории) и сравнить его с целевым видением продукта, которое описано ниже.
В конце нужно выдать подробный отчёт: что уже сделано правильно, что отсутствует, что сделано иначе, чем нужно, и план доработок.

1. КОНТЕКСТ ПРОЕКТА (КАК ДОЛЖНО БЫТЬ)
1.1. Идея и позиционирование

Мы делаем гео-маркетплейс локальных продавцов (рабочее название: LocalHub / РайонМаркет) — аналог Куфара, но с акцентом на:

деревенские, районные, локальные объявления;

геопоиск по радиусу (от 100 м до 10 км);

интеграцию с Telegram MiniApp + ботом;

быструю подачу объявлений и общение через Telegram.

Главная цель:
Показывать пользователю, кто и что продаёт рядом с ним в радиусе N метров/километров, а не просто по городу.

Мы конкурируем с Kufar, но наш фокус:

малые продавцы, деревни, районы, частники;

простота входа через Telegram;

локальные “мини-рынки” с сезонными витринами (тюльпаны 8 марта, ягоды, ремесленники, новогодние ярмарки и т.д.).

1.2. Основные функциональные блоки (как проект ЗАДУМАН)

Пользовательский интерфейс (Web + Telegram MiniApp)

Лента объявлений «рядом со мной».

Фильтр по радиусу: 100 м, 500 м, 1 км, 3 км, 5 км, 10 км.

Карточка объявления (фото, цена, описание, дистанция до продавца).

Категории и подкатегории (овощи, фрукты, услуги, ремонт, ремесло и т.д.).

Избранное, мои объявления.

Профиль пользователя (привязан к Telegram).

Геолокация

У каждого объявления в БД есть поле geo: { type: "Point", coordinates: [lng, lat] }.

На это поле повешен 2dsphere-индекс.

Есть API-метод геопоиска:

GET /api/ads/nearby?lat=...&lng=...&radiusKm=...&categoryId=...

На фронте:

кнопка «Показать рядом со мной» (использует геолокацию Telegram/браузера);

отображение расстояния до продавца (например: “850 м от вас”).

Интеграция с Telegram

Telegram MiniApp:

Авторизация через initData / Telegram Login.

MiniApp открывает Web-интерфейс с привязкой к Telegram-пользователю.

Telegram-бот:

Выдаёт кнопки «Открыть маркетплейс / фермерский маркет / ремесленники / ярмарка 8 марта».

Открывает MiniApp с нужным start_param.

Может вести сценарий подачи объявления через бот.

Панель продавца

Быстрая подача объявления (через MiniApp либо бота).

Управление моими объявлениями.

Статистика просмотров (минимально: количество просмотров, количество запросов).

Админ-панель

Модерация объявлений.

Управление категориями/сезонами.

Блокировки пользователей/объявлений.

Настройка “сезонных витрин” (например, сезон тюльпанов, сезон ягод).

Сезонные сценарии

Отдельные витрины / разделы, например:

/season/march8_tulips — тюльпаны к 8 марта;

/season/berries — сезон ягод;

/season/crafts — ремесленники и хендмейд.

В этих витринах:

фильтры по атрибутам (цвет, тип, цена и т.д.);

сортировка и выделение платных позиций.

Монетизация (на уровне архитектуры)

Возможность платного поднятия объявления.

Возможность “выделенного” объявления в ленте.

Возможность подписок (тарифов) для продавцов.

Потенциально: рекламные блоки для локальных магазинов.

1.3. Технологический стек (как планируется)

Backend: Node.js (Express/Nest), MongoDB (с GeoJSON + 2dsphere).

Frontend: React + Vite (Web + MiniApp UI).

Telegram: бот на Telegraf или аналог, интеграция с Telegram WebApp SDK.

Инфра:

Monorepo (web + miniapp + backend + bot).

Docker / docker-compose.

Nginx reverse proxy.

CI/CD через GitHub Actions (или другой).

2. ЧТО СДЕЛАТЬ: АНАЛИЗ ПРОЕКТА

Проанализируй текущий код и структуру проекта в Replit (и, если возможно, подключённый GitHub-репозиторий), и ответь по пунктам:

2.1. Архитектура и структура

Определи, в каком виде сейчас реализован проект:

есть ли разделённые части: backend / web / miniapp / bot;

есть ли monorepo или всё разнесено;

есть ли Dockerfile’ы и docker-compose;

есть ли Nginx конфигурация.

Сравни текущую структуру с целевой:

что уже совпадает с задуманной архитектурой;

чего не хватает;

что реализовано, но противоречит целевому видению.

2.2. Функции и API

Посмотри, есть ли в коде:

модель объявления (Ad, Listing и т.п.);

поле GeoJSON geo для объявлений;

2dsphere-индекс;

endpoint’ы:

/api/ads,

/api/ads/nearby,

профиль пользователя,

избранное.

Сравни с планом:

есть ли уже реализованный геопоиск по радиусу;

есть ли фильтрация по категории, сезону, подкатегориям;

есть ли авторизация через Telegram.

2.3. Telegram MiniApp и бот

Проверка интеграции MiniApp:

используется ли Telegram WebApp SDK на фронтенде;

обрабатывается ли initData на бэкенде;

создаются ли пользователи на основе Telegram ID.

Проверка бота:

есть ли код бота (Telegraf или другой);

есть ли кнопки открытия MiniApp (web_app / inline-кнопки);

есть ли сценарии подачи объявлений через бот.

2.4. UX / функционал на фронтенде

Есть ли:

список объявлений;

фильтр по расстоянию / геопоиск;

карточка объявления с отображением расстояния;

категории / фильтры;

избранное;

мои объявления;

профиль.

Насколько текущий UX соответствует идее:

локальные объявления по радиусу;

акцент на «рядом со мной»;

удобство для мелких продавцов.

2.5. Админка и модерация

Проверь, есть ли:

отдельная админ-панель;

возможность скрывать/удалять объявления;

управление категориями;

настройка сезонов/витрин.

3. ФОРМАТ ВЫХОДНОГО ОТЧЁТА

Сделай подробный текстовый отчёт по следующим разделам:

Общая оценка проекта

Кратко: насколько текущая реализация соответствует заявленному видению (в процентах или по уровням: MVP / прототип / сырая версия и т.п.).

Что уже сделано правильно

Пункты по модулям: backend, frontend, MiniApp, бот, геопоиск, админка.

С конкретными примерами: какие файлы/модули за это отвечают.

Чего не хватает до нашего ТЗ

Список отсутствующих или недоделанных функций:

геопоиск?

авторизация Telegram?

сезоны?

монетизация?

админка?

Для каждого пункта: коротко, что нужно доделать.

Что сделано, но не совпадает с нашим видением

Если есть избыточные/лишние вещи — опиши.

Если архитектура усложнена без необходимости — укажи.

Рекомендованный план доработок (Trello-/Jira-стиль)

Сформируй список задач:

ID задачи (например, LCL-1, LCL-2…),

краткое название,

описание,

приоритет (High/Medium/Low),

примерная сложность (S/M/L/XL),

зависимость (если есть).

Разбей как минимум на:

Backend,

Frontend (Web/MiniApp),

Telegram Bot,

Инфра/DevOps,

Админка/модерация,

Монетизация/витрины.

Технические рекомендации

По архитектуре (monorepo / разделение сервисов).

По БД (структура, индексы).

По безопасности (инициализация Telegram, проверка подписи initData).

По производительности геопоиска.