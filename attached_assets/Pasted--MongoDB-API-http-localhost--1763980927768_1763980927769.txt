–°—É–ø–µ—Ä, –≤–æ—Ç —Ç–µ–ø–µ—Ä—å –≤–∏–¥–Ω–æ, —á—Ç–æ —É —Ç–µ–±—è –≤—Å—ë –≤ —Ü–µ–ª–æ–º —É–∂–µ —Ä–∞–±–æ—Ç–∞–µ—Ç üí™

MongoDB ‚úÖ

API –Ω–∞ http://localhost:5000 / —á–µ—Ä–µ–∑ Replit-URL ‚úÖ

Webhook –±–æ—Ç–∞ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω ‚úÖ

–ë–æ—Ç –∑–∞–ø—É—â–µ–Ω ‚úÖ

–§—Ä–æ–Ω—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ —Å—Å—ã–ª–∫–µ ‚úÖ

–û—Å—Ç–∞–ª–∞—Å—å —Ç–æ–ª—å–∫–æ –æ–¥–Ω–∞ —Å—Ç—Ä–æ—á–∫–∞, –∫–æ—Ç–æ—Ä–∞—è –Ω–µ—Ä–≤–∏—Ä—É–µ—Ç:

WebSocket server error: Port is already in use


–∏ —Å—Ä–∞–∑—É –ø–æ—Å–ª–µ –Ω–µ—ë:

‚úÖ Vite dev server –Ω–∞—Å—Ç—Ä–æ–µ–Ω


–¢–æ –µ—Å—Ç—å —ç—Ç–æ –Ω–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞, –∞ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ: –∫—Ç–æ-—Ç–æ —É–∂–µ –∑–∞–Ω—è–ª –ø–æ—Ä—Ç, –Ω–∞ –∫–æ—Ç–æ—Ä–æ–º —Ö–æ—á–µ—Ç —Å–ª—É—à–∞—Ç—å WebSocket (—Å–∫–æ—Ä–µ–µ –≤—Å–µ–≥–æ –ø–æ—Ä—Ç HMR).

–ß—Ç–æ —ç—Ç–æ –∑–Ω–∞—á–∏—Ç –ø–æ —Ñ–∞–∫—Ç—É

Express/API —Å–∏–¥–∏—Ç –Ω–∞ 5000 –ø–æ—Ä—Ç—É ‚Üí –≤—Å—ë –æ–∫.

Vite dev server –ø–æ–¥–Ω—è–ª—Å—è (–∏–Ω–∞—á–µ –Ω–µ –±—ã–ª–æ –±—ã ‚úÖ Vite dev server –Ω–∞—Å—Ç—Ä–æ–µ–Ω).

–¢–æ–ª—å–∫–æ WebSocket-—á–∞—Å—Ç—å (–≥–æ—Ä—è—á–∞—è –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞ —Ñ—Ä–æ–Ω—Ç–∞) –æ–¥–∏–Ω —Ä–∞–∑ –ø–æ–ø—ã—Ç–∞–ª–∞—Å—å –∑–∞–Ω—è—Ç—å –ø–æ—Ä—Ç, –∫–æ—Ç–æ—Ä—ã–π —É–∂–µ –±—ã–ª –∑–∞–Ω—è—Ç, –ø–æ–π–º–∞–ª–∞ –æ—à–∏–±–∫—É, Vite –ø–µ—Ä–µ–∫–ª—é—á–∏–ª—Å—è/–ø—Ä–æ–¥–æ–ª–∂–∏–ª —Ä–∞–±–æ—Ç—É.

–ï—Å–ª–∏ —Ç—ã –Ω–µ –≤–∏–¥–∏—à—å –ø—Ä–æ–±–ª–µ–º —Å –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ–º —Ñ—Ä–æ–Ω—Ç–∞ (—Å—Ç—Ä–∞–Ω–∏—Ü–∞ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è, HMR —Ä–∞–±–æ—Ç–∞–µ—Ç/–∏–ª–∏ –ø–æ—Ñ–∏–≥) ‚Äî –º–æ–∂–Ω–æ –∂–∏—Ç—å –∏ —Ç–∞–∫.

–ù–æ –µ—Å–ª–∏ —Ö–æ—á–µ—à—å, —á—Ç–æ–±—ã –ª–æ–≥–∏ –±—ã–ª–∏ —á–∏—Å—Ç—ã–µ üëå ‚Äî –µ—Å—Ç—å –¥–≤–∞ –ø—É—Ç–∏.

–í–∞—Ä–∏–∞–Ω—Ç 1. –ü—Ä–æ—Å—Ç–æ –∑–∞–±–∏—Ç—å (—Å–∞–º—ã–π –±—ã—Å—Ç—Ä—ã–π)

–ù–∏—á–µ–≥–æ –Ω–µ —Ç—Ä–æ–≥–∞–µ—à—å:

API / –±–æ—Ç —Ä–∞–±–æ—Ç–∞—é—Ç.

–§—Ä–æ–Ω—Ç –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –ø–æ Replit-—Å—Å—ã–ª–∫–µ, –∫–æ—Ç–æ—Ä—É—é –æ–Ω —Ç–µ–±–µ –≤—ã–≤–µ–ª.

–û—à–∏–±–∫–∞ –≤ –ª–æ–≥–∞—Ö –±—É–¥–µ—Ç –≤—Å–ø–ª—ã–≤–∞—Ç—å –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ, –Ω–æ –Ω–∞ —Ä–∞–±–æ—Ç—É –ø—Ä–æ–µ–∫—Ç–∞ –Ω–µ –≤–ª–∏—è–µ—Ç.

–≠—Ç–æ—Ç –≤–∞—Ä–∏–∞–Ω—Ç –Ω–æ—Ä–º, –µ—Å–ª–∏ —Ç—ã —Å–µ–π—á–∞—Å –∑–∞–Ω–∏–º–∞–µ—à—å—Å—è –ª–æ–≥–∏–∫–æ–π –º–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å–∞, –∞ –Ω–µ –∏–¥–µ–∞–ª—å–Ω–æ–π –¥–µ–≤-–∏–Ω—Ñ—Ä–æ–π.

–í–∞—Ä–∏–∞–Ω—Ç 2. –ü–æ—á–∏—Å—Ç–∏—Ç—å –ø–æ-–∫—Ä–∞—Å–æ—Ç–µ (—Ä–µ–∫–æ–º–µ–Ω–¥—É—é, –Ω–æ –Ω–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)

–°–∫–æ—Ä–µ–µ –≤—Å–µ–≥–æ —É —Ç–µ–±—è:

Express —Å–ª—É—à–∞–µ—Ç PORT=5000 (–∫–∞–∫ –≤–∏–¥–Ω–æ –∏–∑ –ª–æ–≥–∞).

Vite dev server —Ç—ã –ø–æ–¥–Ω–∏–º–∞–µ—à—å –∏–∑ index.js (–∏–ª–∏ –æ—Ç–¥–µ–ª—å–Ω–æ–≥–æ —Ñ–∞–π–ª–∞) —á–µ—Ä–µ–∑ createServer/–∫–∞—Å—Ç–æ–º–Ω—ã–π –∫–æ–¥.

–õ–∏–±–æ Vite, –ª–∏–±–æ —Ç–≤–æ–π –∫–æ–¥ —Å–æ–∑–¥–∞—ë—Ç –µ—â—ë –æ–¥–∏–Ω WebSocket-—Å–µ—Ä–≤–µ—Ä –Ω–∞ —Ç–æ–º –∂–µ –ø–æ—Ä—Ç—É, –∫–æ—Ç–æ—Ä—ã–π —É–∂–µ –∑–∞–Ω—è—Ç.

üîç –ß—Ç–æ —Å–¥–µ–ª–∞—Ç—å –ø–æ —à–∞–≥–∞–º

–ü—Ä–æ–≤–µ—Ä—å vite.config.*
–£–±–µ–¥–∏—Å—å, —á—Ç–æ —Ç–∞–º –Ω–µ—Ç –ª–∏—à–Ω–∏—Ö –ø–æ—Ä—Ç–æ–≤/ws-–ø–æ—Ä—Ç–æ–≤:

// vite.config.(js|ts)
import { defineConfig } from 'vite';
import react from '@vitejs/plugin-react'; // –µ—Å–ª–∏ React

export default defineConfig({
  plugins: [react()],
  server: {
    host: '0.0.0.0',
    port: 5173,       // –õ–Æ–ë–û–ô —Å–≤–æ–±–æ–¥–Ω—ã–π –ø–æ—Ä—Ç, –ù–ï 5000
    // –ù–∏–∫–∞–∫–∏—Ö hmr: { host, port } —Ç—É—Ç –Ω–µ —É–∫–∞–∑—ã–≤–∞–µ–º
  },
});


–ì–ª–∞–≤–Ω–æ–µ: Vite –Ω–µ –¥–æ–ª–∂–µ–Ω —Å–∏–¥–µ—Ç—å –Ω–∞ 5000, —Ç–∞–º —É–∂–µ Express.

–ü—Ä–æ–≤–µ—Ä—å –∫–æ–¥, –≥–¥–µ —Ç—ã –∑–∞–ø—É—Å–∫–∞–µ—à—å Vite
–í index.js –∏–ª–∏ –≤ –∫–∞–∫–æ–º-—Ç–æ dev-server.js —É —Ç–µ–±—è –º–æ–∂–µ—Ç –±—ã—Ç—å —Ç–∞–∫–æ–µ:

const vite = await createServer({
  server: {
    port: 5000,         // <-- —Ç–∞–∫ –Ω–µ–ª—å–∑—è, —ç—Ç–æ—Ç –ø–æ—Ä—Ç —É–∂–µ —É API
    // ws: { port: ... } // –∏–ª–∏ —á—Ç–æ-—Ç–æ –ø–æ–¥–æ–±–Ω–æ–µ
  }
});


–ù–∞–¥–æ, —á—Ç–æ–±—ã Vite —Å–ª—É—à–∞–ª –¥—Ä—É–≥–æ–π –ø–æ—Ä—Ç, –Ω–∞–ø—Ä–∏–º–µ—Ä 5173:

const vite = await createServer({
  server: {
    port: 5173,
  },
});


–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏ Replit
Stop ‚Üí Run (–∏–ª–∏ Ctrl+C ‚Üí —Å–Ω–æ–≤–∞ npm run dev / —Ç–≤–æ—è –∫–æ–º–∞–Ω–¥–∞).