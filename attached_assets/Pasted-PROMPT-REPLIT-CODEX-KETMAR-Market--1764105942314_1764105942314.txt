PROMPT –î–õ–Ø REPLIT / CODEX

–ó–∞–¥–∞—á–∞: –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –≤ KETMAR Market –ø–æ–ª–Ω—ã–π –º–æ–¥—É–ª—å 
¬´–ú–ê–ì–ê–ó–ò–ù–´ –ü–†–û–î–ê–í–¶–û–í¬ª (–≤–∏—Ç—Ä–∏–Ω—ã + –ø–æ–¥–ø–∏—Å–∫–∏ + –∞–Ω–∞–ª–∏—Ç–∏–∫–∞), 
—É—á–∏—Ç—ã–≤–∞—è, —á—Ç–æ –í–°–ï —Ç–æ–≤–∞—Ä—ã –∏–∑ –º–∞–≥–∞–∑–∏–Ω–æ–≤ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–ø–∞–¥–∞—é—Ç 
–≤ –æ–±—â–∏–π –º–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å (–µ–¥–∏–Ω–∞—è –∫–æ–ª–ª–µ–∫—Ü–∏—è Ad).

====================================================================
üî• MEGA-PROMPT 9.0 ‚Äî –ú–ê–ì–ê–ó–ò–ù–´ –ü–†–û–î–ê–í–¶–û–í (FULL PACK)
====================================================================

–ù—É–∂–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å:

- Seller Profile (–º–∞–≥–∞–∑–∏–Ω –ø—Ä–æ–¥–∞–≤—Ü–∞)
- –≤–∏—Ç—Ä–∏–Ω–∞ –ø—Ä–æ–¥–∞–≤—Ü–∞ (frontend MiniApp)
- –ø–æ–¥–ø–∏—Å–∫–∏ –Ω–∞ –ø—Ä–æ–¥–∞–≤—Ü–∞
- notifications –ø–æ–¥–ø–∏—Å—á–∏–∫–∞–º
- –∫–∞—Ç–∞–ª–æ–≥ —Ç–æ–≤–∞—Ä–æ–≤ –ø—Ä–æ–¥–∞–≤—Ü–∞
- —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –º–∞–≥–∞–∑–∏–Ω–∞
- UI –∫–∞–∫ —É Avito Pro / Etsy / Yandex Market Local
- backend API –¥–ª—è –º–∞–≥–∞–∑–∏–Ω–æ–≤
- —Ä–µ–π—Ç–∏–Ω–≥ + –æ—Ç–∑—ã–≤—ã (–±–∞–∑–æ–≤–∞—è –≤–µ—Ä—Å–∏—è)
- –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ –ø—Ä–æ–¥–∞–≤—Ü–∞ (–ø—Ä–æ—Å–º–æ—Ç—Ä—ã / –ø–æ–¥–ø–∏—Å—á–∏–∫–∏ / –∫–æ–Ω–≤–µ—Ä—Å–∏—è)
- –æ—Ç–¥–µ–ª—å–Ω—ã–π —Å–ª–æ–π –¥–ª—è —Ñ–µ—Ä–º–µ—Ä—Å–∫–æ–≥–æ –º–∞–≥–∞–∑–∏–Ω–∞
- –º–∏–Ω–∏-—Å–∞–π—Ç –ø—Ä–æ–¥–∞–≤—Ü–∞ (public link)
- 100% –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º–∏ –æ–±—ä—è–≤–ª–µ–Ω–∏—è–º–∏ Ad
- –Ω–µ –ª–æ–º–∞—Ç—å —Ç–µ–∫—É—â—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É

====================================================================
0. –û–ë–©–ò–ô –ü–†–ò–ù–¶–ò–ü
====================================================================

‚ùó –í–°–ï —Ç–æ–≤–∞—Ä—ã –ø—Ä–æ–¥–∞–≤—Ü–∞ ‚Äî —ç—Ç–æ –æ–±—ã—á–Ω—ã–µ –æ–±—ä—è–≤–ª–µ–Ω–∏—è –≤ –∫–æ–ª–ª–µ–∫—Ü–∏–∏ Ad.

–ü–æ–ª–µ–π:
- `sellerId: ObjectId` ‚Äî –∫–ª—é—á–µ–≤–æ–µ –ø–æ–ª–µ.
- –≤–∏—Ç—Ä–∏–Ω–∞ = —Å–ø–∏—Å–æ–∫ Ad –ø–æ sellerId.
- –æ–±—â–∏–π –º–∞—Ä–∫–µ—Ç = –ø–æ–∏—Å–∫ –ø–æ –≤—Å–µ–º Ad.

–ù–ï –°–û–ó–î–ê–í–ê–¢–¨ –æ—Ç–¥–µ–ª—å–Ω—É—é —Ç–∞–±–ª–∏—Ü—É "—Ç–æ–≤–∞—Ä—ã –º–∞–≥–∞–∑–∏–Ω–∞".

====================================================================
1. BACKEND ‚Äî –°–•–ï–ú–´
====================================================================

–î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—É—é –º–æ–¥–µ–ª—å:

```ts
// /backend/src/models/SellerProfile.ts
interface SellerProfile {
  userId: ObjectId;        // –≤–ª–∞–¥–µ–ª–µ—Ü –º–∞–≥–∞–∑–∏–Ω–∞ (User)
  name: string;            // –Ω–∞–∑–≤–∞–Ω–∏–µ –º–∞–≥–∞–∑–∏–Ω–∞
  avatar?: string;         // —Ñ–æ—Ç–æ/–ª–æ–≥–æ
  banner?: string;         // –±–æ–ª—å—à–æ–π –±–∞–Ω–Ω–µ—Ä –Ω–∞–≤–µ—Ä—Ö—É
  description?: string;    // –æ–ø–∏—Å–∞–Ω–∏–µ –º–∞–≥–∞–∑–∏–Ω–∞
  isFarmer: boolean;       // —Ñ–µ—Ä–º–µ—Ä/–æ–±—ã—á–Ω—ã–π
  instagram?: string;
  telegramUsername?: string;
  phone?: string;          // –ø—É–±–ª–∏—á–Ω—ã–π —Ç–µ–ª–µ—Ñ–æ–Ω
  address?: string;
  geo?: { type: 'Point', coordinates: [lng, lat] };

  ratings: {
    score: number;         // —Å—Ä–µ–¥–Ω–∏–π —Ä–µ–π—Ç–∏–Ω–≥
    count: number;         // –∫–æ–ª-–≤–æ –æ—Ç–∑—ã–≤–æ–≤
  };

  subscribersCount: number;
  createdAt: Date;
  updatedAt: Date;
}
–î–æ–±–∞–≤–∏—Ç—å –º–æ–¥–µ–ª—å –ø–æ–¥–ø–∏—Å–æ–∫:

ts
–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∫–æ–¥
// /backend/src/models/SellerSubscription.ts
interface SellerSubscription {
  userId: ObjectId;       // –ø–æ–¥–ø–∏—Å—á–∏–∫
  sellerId: ObjectId;     // –º–∞–≥–∞–∑–∏–Ω
  createdAt: Date;
}
====================================================================
2. BACKEND ‚Äî API –î–õ–Ø –ú–ê–ì–ê–ó–ò–ù–û–í
2.1. –°–æ–∑–¥–∞—Ç—å –º–∞–≥–∞–∑–∏–Ω
POST /api/seller-profile

body:

name

banner

avatar

description

isFarmer

phone

instagram

address

geo

–°–æ–∑–¥–∞—ë—Ç –∑–∞–ø–∏—Å—å SellerProfile, –ø—Ä–∏–≤—è–∑–∞–Ω–Ω—É—é –∫ req.currentUser._id.

2.2. –û–±–Ω–æ–≤–∏—Ç—å –º–∞–≥–∞–∑–∏–Ω
PUT /api/seller-profile

2.3. –ü–æ–ª—É—á–∏—Ç—å –º–∞–≥–∞–∑–∏–Ω –ø–æ userId (seller)
GET /api/seller-profile/:sellerId

2.4. –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ —Ç–æ–≤–∞—Ä—ã —ç—Ç–æ–≥–æ –º–∞–≥–∞–∑–∏–Ω–∞
GET /api/seller-profile/:sellerId/items

–§–∏–ª—å—Ç—Ä:

ts
–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∫–æ–¥
Ad.find({ sellerId }).sort({ createdAt: -1 })
====================================================================
3. –ü–û–î–ü–ò–°–ö–ò –ù–ê –ü–†–û–î–ê–í–¶–ê
3.1. –ü–æ–¥–ø–∏—Å–∞—Ç—å—Å—è
POST /api/seller/subscribe/:sellerId

3.2. –û—Ç–ø–∏—Å–∞—Ç—å—Å—è
DELETE /api/seller/subscribe/:sellerId

3.3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–¥–ø–∏—Å–∫—É
GET /api/seller/subscribe/:sellerId/status

3.4. –°–ø–∏—Å–æ–∫ –ø–æ–¥–ø–∏—Å–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
GET /api/seller/subscribe/my

====================================================================
4. PUSH-–£–í–ï–î–û–ú–õ–ï–ù–ò–Ø –ü–û–î–ü–ò–°–ß–ò–ö–ê–ú
–í NotificationService –¥–æ–±–∞–≤–∏—Ç—å –º–µ—Ç–æ–¥—ã:

notifySellerSubscribersNewItem(sellerId, ad)
‚Üí ¬´–£ –ø—Ä–æ–¥–∞–≤—Ü–∞ ___ –ø–æ—è–≤–∏–ª—Å—è –Ω–æ–≤—ã–π —Ç–æ–≤–∞—Ä: ___¬ª

notifySellerSubscribersPriceDrop(sellerId, ad)
‚Üí ¬´–¶–µ–Ω–∞ –Ω–∞ ___ —É –ø—Ä–æ–¥–∞–≤—Ü–∞ ___ —Å–Ω–∏–∂–µ–Ω–∞¬ª

notifySellerSeasonal(sellerId, message)
‚Üí –¥–ª—è —Ñ–µ—Ä–º–µ—Ä–æ–≤ (¬´–°–≤–µ–∂–∞—è –∫–ª—É–±–Ω–∏–∫–∞!¬ª, ¬´–°–≤–µ–∂–∏–π —Ö–ª–µ–±!¬ª)

–ò—Å—Ç–æ—á–Ω–∏–∫ –∫–∞–Ω–∞–ª–∞:

Telegram bot (–µ—Å–ª–∏ –µ—Å—Ç—å telegramId),

mobile push (–µ—Å–ª–∏ –µ—Å—Ç—å deviceToken),

fallback: SMS/email (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ).

====================================================================
5. FRONTEND ‚Äî –í–ò–¢–†–ò–ù–ê –ü–†–û–î–ê–í–¶–ê (MiniApp)
–°–æ–∑–¥–∞—Ç—å —ç–∫—Ä–∞–Ω:

/miniapp/src/screens/SellerStoreScreen.tsx

–°—Ç—Ä—É–∫—Ç—É—Ä–∞:

| –ë–ê–ù–ù–ï–† (–∫—Ä–∞—Å–∏–≤—ã–π, –∫–∞–∫ –≤ –º–∞–≥–∞–∑–∏–Ω–∞—Ö –≤ Avito) |
| –ê–í–ê–¢–ê–† –ø—Ä–æ–¥–∞–≤—Ü–∞ + –ù–ê–ó–í–ê–ù–ò–ï + —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ |
| –ö–Ω–æ–ø–∫–∏: |
| üîî –ü–æ–¥–ø–∏—Å–∞—Ç—å—Å—è |
| üí¨ –°–≤—è–∑–∞—Ç—å—Å—è |
| –û–ø–∏—Å–∞–Ω–∏–µ –º–∞–≥–∞–∑–∏–Ω–∞ |
| –†–µ–π—Ç–∏–Ω–≥ + –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ—Ç–∑—ã–≤–æ–≤ |
| –ö–∞—Ç–∞–ª–æ–≥ —Ç–æ–≤–∞—Ä–æ–≤ –ø—Ä–æ–¥–∞–≤—Ü–∞ (2 –≤ —Ä—è–¥) |
| –ö—Ä–∞—Å–∏–≤—ã–µ –∫–∞—Ä—Ç–æ—á–∫–∏ |
–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å:

–ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ —Ç—è–Ω—É—Ç—å:

/api/seller-profile/:sellerId

/api/seller-profile/:sellerId/items

–∫–Ω–æ–ø–∫–∞ "–ü–æ–¥–ø–∏—Å–∞—Ç—å—Å—è" –≤—ã–∑—ã–≤–∞–µ—Ç POST

–∫–Ω–æ–ø–∫–∞ "–°–≤—è–∑–∞—Ç—å—Å—è" ‚Üí UI: —Ç–µ–ª–µ—Ñ–æ–Ω/telegram/instagram

—Ç–æ–≤–∞—Ä—ã –∫–ª–∏–∫–∞–±–µ–ª—å–Ω—ã–µ, –≤–µ–¥—É—Ç –Ω–∞ AdDetails

–µ—Å–ª–∏ –º–∞–≥–∞–∑–∏–Ω = —Ñ–µ—Ä–º–µ—Ä ‚Üí –æ—Å–æ–±—ã–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã (—Ü–µ–Ω–∞ –∑–∞ –∫–≥, —Å–≤–µ–∂–µ—Å—Ç—å)

====================================================================
6. –õ–ò–ß–ù–´–ô –ö–ê–ë–ò–ù–ï–¢ –ü–†–û–î–ê–í–¶–ê
–≠–∫—Ä–∞–Ω:

/miniapp/src/screens/SellerDashboard.tsx

–ü–æ–∫–∞–∑—ã–≤–∞—Ç—å:

–ø—Ä–æ—Å–º–æ—Ç—Ä—ã –º–∞–≥–∞–∑–∏–Ω–∞

–ø—Ä–æ—Å–º–æ—Ç—Ä—ã —Ç–æ–≤–∞—Ä–æ–≤

–ø–æ–¥–ø–∏—Å—á–∏–∫–æ–≤

–æ—Ç–∫—Ä—ã—Ç–∏–µ –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤

—Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É (–ø–æ—Å–ª–µ–¥–Ω–∏–µ 7 –¥–Ω–µ–π)

—Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ AI:

‚Äú–≤ —Ä–∞–π–æ–Ω–µ –∏—â—É—Ç ___‚Äù

‚Äú—Ü–µ–Ω–∞ –Ω–∞ ___ –≤—ã—à–µ/–Ω–∏–∂–µ —Ä—ã–Ω–∫–∞‚Äù

–∫–Ω–æ–ø–∫–∞ ¬´–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –º–∞–≥–∞–∑–∏–Ω¬ª

–∫–Ω–æ–ø–∫–∞ ¬´–î–æ–±–∞–≤–∏—Ç—å —Ç–æ–≤–∞—Ä¬ª

====================================================================
7. –†–ï–ô–¢–ò–ù–ì–ò –ò –û–¢–ó–´–í–´ (–ë–ê–ó–û–í–û)
–°–æ–∑–¥–∞—Ç—å –º–æ–¥–µ–ª—å:

ts
–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∫–æ–¥
Review {
  _id,
  sellerId,
  userId,
  rating: 1..5,
  text,
  createdAt
}
API:

POST /api/seller/:sellerId/review
GET /api/seller/:sellerId/reviews

–û–±–Ω–æ–≤–ª—è—Ç—å ratings.score –∏ ratings.count —É SellerProfile.

====================================================================
8. –ú–ê–ì–ê–ó–ò–ù –ö–ê–ö –ú–ò–ù–ò-–°–ê–ô–¢
–°–æ–∑–¥–∞—Ç—å –ø—É–±–ª–∏—á–Ω—ã–π endpoint:

GET /s/:sellerSlug ‚Üí SSR/SPA —Ä–µ–Ω–¥–µ—Ä –≤–∏—Ç—Ä–∏–Ω—ã –º–∞–≥–∞–∑–∏–Ω–∞

sellerSlug =

name –≤ URL —Ñ–æ—Ä–º–∞—Ç–µ,

–∏–ª–∏ auto-generated ID, –Ω–∞–ø—Ä–∏–º–µ—Ä s/4321AB.

–≠—Ç–æ—Ç URL –ø—Ä–æ–¥–∞–≤–µ—Ü –º–æ–∂–µ—Ç –≤—Å—Ç–∞–≤–ª—è—Ç—å –≤:

Instagram,

TikTok,

VK,

Telegram,

–≤–∏–∑–∏—Ç–∫–∏ —Ñ–µ—Ä–º–µ—Ä–æ–≤.

====================================================================
9. –§–ï–†–ú–ï–†–°–ö–ò–ô –†–ï–ñ–ò–ú
–ï—Å–ª–∏ SellerProfile.isFarmer = true:

–¥–æ–±–∞–≤–ª—è—Ç—å —Å–ø–µ—Ü-–±–µ–π–¥–∂ ¬´–§–µ—Ä–º–µ—Ä¬ª

–ø–æ–∫–∞–∑—ã–≤–∞—Ç—å —Ç–æ–≤–∞—Ä—ã —Å –µ–¥–∏–Ω–∏—Ü–∞–º–∏ –≤–µ—Å–∞:

–∫–≥, –≥, –ª–∏—Ç—Ä—ã, —à—Ç—É–∫–∏

–≤–∫–ª—é—á–∞—Ç—å –≤ —Ñ–µ—Ä–º–µ—Ä—Å–∫–∏–π —Ä–∞–∑–¥–µ–ª:

—Å–µ–∑–æ–Ω–Ω—ã–µ –ø–æ–¥–±–æ—Ä–∫–∏,

—Ñ–µ—Ä–º–µ—Ä—ã —Ä—è–¥–æ–º,

—Å–≤–µ–∂–∏–µ —Ç–æ–≤–∞—Ä—ã,

–∫–∞—Ä—Ç–∞ —Ñ–µ—Ä–º–µ—Ä–æ–≤.

====================================================================
10. –ê–í–¢–û–ú–ê–¢–ò–ß–ï–°–ö–û–ï –ü–û–ü–ê–î–ê–ù–ò–ï –¢–û–í–ê–†–û–í –í –û–ë–©–ò–ô –ú–ê–†–ö–ï–¢
‚ùó –í–∞–∂–Ω–æ:
–ù–ï –°–û–ó–î–ê–í–ê–¢–¨ –æ—Ç–¥–µ–ª—å–Ω—É—é –∫–æ–ª–ª–µ–∫—Ü–∏—é ¬´—Ç–æ–≤–∞—Ä—ã –º–∞–≥–∞–∑–∏–Ω–∞¬ª.

–í—Å–µ —Ç–æ–≤–∞—Ä—ã —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ Ad.

–õ–µ–Ω—Ç–∞ = Ad
–í–∏—Ç—Ä–∏–Ω–∞ –ø—Ä–æ–¥–∞–≤—Ü–∞ = Ad.filter(sellerId)

–ì–∞–∑:
–ü—É–±–ª–∏–∫–æ–≤–∞—Ç—å —Ç–æ–≤–∞—Ä ‚Üí —Ç–æ–≤–∞—Ä –ø–æ—è–≤–ª—è–µ—Ç—Å—è:

–≤ –æ–±—â–µ–º –ø–æ–∏—Å–∫–µ,

–≤ –ª–µ–Ω—Ç–µ ¬´—Ä—è–¥–æ–º —Å–æ –º–Ω–æ–π¬ª,

–Ω–∞ –∫–∞—Ä—Ç–µ,

–≤ –º–∞–≥–∞–∑–∏–Ω–µ –ø—Ä–æ–¥–∞–≤—Ü–∞,

—É –ø–æ–¥–ø–∏—Å—á–∏–∫–æ–≤ –ø—Ä–æ–¥–∞–≤—Ü–∞ (—á–µ—Ä–µ–∑ –ø—É—à–∏).

====================================================================
11. ADMIN ‚Äî –ú–û–î–ï–†–ê–¶–ò–Ø –ú–ê–ì–ê–ó–ò–ù–û–í
–°–æ–∑–¥–∞—Ç—å —Ä–∞–∑–¥–µ–ª:

/admin/sellers

–§—É–Ω–∫—Ü–∏–∏:

—Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –º–∞–≥–∞–∑–∏–Ω–æ–≤

–º–æ–¥–µ—Ä–∞—Ü–∏—è:

–º–æ–∂–Ω–æ –±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å –º–∞–≥–∞–∑–∏–Ω,

–º–æ–∂–Ω–æ —Å–∫—Ä—ã–≤–∞—Ç—å –±–∞–Ω–Ω–µ—Ä—ã,

–º–æ–∂–Ω–æ —É–¥–∞–ª—è—Ç—å –Ω–µ–ø–æ–¥—Ö–æ–¥—è—â–∏–µ —Ç–æ–≤–∞—Ä—ã.

—Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞:

–ø—Ä–æ—Å–º–æ—Ç—Ä—ã,

–ø–æ–¥–ø–∏—Å—á–∏–∫–∏,

–ø—Ä–æ–±–ª–µ–º–Ω—ã–µ –ø—Ä–æ–¥–∞–≤—Ü—ã (–µ—Å–ª–∏ –∂–∞–ª–æ–±—ã).

====================================================================
12. –ò–ù–¢–ï–ì–†–ê–¶–ò–Ø –° –£–ñ–ï –°–û–î–ï–†–ñ–ê–©–ò–ú–°–Ø –ê–£–î–ò–¢–û–ú
–£–±–µ–¥–∏—Ç—å—Å—è:

–º–æ–¥–µ–ª—å User —É–∂–µ –¥–æ–ø—É—Å–∫–∞–µ—Ç –º—É–ª—å—Ç–∏-–∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é (phone + telegram)

sellerId = userId

—Ç–æ–≤–∞—Ä—ã –Ω–µ –∫–æ–ø–∏—Ä—É—é—Ç—Å—è ‚Äî –æ–¥–Ω–∞ –∫–æ–ª–ª–µ–∫—Ü–∏—è Ad

====================================================================
13. –í–´–ü–û–õ–ù–ò–¢–¨ –ù–ê TYPECRIPT –ë–ï–ó –õ–û–ú–ê–Æ–©–ò–• –ò–ó–ú–ï–ù–ï–ù–ò–ô