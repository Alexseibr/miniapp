
failed to solve: process "/bin/sh -c cd miniapp && npm install && npm run build" did not complete successfully: exit code: 1

root@server-strqxk:/var/www/ketmar# св
-bash: св: command not found
root@server-strqxk:/var/www/ketmar# cd
root@server-strqxk:~# cat > /var/www/ketmar/miniapp/src/components/ui/textarea.tsx << 'EOF'
import * as React from "react"
import { cn } from "@/lib/utils"

export interface TextareaProps
  extends React.TextareaHTMLAttributes<HTMLTextAreaElement> {}

const Textarea = React.forwardRef<HTMLTextAreaElement, TextareaProps>(
  ({ className, ...props }, ref) => {
    return (
      <textarea
        className={cn(
          "flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",
          className
        )}
        ref={ref}
        {...props}
      />
    )
  }
)
Textarea.displayName = "Textarea"

export { Textarea }
EOF

# Пересобрать
docker compose build 2>&1 | tail -60
no configuration file provided: not found
root@server-strqxk:~# docker compose build 2>&1 | tail -60
no configuration file provided: not found
root@server-strqxk:~# cd /var/www/ketmar
docker compose build 2>&1 | tail -60
#13 16.88   run `npm fund` for details
#13 16.89 
#13 16.89 2 moderate severity vulnerabilities
#13 16.89 
#13 16.89 To address all issues (including breaking changes), run:
#13 16.89   npm audit fix --force
#13 16.89 
#13 16.89 Run `npm audit` for details.
#13 17.12 
#13 17.12 > ketmar-miniapp@1.0.0 build
#13 17.12 > vite build
#13 17.12 
#13 17.41 vite v5.4.21 building for production...
#13 17.51 transforming...
#13 17.97 
#13 17.97 warn - The `content` option in your Tailwind CSS configuration is missing or empty.
#13 17.97 warn - Configure your content sources or your generated CSS will be missing styles.
#13 17.97 warn - https://tailwindcss.com/docs/content-configuration
#13 22.42 ✓ 2237 modules transformed.
#13 22.43 x Build failed in 4.97s
#13 22.43 error during build:
#13 22.43 [vite:load-fallback] Could not load /app/miniapp/src/components/ui/label (imported by src/pages/MyShopPage.tsx): ENOENT: no such file or directory, open '/app/miniapp/src/components/ui/label'
#13 22.43     at async open (node:internal/fs/promises:639:25)
#13 22.43     at async Object.readFile (node:internal/fs/promises:1246:14)
#13 22.43     at async Object.load (file:///app/miniapp/node_modules/vite/dist/node/chunks/dep-BK3b2jBa.js:65357:25)
#13 22.43     at async PluginDriver.hookFirstAndGetPlugin (file:///app/miniapp/node_modules/rollup/dist/es/shared/node-entry.js:22333:28)
#13 22.43     at async file:///app/miniapp/node_modules/rollup/dist/es/shared/node-entry.js:21333:33
#13 22.43     at async Queue.work (file:///app/miniapp/node_modules/rollup/dist/es/shared/node-entry.js:22561:32)
#13 ERROR: process "/bin/sh -c cd miniapp && npm install && npm run build" did not complete successfully: exit code: 1
------
 > [8/9] RUN cd miniapp && npm install && npm run build:
22.42 ✓ 2237 modules transformed.
22.43 x Build failed in 4.97s
22.43 error during build:
22.43 [vite:load-fallback] Could not load /app/miniapp/src/components/ui/label (imported by src/pages/MyShopPage.tsx): ENOENT: no such file or directory, open '/app/miniapp/src/components/ui/label'
22.43     at async open (node:internal/fs/promises:639:25)
22.43     at async Object.readFile (node:internal/fs/promises:1246:14)
22.43     at async Object.load (file:///app/miniapp/node_modules/vite/dist/node/chunks/dep-BK3b2jBa.js:65357:25)
22.43     at async PluginDriver.hookFirstAndGetPlugin (file:///app/miniapp/node_modules/rollup/dist/es/shared/node-entry.js:22333:28)
22.43     at async file:///app/miniapp/node_modules/rollup/dist/es/shared/node-entry.js:21333:33
22.43     at async Queue.work (file:///app/miniapp/node_modules/rollup/dist/es/shared/node-entry.js:22561:32)
------
Dockerfile:25

--------------------

  23 |     

  24 |     # Build MiniApp

  25 | >>> RUN cd miniapp && npm install && npm run build

  26 |     

  27 |     # Remove dev dependencies after build

--------------------

failed to solve: process "/bin/sh -c cd miniapp && npm install && npm run build" did not complete successfully: exit code: 1

root@server-strqxk:/var/www/ketmar# 
