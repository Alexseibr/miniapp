ПРОМТ ДЛЯ REPLIT: ШАГ «ФОТО ТОВАРА» — КНОПКА ПРОДОЛЖИТЬ БЕЗ ФОТО + КОМПАКТНАЯ СЕТКА (0–4 ФОТО)

Ты — senior React/Node разработчик.
Нужно точечно доработать шаг “Фото товара” в мастере подачи объявления.
Ничего лишнего не ломай.

1. Главная проблема: нет явной кнопки «Продолжить»

Сейчас:

На шаге «Фото товара»:

пользователь видит сетку из 4 ячеек “Добавить”,

может добавить 1–4 фото,

но нет понятной кнопки, чтобы перейти дальше:

ни при 0 фото,

ни при 1–4 фото.

Из-за этого мастер визуально “зависает”.

2. Что нужно сделать по логике шага
2.1. Разрешить 0–4 фото

Количество фото на этом шаге:

0 фото — разрешено,

1, 2, 3, 4 фото — тоже разрешено.

Это не должно блокировать переход к следующему шагу.

2.2. Кнопка «Продолжить» / «Продолжить без фотографий»

Внизу шага (над нижним таббаром MiniApp) должна быть одна большая основная кнопка:

Если фото нет (0 шт.):

показывать текст кнопки:
«Продолжить без фотографий».

Если есть 1–4 фото:

текст кнопки:
«Продолжить».

Поведение кнопки:

При нажатии:

сохраняем текущий массив фото в draftAd.images (или любые ваши поля),

запускаем goToNextStep() → переходим на шаг название/описание/цена.

Кнопка должна быть доступна, если:

нет активной загрузки (!isUploading),

нет фатальных ошибок загрузки (если файл не загрузился — подсветить ячейку/ошибку, но не блокировать весь мастер, либо блокировать только пока идёт аплоад).

Важно:

НЕ требовать images.length > 0 для enable,

никаких блокировок “обязательна хотя бы одна фотка”.

3. Валидация: убрать обязательность фото

Найди код шага (что-то типа AdPhotosStep, CreateAdPhotosStep):

логика canGoNext, isValid, validateStep,

обработчик nextStep().

Сейчас там, скорее всего, есть проверка вроде:

if (!photos || photos.length === 0) {
  // блокируем переход
}


Нужно:

убрать эту проверку для шага,

оставить только:

лимит <= 4,

состояние загрузки и ошибок (по желанию),

но отсутствие фото НЕ должно быть ошибкой.

4. Сетка фото — сделать компактнее

Сейчас:

4 ячейки большие, занимают почти весь экран,

подсказку внизу (“Качественные фотографии…” / “без фото не попадёт в ленту”) нужно прокручивать, чтобы увидеть.

Нужно:

Сделать сетку компактнее:

2×2, как сейчас, но:

уменьшить высоту ячейки (например, до 110–130 px вместо 160–180),

уменьшить отступы между ячейками,

уменьшить внешние отступы сверху/снизу.

Важно: на типичном экране (iPhone 11/13) должны помещаться:

заголовок “Фото товара”,

подпись “До 4 фотографий (необязательно)”,

вся 2×2 сетка,

и текстовая подсказка под ней — без вертикального скролла (или с минимальным).

Не менять общий стиль:

рамка с пунктиром,

иконка камеры,

подпись “Добавить” — как сейчас,

только уменьшить размеры и отступы.

5. Текстовая подсказка под сеткой (про ленту)

Под сеткой (и над кнопкой “Продолжить”) разместить инфоблок:

краткое сообщение мелким шрифтом, например:

ℹ️ Объявления без фотографий не показываются в ленте, но будут доступны в поиске и категориях.

Требования:

этот текст должен быть виден на экране без скролла (вместе с сеткой),

при любой ориентации/стандартном экране — стремиться к этому макету.

Если уже есть похожий текст (“Качественные фотографии помогают быстрее продать товар”) — можно:

оставить его,

либо дополнить/заменить, но важно, чтобы фраза про непопадание в ленту без фото точно была.

6. Регресс-проверка (обязательно руками)

После изменений проверь 4 сценария:

0 фото:

шаг “Фото товара”,

не добавляю ничего,

вижу кнопку: “Продолжить без фотографий”,

нажимаю → попадаю на следующий шаг (название/описание/цена),

в итоге объявление создаётся и сохраняется,

в Ленте не появляется (но видимо в “Мои объявления” и в категориях — появляется).

1 фото:

добавляю 1 фото,

кнопка показывает “Продолжить”,

жму → следующий шаг, публикация,

объявление появляется в Ленте.

4 фото:

добавляю 4 фото,

всё помещается в сетку,

подсказка про ленту видна без лишнего скролла,

жму “Продолжить” → всё ок.

Вход через «Мои» → “Добавить объявление”:

мастер проходит все шаги без зависаний,

нигде больше не требуется “обязательно фото”.

7. Осторожность

Не трогай остальные шаги мастера (местоположение, описание, цена, контакты).

Не ломай загрузку и сохранение фотографий — только уменьшай визуальные размеры и меняй логику “обязательности”.

Не трогай Ленту/FeedScreen в этом промте — это отдельная часть.

Сделай, пожалуйста, чтобы:

на шаге “Фото товара” всегда была понятная кнопка “Продолжить / Продолжить без фотографий”,

чтобы можно было пройти дальше с 0–4 фото,

и чтобы сетка стала компактнее, а подсказка про ленту — видимой без скролла.