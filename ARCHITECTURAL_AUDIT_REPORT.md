# –ê–†–•–ò–¢–ï–ö–¢–£–†–ù–´–ô –ê–£–î–ò–¢: KETMAR Market

**–î–∞—Ç–∞ –∞—É–¥–∏—Ç–∞:** 25 –Ω–æ—è–±—Ä—è 2025  
**–ê—É–¥–∏—Ç–æ—Ä:** Senior Fullstack Architect  
**–ü—Ä–æ–µ–∫—Ç:** KETMAR Market (@KetmarM_bot)  
**–¶–µ–ª–µ–≤–æ–µ –≤–∏–¥–µ–Ω–∏–µ:** LocalHub / –†–∞–π–æ–Ω–ú–∞—Ä–∫–µ—Ç - –≥–µ–æ-–º–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å –ª–æ–∫–∞–ª—å–Ω—ã—Ö –ø—Ä–æ–¥–∞–≤—Ü–æ–≤

---

## 1. –û–ë–©–ê–Ø –û–¶–ï–ù–ö–ê –ü–†–û–ï–ö–¢–ê

### –£—Ä–æ–≤–µ–Ω—å –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏: **70-75% (–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π MVP)**

**–ö—Ä–∞—Ç–∫–∞—è –æ—Ü–µ–Ω–∫–∞:**
–ü—Ä–æ–µ–∫—Ç KETMAR Market –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π **–ø–æ–ª–Ω–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π MVP –º–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å–∞** —Å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–µ–π Telegram, –Ω–æ —Å **—á–∞—Å—Ç–∏—á–Ω–æ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–µ–π –≥–µ–æ–ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è** –∏ **–æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ–º –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö –∫–ª—é—á–µ–≤—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π** –∏–∑ —Ü–µ–ª–µ–≤–æ–≥–æ –≤–∏–¥–µ–Ω–∏—è LocalHub/–†–∞–π–æ–Ω–ú–∞—Ä–∫–µ—Ç.

**–°–∏–ª—å–Ω—ã–µ —Å—Ç–æ—Ä–æ–Ω—ã:**
- ‚úÖ –ü–æ–ª–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Telegram (MiniApp + –±–æ—Ç)
- ‚úÖ –ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –º–æ–Ω–æ—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
- ‚úÖ –ù–∞–ª–∏—á–∏–µ –≥–µ–æ–ª–æ–∫–∞—Ü–∏–æ–Ω–Ω–æ–π –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã (2dsphere –∏–Ω–¥–µ–∫—Å—ã)
- ‚úÖ –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å —Å –º–æ–¥–µ—Ä–∞—Ü–∏–µ–π
- ‚úÖ Production-ready –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ (code splitting, prefetch, Web Vitals)
- ‚úÖ –°–∏—Å—Ç–µ–º–∞ —Ä–æ–ª–µ–π –∏ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏

**–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–µ–ª—ã:**
- ‚ùå –ì–µ–æ–ø–æ–∏—Å–∫ –ù–ï –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –æ—Å–Ω–æ–≤–Ω–æ–º UX
- ‚ùå –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç —Ñ–∏–ª—å—Ç—Ä –ø–æ —Ä–∞–¥–∏—É—Å—É (100–º, 500–º, 1–∫–º, 3–∫–º, 5–∫–º, 10–∫–º)
- ‚ùå –†–∞—Å—Å—Ç–æ—è–Ω–∏–µ –¥–æ –ø—Ä–æ–¥–∞–≤—Ü–∞ –ù–ï –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –≤ –ª–µ–Ω—Ç–µ
- ‚ùå –ù–µ—Ç –∞–∫—Ü–µ–Ω—Ç–∞ –Ω–∞ "—Ä—è–¥–æ–º —Å–æ –º–Ω–æ–π"
- ‚ùå Monorepo —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –µ—Å—Ç—å, –Ω–æ Docker/Nginx –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã
- ‚ùå –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –º–æ–Ω–µ—Ç–∏–∑–∞—Ü–∏—è (–ø–æ–¥–Ω—è—Ç–∏–µ, –≤—ã–¥–µ–ª–µ–Ω–∏–µ –æ–±—ä—è–≤–ª–µ–Ω–∏–π)

---

## 2. –ß–¢–û –°–î–ï–õ–ê–ù–û –ü–†–ê–í–ò–õ–¨–ù–û

### 2.1. –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ ‚úÖ

**–§–∞–π–ª–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞:**
```
ketmar-market/
‚îú‚îÄ‚îÄ api/               # Backend API (Express + MongoDB)
‚îÇ   ‚îú‚îÄ‚îÄ routes/        # –ú–æ–¥—É–ª—å–Ω—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ middleware/    # –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è, –≤–∞–ª–∏–¥–∞—Ü–∏—è
‚îÇ   ‚îî‚îÄ‚îÄ services/      # –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
‚îú‚îÄ‚îÄ bot/               # Telegram –±–æ—Ç (Telegraf)
‚îú‚îÄ‚îÄ miniapp/           # React MiniApp (TypeScript + Vite)
‚îú‚îÄ‚îÄ client/            # React Web Admin Panel
‚îú‚îÄ‚îÄ models/            # Mongoose —Å—Ö–µ–º—ã
‚îú‚îÄ‚îÄ config/            # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îî‚îÄ‚îÄ scripts/           # –£—Ç–∏–ª–∏—Ç—ã –∏ —Å–∫—Ä–∏–ø—Ç—ã
```

**‚úÖ –ß—Ç–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –∏–¥–µ–∞–ª—å–Ω–æ:**
- **–ú–æ–Ω–æ—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π**: –í—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –≤ –æ–¥–Ω–æ–º —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ —Å –æ–±—â–∏–º–∏ –º–æ–¥–µ–ª—è–º–∏
- **–ú–æ–¥—É–ª—å–Ω–æ—Å—Ç—å**: –ß–∏—Å—Ç–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ backend/frontend/bot/admin
- **–û–±—â–∏–µ –º–æ–¥–µ–ª–∏**: `models/Ad.js`, `models/User.js` –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –∏ –≤ API, –∏ –≤ –±–æ—Ç–µ
- **TypeScript –Ω–∞ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–µ**: –°—Ç—Ä–æ–≥–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è –≤ MiniApp –∏ Admin Panel
- **Environment variables**: –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —á–µ—Ä–µ–∑ `.env`

**–§–∞–π–ª—ã:**
- `package.json` - –µ–¥–∏–Ω—ã–π package.json —Å —Å–∫—Ä–∏–ø—Ç–∞–º–∏ –¥–ª—è –≤—Å–µ—Ö —á–∞—Å—Ç–µ–π
- `index.js` - –µ–¥–∏–Ω–∞—è —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞ –¥–ª—è backend + bot
- –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç best practices –¥–ª—è –º–æ–Ω–æ—Ä–µ–ø–æ

### 2.2. –ì–µ–æ–ª–æ–∫–∞—Ü–∏–æ–Ω–Ω–∞—è –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ ‚úÖ

**MongoDB GeoJSON + 2dsphere:**

**–§–∞–π–ª:** `models/Ad.js`
```javascript
const GeoPointSchema = new mongoose.Schema({
  type: {
    type: String,
    enum: ['Point'],
    default: 'Point',
  },
  coordinates: {
    type: [Number],  // [longitude, latitude]
    index: '2dsphere',
    default: undefined,
  },
}, { _id: false });

const adSchema = new mongoose.Schema({
  // ...
  location: {
    lat: Number,
    lng: Number,
    geo: { type: GeoPointSchema, default: undefined }
  },
  geo: {  // –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –∑–∞–ø—Ä–æ—Å–æ–≤
    type: GeoPointSchema,
    default: undefined,
  },
  // ...
});

adSchema.index({ 'location.geo': '2dsphere' });
```

**‚úÖ –ß—Ç–æ –∏–¥–µ–∞–ª—å–Ω–æ:**
- GeoJSON —Ñ–æ—Ä–º–∞—Ç (`Point` —Å `coordinates: [lng, lat]`)
- 2dsphere –∏–Ω–¥–µ–∫—Å –¥–ª—è –±—ã—Å—Ç—Ä—ã—Ö –≥–µ–æ–∑–∞–ø—Ä–æ—Å–æ–≤
- Haversine distance calculation (`utils/haversine.js`)
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ `$near`, `$geoWithin`, `$centerSphere`

**–§–∞–π–ª:** `utils/haversine.js`
```javascript
function haversineDistanceKm(lat1, lng1, lat2, lng2) {
  const EARTH_RADIUS_KM = 6371;
  // –§–æ—Ä–º—É–ª–∞ Haversine –¥–ª—è —Ä–∞—Å—á—ë—Ç–∞ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏—è
  // ...
  return distance; // –≤ –∫–∏–ª–æ–º–µ—Ç—Ä–∞—Ö
}
```

### 2.3. API Endpoints –¥–ª—è –≥–µ–æ–ø–æ–∏—Å–∫–∞ ‚úÖ

**–§–∞–π–ª:** `api/routes/ads.js` –∏ `api/routes/search.js`

**–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ endpoints:**

1. **`GET /api/ads/nearby`** - –ü–æ–∏—Å–∫ —Ä—è–¥–æ–º
   ```javascript
   // –ü–∞—Ä–∞–º–µ—Ç—Ä—ã: lat, lng, radiusKm, categoryId
   const ads = await Ad.find({
     'location.geo': {
       $nearSphere: {
         $geometry: {
           type: 'Point',
           coordinates: [lng, lat]
         },
         $maxDistance: radiusKm * 1000 // –º–µ—Ç—Ä—ã
       }
     },
     status: 'active',
     moderationStatus: 'approved'
   });
   ```

2. **`GET /api/ads/search`** - –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π –ø–æ–∏—Å–∫
   ```javascript
   // –ü–∞—Ä–∞–º–µ—Ç—Ä—ã: q, categoryId, lat, lng, maxDistanceKm, minPrice, maxPrice, sort
   // –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç:
   // - –¢–µ–∫—Å—Ç–æ–≤—ã–π –ø–æ–∏—Å–∫ (title, description, attributes)
   // - –§–∏–ª—å—Ç—Ä –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
   // - –ì–µ–æ–ø–æ–∏—Å–∫ —Å —Ä–∞—Å—á—ë—Ç–æ–º —Ä–∞—Å—Å—Ç–æ—è–Ω–∏—è
   // - –¶–µ–Ω–æ–≤–æ–π –¥–∏–∞–ø–∞–∑–æ–Ω
   // - –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ (newest, cheapest, expensive, distance, popular)
   ```

3. **`GET /api/ads/live-spots`** - Live-—Ç–æ—á–∫–∏
   ```javascript
   // –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –≥–µ–æ–ø–æ–∏—Å–∫–∞ –¥–ª—è "–∂–∏–≤—ã—Ö —Ç–æ—á–µ–∫" (isLiveSpot: true)
   ```

**‚úÖ API –ø–æ–ª–Ω–æ—Å—Ç—å—é –≥–æ—Ç–æ–≤ –¥–ª—è –≥–µ–æ–ø–æ–∏—Å–∫–∞!**

### 2.4. Telegram MiniApp Integration ‚úÖ

**–§–∞–π–ª:** `miniapp/src/App.tsx`
```typescript
const tg = getTelegramWebApp();
if (tg) {
  tg.ready();
  tg.expand();
  tg.enableClosingConfirmation();
  
  // Deep link handling
  const startParam = tg.initDataUnsafe?.start_param;
  if (startParam) {
    handleDeepLink(startParam); // season, category, adId
  }
}
```

**–§–∞–π–ª:** `miniapp/src/api/telegramAuth.ts`
```typescript
export async function validateSession(initData?: string): Promise<AuthResponse> {
  const response = await http.post('/auth/telegram', {}, {
    headers: {
      'X-Telegram-Init-Data': initData,
    }
  });
  
  if (response.data?.token) {
    setSessionToken(response.data.token);
  }
  
  return response.data;
}
```

**Backend:** `api/middleware/telegramAuth.js`
```javascript
async function telegramInitDataMiddleware(req, res, next) {
  const initData = req.headers['x-telegram-init-data'];
  
  // Parse and validate Telegram initData
  const parsed = new URLSearchParams(initData);
  const user = JSON.parse(parsed.get('user') || '{}');
  
  // Find or create user
  const dbUser = await User.findOneAndUpdate(
    { telegramId: user.id },
    {
      telegramId: user.id,
      username: user.username,
      firstName: user.first_name,
      lastName: user.last_name,
    },
    { upsert: true, new: true }
  );
  
  req.telegramAuth = { user: dbUser };
  next();
}
```

**‚úÖ –ü–æ–ª–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è:**
- –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ `initData`
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- JWT —Ç–æ–∫–µ–Ω—ã –¥–ª—è –∑–∞—â–∏—â—ë–Ω–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
- Deep linking (`startapp` –ø–∞—Ä–∞–º–µ—Ç—Ä—ã)
- WebApp SDK –ø–æ–ª–Ω–æ—Å—Ç—å—é –Ω–∞—Å—Ç—Ä–æ–µ–Ω

### 2.5. Telegram Bot ‚úÖ

**–§–∞–π–ª:** `bot/bot.js`

**–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã:**
- `/start` - –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ + –∫–Ω–æ–ø–∫–∞ –æ—Ç–∫—Ä—ã—Ç–∏—è MiniApp
- `/myid` - –ü–æ–∫–∞–∑–∞—Ç—å Telegram ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `/categories` - –ë—Ä–∞—É–∑–∏–Ω–≥ –∫–∞—Ç–µ–≥–æ—Ä–∏–π
- `/sell` - –°–æ–∑–¥–∞–Ω–∏–µ –æ–±—ä—è–≤–ª–µ–Ω–∏—è —á–µ—Ä–µ–∑ –±–æ—Ç–∞
- `/new_test_ad` - –°–æ–∑–¥–∞–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –æ–±—ä—è–≤–ª–µ–Ω–∏—è
- `/admin_login` - –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ–¥–Ω–æ—Ä–∞–∑–æ–≤–æ–π —Å—Å—ã–ª–∫–∏ –¥–ª—è –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏
- Season handlers - –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–µ–∑–æ–Ω–Ω—ã—Ö –≤–∏—Ç—Ä–∏–Ω

**Inline –∫–Ω–æ–ø–∫–∏ MiniApp:**
```javascript
function getMiniAppKeyboard() {
  return {
    keyboard: [
      [{ 
        text: 'üõçÔ∏è –û—Ç–∫—Ä—ã—Ç—å KETMAR Market', 
        web_app: { url: buildMiniAppUrl() } 
      }],
    ],
    resize_keyboard: true,
  };
}
```

**Deep linking:**
```javascript
function buildMiniAppUrl(params = {}) {
  const url = new URL(MINIAPP_URL);
  // –î–æ–±–∞–≤–ª—è–µ–º –ø–∞—Ä–∞–º–µ—Ç—Ä—ã: season, adId, categoryId
  url.searchParams.set('season', params.season);
  return url.toString();
}
```

**‚úÖ –ë–æ—Ç –ø–æ–ª–Ω–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–µ–Ω!**

### 2.6. –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å –∏ –º–æ–¥–µ—Ä–∞—Ü–∏—è ‚úÖ

**–§–∞–π–ª:** `api/routes/moderation.js`

**Endpoints –º–æ–¥–µ—Ä–∞—Ü–∏–∏:**
```javascript
// Middleware –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø—Ä–∞–≤ –º–æ–¥–µ—Ä–∞—Ç–æ—Ä–∞
async function checkModerator(req, res, next) {
  const user = await User.findOne({ telegramId: decoded.telegramId });
  if (!user.isModerator && user.role !== 'moderator' && user.role !== 'admin') {
    return res.status(403).json({ error: 'Access denied' });
  }
  next();
}

// POST /api/mod/approve - –û–¥–æ–±—Ä–∏—Ç—å –æ–±—ä—è–≤–ª–µ–Ω–∏–µ
router.post('/approve', checkModerator, async (req, res) => {
  ad.moderationStatus = 'approved';
  await ad.save();
});

// POST /api/mod/reject - –û—Ç–∫–ª–æ–Ω–∏—Ç—å —Å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–º
router.post('/reject', checkModerator, async (req, res) => {
  ad.moderationStatus = 'rejected';
  ad.moderationComment = req.body.comment;
  await ad.save();
});

// GET /api/mod/pending - –°–ø–∏—Å–æ–∫ –Ω–∞ –º–æ–¥–µ—Ä–∞—Ü–∏–∏
router.get('/pending', checkModerator, async (req, res) => {
  const ads = await Ad.find({ moderationStatus: 'pending' });
  res.json(ads);
});
```

**–§–∞–π–ª:** `api/routes/admin.js`

**User management:**
```javascript
// GET /api/admin/users - –°–ø–∏—Å–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
router.get('/users', adminAuth, async (req, res) => {
  const users = await User.find(filters)
    .sort({ createdAt: -1 })
    .skip(skip)
    .limit(limit);
});

// PUT /api/admin/users/:id/role - –ò–∑–º–µ–Ω–∏—Ç—å —Ä–æ–ª—å
router.put('/users/:id/role', adminAuth, async (req, res) => {
  user.role = req.body.role; // user, moderator, admin, super_admin, seller
  await user.save();
});

// PUT /api/admin/users/:id/block - –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
router.put('/users/:id/block', adminAuth, async (req, res) => {
  user.isBlocked = req.body.isBlocked;
  user.blockReason = req.body.reason;
  await user.save();
});
```

**–§–∞–π–ª:** `client/src/components/admin/AdminAdsTab.tsx`
- –¢–∞–±–ª–∏—á–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –æ–±—ä—è–≤–ª–µ–Ω–∏—è–º–∏
- –§–∏–ª—å—Ç—Ä—ã –ø–æ —Å—Ç–∞—Ç—É—Å—É, –ø–æ–∏—Å–∫
- –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –æ–±—ä—è–≤–ª–µ–Ω–∏–π

**–§–∞–π–ª:** `client/src/components/admin/AdminUsersTab.tsx`
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
- –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ —Ä–æ–ª–µ–π
- –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞

**‚úÖ –ê–¥–º–∏–Ω–∫–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞!**

### 2.7. Frontend Performance ‚úÖ

**Code Splitting:**
```typescript
// miniapp/src/App.tsx
const HomePage = lazy(() => import('./pages/HomePage'));
const AdPage = lazy(() => import('./pages/AdPage'));
const ProfilePage = lazy(() => import('./pages/ProfilePage'));
// ... –≤—Å–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã lazy-loaded

<Suspense fallback={<PageLoader />}>
  <Routes>
    <Route path="/" element={<HomePage />} />
    {/* ... */}
  </Routes>
</Suspense>
```

**Data Prefetching:**
```typescript
// miniapp/src/utils/prefetch.ts
export async function prefetchCriticalData() {
  // Prefetch categories
  await queryClient.prefetchQuery({
    queryKey: ['/api/categories'],
    staleTime: 30 * 60 * 1000, // 30 –º–∏–Ω—É—Ç
  });
  
  // Prefetch first page of ads
  await queryClient.prefetchQuery({
    queryKey: ['/api/ads/search', {}, 1],
    staleTime: 5 * 60 * 1000, // 5 –º–∏–Ω—É—Ç
  });
}
```

**Web Vitals Monitoring:**
```typescript
// miniapp/src/utils/webVitals.ts
import { onCLS, onINP, onFCP, onLCP, onTTFB } from 'web-vitals';

export function initWebVitals() {
  onCLS(console.log); // Cumulative Layout Shift
  onINP(console.log); // Interaction to Next Paint
  onLCP(console.log); // Largest Contentful Paint
  // ...
}
```

**Compression & Caching:**
```javascript
// api/server.js
app.use(compression({ threshold: 1024, level: 6 }));

// Hashed assets: max-age=1 year
res.setHeader('Cache-Control', 'public, max-age=31536000, immutable');

// index.html: no-cache
res.setHeader('Cache-Control', 'no-cache, must-revalidate');
```

**‚úÖ Production-ready –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏!**

### 2.8. –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –∏ UI/UX ‚úÖ

**–ú–æ–¥–µ–ª—å –∫–∞—Ç–µ–≥–æ—Ä–∏–π:**
```javascript
// models/Category.js
const categorySchema = new mongoose.Schema({
  slug: String,        // –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä
  name: String,        // –ù–∞–∑–≤–∞–Ω–∏–µ
  icon: String,        // 2D –∏–∫–æ–Ω–∫–∞
  icon3d: String,      // 3D WebP –∏–∫–æ–Ω–∫–∞
  parentSlug: String,  // –†–æ–¥–∏—Ç–µ–ª—å—Å–∫–∞—è –∫–∞—Ç–µ–≥–æ—Ä–∏—è (null –¥–ª—è –∫–æ—Ä–Ω–µ–≤—ã—Ö)
  level: Number,       // –£—Ä–æ–≤–µ–Ω—å –≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç–∏ (1, 2, 3, 4)
  isLeaf: Boolean,     // –ö–æ–Ω–µ—á–Ω–∞—è –∫–∞—Ç–µ–≥–æ—Ä–∏—è (–º–æ–∂–Ω–æ —Å–æ–∑–¥–∞–≤–∞—Ç—å –æ–±—ä—è–≤–ª–µ–Ω–∏—è)
  sortOrder: Number,   // –ü–æ—Ä—è–¥–æ–∫ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è
  keywordTokens: [String],  // TF-IDF —Ç–æ–∫–µ–Ω—ã –¥–ª—è –ø–æ–∏—Å–∫–∞
  boostWeight: Number,      // –í–µ—Å –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –≤ –ø–æ–∏—Å–∫–µ
});
```

**‚úÖ –ò–µ—Ä–∞—Ä—Ö–∏—è –∫–∞—Ç–µ–≥–æ—Ä–∏–π:**
- 4 —É—Ä–æ–≤–Ω—è –≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç–∏
- 3D –∏–∫–æ–Ω–∫–∏ (WebP, –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω—ã)
- TF-IDF matching –¥–ª—è "—É–º–Ω—ã—Ö –ø–æ–¥—Å–∫–∞–∑–æ–∫"
- Lazy loading –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π

**HomePage UX (Kufar-style):**
```typescript
// miniapp/src/pages/HomePage.tsx
- FilterPanel —Å –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º–∏, —Ü–µ–Ω–æ–π, —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–æ–π
- Infinite scroll (IntersectionObserver)
- Per-filter-set pagination (–±–µ–∑ race conditions)
- AdCard —Å Swiper –≥–∞–ª–µ—Ä–µ—è–º–∏
- Relative timestamps (date-fns)
```

**‚úÖ –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π UI!**

---

## 3. –ß–ï–ì–û –ù–ï –•–í–ê–¢–ê–ï–¢ –î–û –¶–ï–õ–ï–í–û–ì–û –¢–ó

### 3.1. –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ô –ü–†–û–ë–ï–õ: –ì–µ–æ–ø–æ–∏—Å–∫ –ù–ï –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ UX ‚ùå

**–ü—Ä–æ–±–ª–µ–º–∞:**
–ù–µ—Å–º–æ—Ç—Ä—è –Ω–∞ **–ø–æ–ª–Ω–æ—Å—Ç—å—é –≥–æ—Ç–æ–≤—É—é –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—É** (2dsphere –∏–Ω–¥–µ–∫—Å—ã, API endpoints), **–≥–µ–æ–ø–æ–∏—Å–∫ –ù–ï –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω –≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å**.

**–ß—Ç–æ –µ—Å—Ç—å:**
- ‚úÖ `GET /api/ads/nearby?lat=...&lng=...&radiusKm=...` —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ Haversine distance calculation
- ‚úÖ MongoDB 2dsphere –∏–Ω–¥–µ–∫—Å—ã

**–ß–µ–≥–æ –ù–ï–¢:**
- ‚ùå –ö–Ω–æ–ø–∫–∞ "–ü–æ–∫–∞–∑–∞—Ç—å —Ä—è–¥–æ–º —Å–æ –º–Ω–æ–π" –Ω–∞ HomePage
- ‚ùå –§–∏–ª—å—Ç—Ä –ø–æ —Ä–∞–¥–∏—É—Å—É (100–º, 500–º, 1–∫–º, 3–∫–º, 5–∫–º, 10–∫–º)
- ‚ùå –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏—è –¥–æ –ø—Ä–æ–¥–∞–≤—Ü–∞ –≤ AdCard ("850 –º –æ—Ç –≤–∞—Å")
- ‚ùå –ì–µ–æ–ª–æ–∫–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –≤—Ö–æ–¥–µ
- ‚ùå –ö–∞—Ä—Ç–∞ —Å —Ç–æ—á–∫–∞–º–∏ –æ–±—ä—è–≤–ª–µ–Ω–∏–π
- ‚ùå –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ "–±–ª–∏–∂–∞–π—à–∏–µ —Å–Ω–∞—á–∞–ª–∞"

**–¶–µ–ª–µ–≤–æ–µ –≤–∏–¥–µ–Ω–∏–µ:**
> "–ü–æ–∫–∞–∑—ã–≤–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é, –∫—Ç–æ –∏ —á—Ç–æ –ø—Ä–æ–¥–∞—ë—Ç —Ä—è–¥–æ–º —Å –Ω–∏–º –≤ —Ä–∞–¥–∏—É—Å–µ N –º–µ—Ç—Ä–æ–≤/–∫–∏–ª–æ–º–µ—Ç—Ä–æ–≤, –∞ –Ω–µ –ø—Ä–æ—Å—Ç–æ –ø–æ –≥–æ—Ä–æ–¥—É."

**–¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ:**
–õ–µ–Ω—Ç–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç **–≤—Å–µ –æ–±—ä—è–≤–ª–µ–Ω–∏—è –≥–æ—Ä–æ–¥–∞** –±–µ–∑ –∞–∫—Ü–µ–Ω—Ç–∞ –Ω–∞ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ.

**–ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å:**
1. –î–æ–±–∞–≤–∏—Ç—å `useGeoLocation()` hook –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
2. –î–æ–±–∞–≤–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä —Ä–∞–¥–∏—É—Å–∞ –≤ `FilterPanel`
3. –ü–µ—Ä–µ–¥–∞–≤–∞—Ç—å `lat`, `lng`, `radiusKm` –≤ `/api/ads/search`
4. –û—Ç–æ–±—Ä–∞–∂–∞—Ç—å `distanceKm` –≤ `AdCard`
5. –î–æ–±–∞–≤–∏—Ç—å —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫—É "–ø–æ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏—é"

### 3.2. –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ —Ñ–∏–ª—å—Ç—Ä–∞ –ø–æ —Ä–∞–¥–∏—É—Å—É ‚ùå

**–¶–µ–ª–µ–≤–æ–µ –¢–ó:**
> "–§–∏–ª—å—Ç—Ä –ø–æ —Ä–∞–¥–∏—É—Å—É: 100 –º, 500 –º, 1 –∫–º, 3 –∫–º, 5 –∫–º, 10 –∫–º."

**–¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ:**
–í `FilterPanel` –µ—Å—Ç—å:
- –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ ‚úÖ
- –¶–µ–Ω–∞ (min/max) ‚úÖ
- –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ (–Ω–æ–≤—ã–µ, –¥–µ—à—ë–≤—ã–µ, –¥–æ—Ä–æ–≥–∏–µ) ‚úÖ

–ß–µ–≥–æ –ù–ï–¢:
- –†–∞–¥–∏—É—Å –ø–æ–∏—Å–∫–∞ ‚ùå

**–ß—Ç–æ –Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å:**
```typescript
// miniapp/src/components/FilterPanel.tsx
const radiusOptions = [
  { label: '–í—Å–µ', value: null },
  { label: '100 –º', value: 0.1 },
  { label: '500 –º', value: 0.5 },
  { label: '1 –∫–º', value: 1 },
  { label: '3 –∫–º', value: 3 },
  { label: '5 –∫–º', value: 5 },
  { label: '10 –∫–º', value: 10 },
];

<Select value={filters.radiusKm} onChange={(value) => setFilters({ ...filters, radiusKm: value })}>
  {radiusOptions.map(opt => (
    <SelectItem value={opt.value}>{opt.label}</SelectItem>
  ))}
</Select>
```

### 3.3. –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ "—Ä—è–¥–æ–º —Å–æ –º–Ω–æ–π" –≤ UI ‚ùå

**–¶–µ–ª–µ–≤–æ–µ –¢–ó:**
> "–ù–∞ —Ñ—Ä–æ–Ω—Ç–µ: –∫–Ω–æ–ø–∫–∞ ¬´–ü–æ–∫–∞–∑–∞—Ç—å —Ä—è–¥–æ–º —Å–æ –º–Ω–æ–π¬ª (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç –≥–µ–æ–ª–æ–∫–∞—Ü–∏—é Telegram/–±—Ä–∞—É–∑–µ—Ä–∞)"

**–¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ:**
- –ù–µ—Ç –∫–Ω–æ–ø–∫–∏ "–†—è–¥–æ–º —Å–æ –º–Ω–æ–π"
- –ì–µ–æ–ª–æ–∫–∞—Ü–∏—è –Ω–µ –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- –†–∞—Å—Å—Ç–æ—è–Ω–∏–µ –¥–æ –ø—Ä–æ–¥–∞–≤—Ü–∞ –Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è

**–ß—Ç–æ –Ω—É–∂–Ω–æ:**
```typescript
// HomePage.tsx
<Button onClick={handleShowNearby}>
  üìç –†—è–¥–æ–º —Å–æ –º–Ω–æ–π
</Button>

async function handleShowNearby() {
  const { lat, lng } = await getUserLocation(); // Telegram –∏–ª–∏ browser API
  setFilters({ ...filters, lat, lng, radiusKm: 3 }); // –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é 3 –∫–º
}
```

### 3.4. –°–µ–∑–æ–Ω–Ω—ã–µ –≤–∏—Ç—Ä–∏–Ω—ã (—á–∞—Å—Ç–∏—á–Ω–æ) ‚ö†Ô∏è

**–ß—Ç–æ –µ—Å—Ç—å:**
- ‚úÖ –ú–æ–¥–µ–ª—å `Season` (permanent `short_term_rental`)
- ‚úÖ API `/api/seasons/active`
- ‚úÖ `seasonCode` –≤ –æ–±—ä—è–≤–ª–µ–Ω–∏—è—Ö
- ‚úÖ Bot handlers –¥–ª—è —Å–µ–∑–æ–Ω–æ–≤

**–ß–µ–≥–æ –ù–ï–¢:**
- ‚ùå –û—Ç–¥–µ–ª—å–Ω—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –¥–ª—è —Å–µ–∑–æ–Ω–æ–≤ –≤ MiniApp
- ‚ùå –í–∏–∑—É–∞–ª—å–Ω–æ–µ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ —Å–µ–∑–æ–Ω–Ω—ã—Ö –≤–∏—Ç—Ä–∏–Ω
- ‚ùå –§–∏–ª—å—Ç—Ä—ã –ø–æ –∞—Ç—Ä–∏–±—É—Ç–∞–º —Å–µ–∑–æ–Ω–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Ü–≤–µ—Ç —Ç—é–ª—å–ø–∞–Ω–æ–≤)
- ‚ùå –ü–ª–∞—Ç–Ω—ã–µ –ø–æ–∑–∏—Ü–∏–∏ –≤ —Å–µ–∑–æ–Ω–∞—Ö

**–¶–µ–ª–µ–≤–æ–µ –¢–ó:**
> "–û—Ç–¥–µ–ª—å–Ω—ã–µ –≤–∏—Ç—Ä–∏–Ω—ã:
> - /season/march8_tulips ‚Äî —Ç—é–ª—å–ø–∞–Ω—ã –∫ 8 –º–∞—Ä—Ç–∞
> - /season/berries ‚Äî —Å–µ–∑–æ–Ω —è–≥–æ–¥
> - /season/crafts ‚Äî —Ä–µ–º–µ—Å–ª–µ–Ω–Ω–∏–∫–∏ –∏ —Ö–µ–Ω–¥–º–µ–π–¥
> 
> –í —ç—Ç–∏—Ö –≤–∏—Ç—Ä–∏–Ω–∞—Ö:
> - —Ñ–∏–ª—å—Ç—Ä—ã –ø–æ –∞—Ç—Ä–∏–±—É—Ç–∞–º (—Ü–≤–µ—Ç, —Ç–∏–ø, —Ü–µ–Ω–∞)
> - —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –∏ –≤—ã–¥–µ–ª–µ–Ω–∏–µ –ø–ª–∞—Ç–Ω—ã—Ö –ø–æ–∑–∏—Ü–∏–π"

**–¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ:**
–ï—Å—Ç—å `/seasons` –∏ `/season/:code`, –Ω–æ UI –º–∏–Ω–∏–º–∞–ª–∏—Å—Ç–∏—á–Ω—ã–π, –Ω–µ—Ç —Ñ–∏–ª—å—Ç—Ä–æ–≤ –ø–æ –∞—Ç—Ä–∏–±—É—Ç–∞–º.

### 3.5. –ú–æ–Ω–µ—Ç–∏–∑–∞—Ü–∏—è ‚ùå

**–¶–µ–ª–µ–≤–æ–µ –¢–ó:**
> "–ú–æ–Ω–µ—Ç–∏–∑–∞—Ü–∏—è:
> - –ü–ª–∞—Ç–Ω–æ–µ –ø–æ–¥–Ω—è—Ç–∏–µ –æ–±—ä—è–≤–ª–µ–Ω–∏—è
> - –í—ã–¥–µ–ª–µ–Ω–Ω–æ–µ –æ–±—ä—è–≤–ª–µ–Ω–∏–µ –≤ –ª–µ–Ω—Ç–µ
> - –ü–æ–¥–ø–∏—Å–∫–∏ (—Ç–∞—Ä–∏—Ñ—ã) –¥–ª—è –ø—Ä–æ–¥–∞–≤—Ü–æ–≤
> - –†–µ–∫–ª–∞–º–Ω—ã–µ –±–ª–æ–∫–∏ –¥–ª—è –ª–æ–∫–∞–ª—å–Ω—ã—Ö –º–∞–≥–∞–∑–∏–Ω–æ–≤"

**–¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ:**
- ‚ùå –ù–µ—Ç —Å–∏—Å—Ç–µ–º—ã –ø–ª–∞—Ç–µ–∂–µ–π
- ‚ùå –ù–µ—Ç –ø–æ–¥–Ω—è—Ç–∏—è –æ–±—ä—è–≤–ª–µ–Ω–∏–π
- ‚ùå –ù–µ—Ç –≤—ã–¥–µ–ª–µ–Ω–∏—è (featured/promoted)
- ‚ùå –ù–µ—Ç —Ç–∞—Ä–∏—Ñ–æ–≤ –¥–ª—è –ø—Ä–æ–¥–∞–≤—Ü–æ–≤
- ‚ùå –ù–µ—Ç —Ä–µ–∫–ª–∞–º–Ω—ã—Ö –±–ª–æ–∫–æ–≤

**–ß—Ç–æ –Ω—É–∂–Ω–æ:**
1. **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –ø–ª–∞—Ç—ë–∂–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã** (Stripe, Telegram Stars, –ÆKassa)
2. **–ü–æ–ª–µ `isPinned`/`isFeatured`** –≤ –º–æ–¥–µ–ª–∏ `Ad`
3. **–°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞** –ø–ª–∞—Ç–Ω—ã—Ö –æ–±—ä—è–≤–ª–µ–Ω–∏–π –≤—ã—à–µ –±–µ—Å–ø–ª–∞—Ç–Ω—ã—Ö
4. **–í–∏–∑—É–∞–ª—å–Ω–æ–µ –≤—ã–¥–µ–ª–µ–Ω–∏–µ** –ø–ª–∞—Ç–Ω—ã—Ö –æ–±—ä—è–≤–ª–µ–Ω–∏–π (badge "‚≠ê –ü—Ä–æ–¥–≤–∏–≥–∞–µ—Ç—Å—è")
5. **–ò—Å—Ç–æ—Ä–∏—è –ø–ª–∞—Ç–µ–∂–µ–π** (–º–æ–¥–µ–ª—å `Payment`)
6. **–¢–∞—Ä–∏—Ñ—ã –¥–ª—è –ø—Ä–æ–¥–∞–≤—Ü–æ–≤** (–º–æ–¥–µ–ª—å `Subscription`)

### 3.6. Docker / Nginx / CI/CD ‚ùå

**–¶–µ–ª–µ–≤–æ–µ –¢–ó:**
> "–ò–Ω—Ñ—Ä–∞:
> - Monorepo (web + miniapp + backend + bot) ‚úÖ
> - Docker / docker-compose ‚ùå
> - Nginx reverse proxy ‚ùå
> - CI/CD —á–µ—Ä–µ–∑ GitHub Actions ‚ùå"

**–¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ:**
- ‚úÖ Monorepo —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∏–¥–µ–∞–ª—å–Ω–∞
- ‚ùå –ù–µ—Ç `Dockerfile`
- ‚ùå –ù–µ—Ç `docker-compose.yml`
- ‚ùå –ù–µ—Ç `nginx.conf`
- ‚ùå –ù–µ—Ç `.github/workflows/`

**–ß—Ç–æ –Ω—É–∂–Ω–æ:**

**`Dockerfile`:**
```dockerfile
FROM node:20-alpine
WORKDIR /app
COPY package*.json ./
RUN npm ci --production
COPY . .
RUN npm run build
EXPOSE 5000
CMD ["npm", "start"]
```

**`docker-compose.yml`:**
```yaml
version: '3.8'
services:
  mongodb:
    image: mongo:7
    volumes:
      - mongo_data:/data/db
    
  app:
    build: .
    ports:
      - "5000:5000"
    environment:
      - MONGODB_URI=mongodb://mongodb:27017/ketmar
      - TELEGRAM_BOT_TOKEN=${TELEGRAM_BOT_TOKEN}
    depends_on:
      - mongodb
    
  nginx:
    image: nginx:alpine
    ports:
      - "80:80"
      - "443:443"
    volumes:
      - ./nginx.conf:/etc/nginx/nginx.conf
    depends_on:
      - app

volumes:
  mongo_data:
```

**`nginx.conf`:**
```nginx
server {
  listen 80;
  server_name yourdomain.com;
  
  location /api {
    proxy_pass http://app:5000;
    proxy_set_header Host $host;
  }
  
  location /miniapp {
    proxy_pass http://app:5000;
  }
  
  location / {
    proxy_pass http://app:5000;
  }
}
```

### 3.7. –ú–µ–ª–∫–∏–µ –Ω–µ–¥–æ—Ä–∞–±–æ—Ç–∫–∏

**1. –ü—Ä–æ—Ñ–∏–ª—å –ø—Ä–æ–¥–∞–≤—Ü–∞ –≤ –æ–±—ä—è–≤–ª–µ–Ω–∏–∏:**
- ‚ùå –ù–µ—Ç —Å—Å—ã–ª–∫–∏ –Ω–∞ –ø—Ä–æ—Ñ–∏–ª—å –ø—Ä–æ–¥–∞–≤—Ü–∞
- ‚ùå –ù–µ—Ç —Ä–µ–π—Ç–∏–Ω–≥–∞ –ø—Ä–æ–¥–∞–≤—Ü–∞
- ‚ùå –ù–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –æ–±—ä—è–≤–ª–µ–Ω–∏–π –ø—Ä–æ–¥–∞–≤—Ü–∞

**2. –ò—Å—Ç–æ—Ä–∏—è –ø—Ä–æ—Å–º–æ—Ç—Ä–æ–≤:**
- ‚ùå –°—á—ë—Ç—á–∏–∫ –ø—Ä–æ—Å–º–æ—Ç—Ä–æ–≤ –µ—Å—Ç—å, –Ω–æ –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –≤ AdCard
- ‚ùå –ù–µ—Ç "–ù–µ–¥–∞–≤–Ω–æ –ø—Ä–æ—Å–º–æ—Ç—Ä–µ–Ω–Ω—ã–µ"

**3. –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –¥–ª—è –ø—Ä–æ–¥–∞–≤—Ü–∞:**
- ‚ùå –ù–µ—Ç –∞–Ω–∞–ª–∏—Ç–∏–∫–∏ (–ø—Ä–æ—Å–º–æ—Ç—Ä—ã, –∑–∞–ø—Ä–æ—Å—ã, –∫–æ–Ω–≤–µ—Ä—Å–∏—è)
- ‚ùå –ù–µ—Ç –≥—Ä–∞—Ñ–∏–∫–æ–≤ –≤ –ª–∏—á–Ω–æ–º –∫–∞–±–∏–Ω–µ—Ç–µ

**4. –ß–∞—Ç –º–µ–∂–¥—É –ø—Ä–æ–¥–∞–≤—Ü–æ–º –∏ –ø–æ–∫—É–ø–∞—Ç–µ–ª–µ–º:**
- ‚úÖ –ï—Å—Ç—å `ChatPage` –∏ `ConversationsPage`
- ‚ö†Ô∏è –ù—É–∂–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞: —Ä–∞–±–æ—Ç–∞–µ—Ç –ª–∏ WebSocket/polling?

---

## 4. –ß–¢–û –°–î–ï–õ–ê–ù–û, –ù–û –ù–ï –°–û–í–ü–ê–î–ê–ï–¢ –° –í–ò–î–ï–ù–ò–ï–ú

### 4.1. –§–æ–∫—É—Å –Ω–∞ "–∫–∞—Ç–µ–≥–æ—Ä–∏–∏" –≤–º–µ—Å—Ç–æ "–≥–µ–æ–ª–æ–∫–∞—Ü–∏–∏"

**–ù–∞—à–µ –≤–∏–¥–µ–Ω–∏–µ:**
> "–ì–ª–∞–≤–Ω–∞—è —Ü–µ–ª—å: –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å, –∫—Ç–æ –∏ —á—Ç–æ –ø—Ä–æ–¥–∞—ë—Ç **—Ä—è–¥–æ–º** –≤ —Ä–∞–¥–∏—É—Å–µ N –º–µ—Ç—Ä–æ–≤."

**–¢–µ–∫—É—â–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è:**
HomePage —Ñ–æ–∫—É—Å–∏—Ä—É–µ—Ç—Å—è –Ω–∞ **–∫–∞—Ç–µ–≥–æ—Ä–∏—è—Ö –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ö**, –≥–µ–æ–ª–æ–∫–∞—Ü–∏—è –ù–ï –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç.

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:**
–°–¥–µ–ª–∞—Ç—å **–≥–µ–æ–ø–æ–∏—Å–∫ –≥–ª–∞–≤–Ω—ã–º —Ñ–∏–ª—å—Ç—Ä–æ–º**, –∞ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ - –≤—Ç–æ—Ä–∏—á–Ω—ã–º.

### 4.2. –ò–∑–±—ã—Ç–æ—á–Ω–æ–µ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä

**–ü—Ä–æ–±–ª–µ–º–∞:**
–í –ø—Ä–æ–µ–∫—Ç–µ –µ—Å—Ç—å **–¥–≤–µ** React –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:
1. `miniapp/` - Telegram MiniApp (–æ—Å–Ω–æ–≤–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ)
2. `client/` - Web Admin Panel

**–î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ:**
- –î–≤–µ –æ—Ç–¥–µ–ª—å–Ω—ã–µ Vite –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
- –î–≤–µ –∫–æ–ø–∏–∏ `@radix-ui` –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- –î–≤–∞ –Ω–∞–±–æ—Ä–∞ TypeScript —Ç–∏–ø–æ–≤ (—Ö–æ—Ç—è –æ–Ω–∏ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –æ–±—â–∏–º–∏)

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:**
–°–æ–∑–¥–∞—Ç—å `shared/` –ø–∞–ø–∫—É:
```
shared/
  types/        # –û–±—â–∏–µ TypeScript —Ç–∏–ø—ã
  components/   # –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
  utils/        # –£—Ç–∏–ª–∏—Ç—ã (haversine, formatters)
  api/          # API –∫–ª–∏–µ–Ω—Ç—ã
```

### 4.3. –°–ª–æ–∂–Ω–æ—Å—Ç—å TF-IDF matching

**–§–∞–π–ª:** `api/services/categoryMatching.js`

**–ü—Ä–æ–±–ª–µ–º–∞:**
–î–ª—è "—É–º–Ω—ã—Ö –ø–æ–¥—Å–∫–∞–∑–æ–∫ –∫–∞—Ç–µ–≥–æ—Ä–∏–π" —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω **TF-IDF scoring** —Å –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ–º –∏ –≤–µ—Å–∞–º–∏.

**–í–æ–ø—Ä–æ—Å:**
–ù—É–∂–Ω–∞ –ª–∏ —Ç–∞–∫–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å –Ω–∞ **MVP —ç—Ç–∞–ø–µ**?

**–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞:**
–ü—Ä–æ—Å—Ç–æ–π –ø–æ–∏—Å–∫ –ø–æ `keywordTokens` —Å `$regex` –∏–ª–∏ Elasticsearch.

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:**
–û—Å—Ç–∞–≤–∏—Ç—å TF-IDF, –Ω–æ –¥–æ–±–∞–≤–∏—Ç—å **fallback** –Ω–∞ –ø—Ä–æ—Å—Ç–æ–π –ø–æ–∏—Å–∫, –µ—Å–ª–∏ TF-IDF –Ω–µ –¥–∞–ª —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤.

---

## 5. –†–ï–ö–û–ú–ï–ù–î–û–í–ê–ù–ù–´–ô –ü–õ–ê–ù –î–û–†–ê–ë–û–¢–û–ö

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç HIGH (–ö—Ä–∏—Ç–∏—á–Ω–æ –¥–ª—è —Ü–µ–ª–µ–≤–æ–≥–æ –≤–∏–¥–µ–Ω–∏—è)

#### LCL-1: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≥–µ–æ–ø–æ–∏—Å–∫–∞ –≤ UI
**–û–ø–∏—Å–∞–Ω–∏–µ:**
–î–æ–±–∞–≤–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä —Ä–∞–¥–∏—É—Å–∞, –∫–Ω–æ–ø–∫—É "–†—è–¥–æ–º —Å–æ –º–Ω–æ–π", –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏—è –¥–æ –ø—Ä–æ–¥–∞–≤—Ü–∞.

**–ó–∞–¥–∞—á–∏:**
1. –°–æ–∑–¥–∞—Ç—å `useGeoLocation()` hook
2. –î–æ–±–∞–≤–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä —Ä–∞–¥–∏—É—Å–∞ –≤ `FilterPanel`
3. –ü–µ—Ä–µ–¥–∞–≤–∞—Ç—å `lat`, `lng`, `radiusKm` –≤ API
4. –û—Ç–æ–±—Ä–∞–∂–∞—Ç—å `distanceKm` –≤ `AdCard`
5. –î–æ–±–∞–≤–∏—Ç—å —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫—É "–ø–æ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏—é"

**–°–ª–æ–∂–Ω–æ—Å—Ç—å:** L (Large)  
**–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** –ù–µ—Ç  
**–§–∞–π–ª—ã:**
- `miniapp/src/hooks/useGeoLocation.ts` (—Å–æ–∑–¥–∞—Ç—å)
- `miniapp/src/components/FilterPanel.tsx` (—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å)
- `miniapp/src/pages/HomePage.tsx` (—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å)
- `miniapp/src/components/AdCard.tsx` (—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å)

---

#### LCL-2: –ö–Ω–æ–ø–∫–∞ "–†—è–¥–æ–º —Å–æ –º–Ω–æ–π"
**–û–ø–∏—Å–∞–Ω–∏–µ:**
–ì–ª–∞–≤–Ω–∞—è –∫–Ω–æ–ø–∫–∞ –Ω–∞ HomePage –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –≥–µ–æ–ø–æ–∏—Å–∫–∞.

**–ó–∞–¥–∞—á–∏:**
1. –î–æ–±–∞–≤–∏—Ç—å –±–æ–ª—å—à—É—é –∫–Ω–æ–ø–∫—É "üìç –†—è–¥–æ–º —Å–æ –º–Ω–æ–π" –Ω–∞ HomePage
2. –ü—Ä–∏ –∫–ª–∏–∫–µ –∑–∞–ø—Ä–æ—Å–∏—Ç—å –≥–µ–æ–ª–æ–∫–∞—Ü–∏—é (Telegram WebApp –∏–ª–∏ Browser API)
3. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏–º–µ–Ω–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä —Ä–∞–¥–∏—É—Å–∞ 3 –∫–º
4. –ü–æ–∫–∞–∑–∞—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ "–ù–∞–π–¥–µ–Ω–æ 42 –æ–±—ä—è–≤–ª–µ–Ω–∏—è –≤ —Ä–∞–¥–∏—É—Å–µ 3 –∫–º"

**–°–ª–æ–∂–Ω–æ—Å—Ç—å:** M (Medium)  
**–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** LCL-1  
**–§–∞–π–ª—ã:**
- `miniapp/src/pages/HomePage.tsx`

---

#### LCL-3: –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏—è –≤ AdCard
**–û–ø–∏—Å–∞–Ω–∏–µ:**
–ü–æ–∫–∞–∑—ã–≤–∞—Ç—å "850 –º –æ—Ç –≤–∞—Å" –≤ –∫–∞–∂–¥–æ–º –æ–±—ä—è–≤–ª–µ–Ω–∏–∏.

**–ó–∞–¥–∞—á–∏:**
1. –ü–æ–ª—É—á–∞—Ç—å `distanceKm` –∏–∑ API
2. –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞—Ç—å —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ (< 1 –∫–º ‚Üí –º–µ—Ç—Ä—ã, >= 1 –∫–º ‚Üí –∫–∏–ª–æ–º–µ—Ç—Ä—ã)
3. –î–æ–±–∞–≤–∏—Ç—å –∏–∫–æ–Ω–∫—É üìç –∏ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ –≤ AdCard
4. –¶–≤–µ—Ç–æ–≤–æ–µ –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ (< 500–º - –∑–µ–ª—ë–Ω—ã–π, < 3–∫–º - –∂—ë–ª—Ç—ã–π, > 3–∫–º - —Å–µ—Ä—ã–π)

**–°–ª–æ–∂–Ω–æ—Å—Ç—å:** S (Small)  
**–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** LCL-1  
**–§–∞–π–ª—ã:**
- `miniapp/src/components/AdCard.tsx`
- `miniapp/src/utils/formatters.ts` (—Å–æ–∑–¥–∞—Ç—å)

---

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç MEDIUM (–í–∞–∂–Ω–æ –¥–ª—è –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–æ—Å—Ç–∏)

#### LCL-4: –°–µ–∑–æ–Ω–Ω—ã–µ –≤–∏—Ç—Ä–∏–Ω—ã (–¥–æ—Ä–∞–±–æ—Ç–∫–∞)
**–û–ø–∏—Å–∞–Ω–∏–µ:**
–ü–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã —Å–µ–∑–æ–Ω–æ–≤ —Å —Ñ–∏–ª—å—Ç—Ä–∞–º–∏ –ø–æ –∞—Ç—Ä–∏–±—É—Ç–∞–º.

**–ó–∞–¥–∞—á–∏:**
1. –°–æ–∑–¥–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω—ã–µ –¥–∏–∑–∞–π–Ω—ã –¥–ª—è —Å–µ–∑–æ–Ω–æ–≤ (—Ç—é–ª—å–ø–∞–Ω—ã, —è–≥–æ–¥—ã, —Ä–µ–º–µ—Å–ª–µ–Ω–Ω–∏–∫–∏)
2. –î–æ–±–∞–≤–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä—ã –ø–æ `attributes` (—Ü–≤–µ—Ç, —Ç–∏–ø, —Å–æ—Ä—Ç)
3. –í–∏–∑—É–∞–ª—å–Ω–æ –≤—ã–¥–µ–ª–∏—Ç—å –ø–ª–∞—Ç–Ω—ã–µ –æ–±—ä—è–≤–ª–µ–Ω–∏—è –≤ —Å–µ–∑–æ–Ω–∞—Ö
4. –î–æ–±–∞–≤–∏—Ç—å –±–∞–Ω–Ω–µ—Ä—ã/–æ–±–ª–æ–∂–∫–∏ –¥–ª—è —Å–µ–∑–æ–Ω–æ–≤

**–°–ª–æ–∂–Ω–æ—Å—Ç—å:** L (Large)  
**–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** –ù–µ—Ç  
**–§–∞–π–ª—ã:**
- `miniapp/src/pages/SeasonPage.tsx` (–¥–æ—Ä–∞–±–æ—Ç–∞—Ç—å)
- `miniapp/src/components/SeasonFilters.tsx` (—Å–æ–∑–¥–∞—Ç—å)

---

#### LCL-5: –ú–æ–Ω–µ—Ç–∏–∑–∞—Ü–∏—è - –ü–æ–¥–Ω—è—Ç–∏–µ –æ–±—ä—è–≤–ª–µ–Ω–∏–π
**–û–ø–∏—Å–∞–Ω–∏–µ:**
–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø–ª–∞—Ç–Ω–æ–≥–æ –ø–æ–¥–Ω—è—Ç–∏—è –æ–±—ä—è–≤–ª–µ–Ω–∏—è –≤ —Ç–æ–ø.

**–ó–∞–¥–∞—á–∏:**
1. –î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª–µ `isPinned`, `pinnedUntil` –≤ –º–æ–¥–µ–ª—å `Ad`
2. API endpoint `POST /api/ads/:id/pin` (—Å –æ–ø–ª–∞—Ç–æ–π)
3. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –ø–ª–∞—Ç—ë–∂–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã (Stripe –∏–ª–∏ Telegram Stars)
4. –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞: pinned –æ–±—ä—è–≤–ª–µ–Ω–∏—è –≤—ã—à–µ –æ–±—ã—á–Ω—ã—Ö
5. –í–∏–∑—É–∞–ª—å–Ω—ã–π badge "‚≠ê –ü—Ä–æ–¥–≤–∏–≥–∞–µ—Ç—Å—è"

**–°–ª–æ–∂–Ω–æ—Å—Ç—å:** XL (Extra Large)  
**–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** –ù–µ—Ç (–º–æ–∂–Ω–æ –Ω–∞—á–∞—Ç—å –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ)  
**–§–∞–π–ª—ã:**
- `models/Ad.js` (—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å)
- `api/routes/payments.js` (—Å–æ–∑–¥–∞—Ç—å)
- `miniapp/src/pages/PromoteAdPage.tsx` (—Å–æ–∑–¥–∞—Ç—å)

---

#### LCL-6: –ö–∞—Ä—Ç–∞ –æ–±—ä—è–≤–ª–µ–Ω–∏–π
**–û–ø–∏—Å–∞–Ω–∏–µ:**
–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –∫–∞—Ä—Ç–∞ —Å —Ç–æ—á–∫–∞–º–∏ –æ–±—ä—è–≤–ª–µ–Ω–∏–π (Leaflet).

**–ó–∞–¥–∞—á–∏:**
1. –î–æ–±–∞–≤–∏—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É `/map`
2. –ü–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ –æ–±—ä—è–≤–ª–µ–Ω–∏—è –Ω–∞ –∫–∞—Ä—Ç–µ (Leaflet markers)
3. –ö–ª–∏–∫–∞–±–µ–ª—å–Ω—ã–µ –º–∞—Ä–∫–µ—Ä—ã (–æ—Ç–∫—Ä—ã–≤–∞—é—Ç AdCard popup)
4. –§–∏–ª—å—Ç—Ä—ã —Ä–∞–±–æ—Ç–∞—é—Ç –Ω–∞ –∫–∞—Ä—Ç–µ
5. Cluster –¥–ª—è –±–æ–ª—å—à–æ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Ç–æ—á–µ–∫

**–°–ª–æ–∂–Ω–æ—Å—Ç—å:** L (Large)  
**–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** LCL-1  
**–§–∞–π–ª—ã:**
- `miniapp/src/pages/MapPage.tsx` (—Å–æ–∑–¥–∞—Ç—å)
- `react-leaflet` —É–∂–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω ‚úÖ

---

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç LOW (–£–ª—É—á—à–µ–Ω–∏—è UX)

#### LCL-7: Docker / Docker Compose
**–û–ø–∏—Å–∞–Ω–∏–µ:**
–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è –¥–ª—è –ø—Ä–æ—Å—Ç–æ–≥–æ –¥–µ–ø–ª–æ—è.

**–ó–∞–¥–∞—á–∏:**
1. –°–æ–∑–¥–∞—Ç—å `Dockerfile`
2. –°–æ–∑–¥–∞—Ç—å `docker-compose.yml` (app + mongodb + nginx)
3. –°–æ–∑–¥–∞—Ç—å `nginx.conf`
4. –û–±–Ω–æ–≤–∏—Ç—å `README.md` —Å –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º–∏

**–°–ª–æ–∂–Ω–æ—Å—Ç—å:** M (Medium)  
**–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** –ù–µ—Ç  
**–§–∞–π–ª—ã:**
- `Dockerfile` (—Å–æ–∑–¥–∞—Ç—å)
- `docker-compose.yml` (—Å–æ–∑–¥–∞—Ç—å)
- `nginx.conf` (—Å–æ–∑–¥–∞—Ç—å)

---

#### LCL-8: CI/CD Pipeline
**–û–ø–∏—Å–∞–Ω–∏–µ:**
–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –¥–µ–ø–ª–æ–π.

**–ó–∞–¥–∞—á–∏:**
1. –°–æ–∑–¥–∞—Ç—å `.github/workflows/ci.yml`
2. –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤ –Ω–∞ –∫–∞–∂–¥—ã–π PR
3. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –¥–µ–ø–ª–æ–π –Ω–∞ Replit –ø—Ä–∏ push –≤ `main`

**–°–ª–æ–∂–Ω–æ—Å—Ç—å:** M (Medium)  
**–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** LCL-7 (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)  
**–§–∞–π–ª—ã:**
- `.github/workflows/ci.yml` (—Å–æ–∑–¥–∞—Ç—å)

---

#### LCL-9: –ü—Ä–æ—Ñ–∏–ª—å –ø—Ä–æ–¥–∞–≤—Ü–∞
**–û–ø–∏—Å–∞–Ω–∏–µ:**
–°—Ç—Ä–∞–Ω–∏—Ü–∞ –ø—Ä–æ–¥–∞–≤—Ü–∞ —Å —Ä–µ–π—Ç–∏–Ω–≥–æ–º –∏ –µ–≥–æ –æ–±—ä—è–≤–ª–µ–Ω–∏—è–º–∏.

**–ó–∞–¥–∞—á–∏:**
1. –°–æ–∑–¥–∞—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É `/seller/:telegramId`
2. –ü–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ –æ–±—ä—è–≤–ª–µ–Ω–∏—è –ø—Ä–æ–¥–∞–≤—Ü–∞
3. –†–µ–π—Ç–∏–Ω–≥ (–∑–≤—ë–∑–¥—ã)
4. –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∞–∫—Ç–∏–≤–Ω—ã—Ö –æ–±—ä—è–≤–ª–µ–Ω–∏–π
5. –û—Ç–∑—ã–≤—ã (–µ—Å–ª–∏ –±—É–¥–µ—Ç —Ñ—É–Ω–∫—Ü–∏—è)

**–°–ª–æ–∂–Ω–æ—Å—Ç—å:** M (Medium)  
**–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** –ù–µ—Ç  
**–§–∞–π–ª—ã:**
- `miniapp/src/pages/SellerPage.tsx` (—Å–æ–∑–¥–∞—Ç—å)
- `api/routes/sellers.js` (—Å–æ–∑–¥–∞—Ç—å)

---

#### LCL-10: –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –¥–ª—è –ø—Ä–æ–¥–∞–≤—Ü–∞
**–û–ø–∏—Å–∞–Ω–∏–µ:**
–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø—Ä–æ—Å–º–æ—Ç—Ä–æ–≤, –∫–ª–∏–∫–æ–≤, –∑–∞–ø—Ä–æ—Å–æ–≤.

**–ó–∞–¥–∞—á–∏:**
1. –î–æ–±–∞–≤–∏—Ç—å —Å—á—ë—Ç—á–∏–∫–∏ –≤ –º–æ–¥–µ–ª—å `Ad` (views, clicks, messages)
2. API endpoint `/api/ads/:id/stats`
3. Dashboard –¥–ª—è –ø—Ä–æ–¥–∞–≤—Ü–∞ —Å –≥—Ä–∞—Ñ–∏–∫–∞–º–∏ (Recharts)
4. –≠–∫—Å–ø–æ—Ä—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –≤ CSV

**–°–ª–æ–∂–Ω–æ—Å—Ç—å:** L (Large)  
**–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** –ù–µ—Ç  
**–§–∞–π–ª—ã:**
- `models/Ad.js` (—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å)
- `api/routes/stats.js` (—Å–æ–∑–¥–∞—Ç—å)
- `miniapp/src/pages/AdStatsPage.tsx` (—Å–æ–∑–¥–∞—Ç—å)

---

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç INFRA (–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π –¥–æ–ª–≥)

#### LCL-11: Shared types –∏ utils
**–û–ø–∏—Å–∞–Ω–∏–µ:**
–ü–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å –æ–±—â–∏–µ —Ç–∏–ø—ã –∏ —É—Ç–∏–ª–∏—Ç—ã –≤ `shared/`.

**–ó–∞–¥–∞—á–∏:**
1. –°–æ–∑–¥–∞—Ç—å `shared/types/` –¥–ª—è TypeScript —Ç–∏–ø–æ–≤
2. –°–æ–∑–¥–∞—Ç—å `shared/utils/` –¥–ª—è —É—Ç–∏–ª–∏—Ç (haversine, formatters)
3. –û–±–Ω–æ–≤–∏—Ç—å –∏–º–ø–æ—Ä—Ç—ã –≤ `miniapp/` –∏ `client/`

**–°–ª–æ–∂–Ω–æ—Å—Ç—å:** S (Small)  
**–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** –ù–µ—Ç  
**–§–∞–π–ª—ã:**
- `shared/types/index.ts` (—Å–æ–∑–¥–∞—Ç—å)
- `shared/utils/haversine.ts` (–ø–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å)

---

#### LCL-12: TypeScript –≤ backend
**–û–ø–∏—Å–∞–Ω–∏–µ:**
–ü–µ—Ä–µ–≤–µ—Å—Ç–∏ backend –Ω–∞ TypeScript –¥–ª—è —Ç–∏–ø–æ–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏.

**–ó–∞–¥–∞—á–∏:**
1. –°–æ–∑–¥–∞—Ç—å `api/server.ts` –≤–º–µ—Å—Ç–æ `api/server.js`
2. –î–æ–±–∞–≤–∏—Ç—å —Ç–∏–ø—ã –¥–ª—è Express middleware
3. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å `tsconfig.json` –¥–ª—è backend

**–°–ª–æ–∂–Ω–æ—Å—Ç—å:** L (Large)  
**–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** –ù–µ—Ç  
**–§–∞–π–ª—ã:**
- –í—Å–µ —Ñ–∞–π–ª—ã –≤ `api/`, `bot/`, `models/`

---

## 6. –¢–ï–•–ù–ò–ß–ï–°–ö–ò–ï –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–ò

### 6.1. –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

**‚úÖ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å monorepo:**
–¢–µ–∫—É—â–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∏–¥–µ–∞–ª—å–Ω–∞. –ù–µ —Ä–∞–∑–¥–µ–ª—è—Ç—å –Ω–∞ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å—ã.

**‚úÖ Shared types:**
–°–æ–∑–¥–∞—Ç—å `shared/types/` –¥–ª—è –∏–∑–±–µ–∂–∞–Ω–∏—è –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è.

**‚ö†Ô∏è Docker:**
–î–æ–±–∞–≤–∏—Ç—å –¥–ª—è production –¥–µ–ø–ª–æ—è, –Ω–æ –Ω–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –¥–ª—è MVP.

### 6.2. –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

**‚úÖ MongoDB + 2dsphere:**
–ò–¥–µ–∞–ª—å–Ω—ã–π –≤—ã–±–æ—Ä –¥–ª—è –≥–µ–æ–ø–æ–∏—Å–∫–∞. –ù–µ –º–µ–Ω—è—Ç—å!

**‚úÖ –ò–Ω–¥–µ–∫—Å—ã:**
–î–æ–±–∞–≤–∏—Ç—å –∫–æ–º–ø–æ–∑–∏—Ç–Ω—ã–µ –∏–Ω–¥–µ–∫—Å—ã –¥–ª—è —á–∞—Å—Ç—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤:
```javascript
adSchema.index({ status: 1, moderationStatus: 1, createdAt: -1 });
adSchema.index({ categoryId: 1, status: 1 });
adSchema.index({ sellerTelegramId: 1, status: 1 });
```

**‚ö†Ô∏è –î–µ–Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è:**
–î–ª—è —Å–∫–æ—Ä–æ—Å—Ç–∏ –º–æ–∂–Ω–æ –¥—É–±–ª–∏—Ä–æ–≤–∞—Ç—å `sellerName` –≤ –æ–±—ä—è–≤–ª–µ–Ω–∏–∏ (–≤–º–µ—Å—Ç–æ join).

### 6.3. –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

**‚úÖ Telegram initData validation:**
```javascript
// –í–ê–ñ–ù–û: –í–∫–ª—é—á–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É –ø–æ–¥–ø–∏—Å–∏ initData!
const dataCheckString = Object.keys(data)
  .filter(key => key !== 'hash')
  .sort()
  .map(key => `${key}=${data[key]}`)
  .join('\n');

const secretKey = crypto.createHmac('sha256', 'WebAppData')
  .update(BOT_TOKEN)
  .digest();

const hash = crypto.createHmac('sha256', secretKey)
  .update(dataCheckString)
  .digest('hex');

if (hash !== data.hash) {
  throw new Error('Invalid initData signature');
}
```

**‚úÖ JWT —Ç–æ–∫–µ–Ω—ã:**
–¢–µ–∫—É—â–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞. –•—Ä–∞–Ω–∏—Ç—å `JWT_SECRET` –≤ `.env`.

**‚ö†Ô∏è Rate limiting:**
–î–æ–±–∞–≤–∏—Ç—å –¥–ª—è –∑–∞—â–∏—Ç—ã –æ—Ç —Å–ø–∞–º–∞:
```javascript
import rateLimit from 'express-rate-limit';

const limiter = rateLimit({
  windowMs: 15 * 60 * 1000, // 15 –º–∏–Ω—É—Ç
  max: 100 // 100 –∑–∞–ø—Ä–æ—Å–æ–≤
});

app.use('/api/', limiter);
```

### 6.4. –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –≥–µ–æ–ø–æ–∏—Å–∫–∞

**‚úÖ 2dsphere –∏–Ω–¥–µ–∫—Å—ã:**
–£–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã. –û—Ç–ª–∏—á–Ω–æ!

**‚ö†Ô∏è Pagination –¥–ª—è –≥–µ–æ–ø–æ–∏—Å–∫–∞:**
–ü—Ä–∏ –±–æ–ª—å—à–æ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ –æ–±—ä—è–≤–ª–µ–Ω–∏–π –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å cursor-based pagination:
```javascript
// –í–º–µ—Å—Ç–æ offset/limit
const ads = await Ad.find({
  'location.geo': { $nearSphere: { ... } },
  _id: { $gt: cursor } // cursor = lastSeenId
}).limit(20);
```

**‚ö†Ô∏è –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤:**
–ö–µ—à–∏—Ä–æ–≤–∞—Ç—å –≥–µ–æ–ø–æ–∏—Å–∫ –Ω–∞ 1-5 –º–∏–Ω—É—Ç (Redis):
```javascript
const cacheKey = `geo:${lat}:${lng}:${radiusKm}`;
const cached = await redis.get(cacheKey);
if (cached) return JSON.parse(cached);

const results = await Ad.find({ /* geo query */ });
await redis.setex(cacheKey, 300, JSON.stringify(results)); // 5 –º–∏–Ω—É—Ç
```

### 6.5. –ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å

**–¢–µ–∫—É—â–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞:**
–î–æ **10,000 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π** –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ - –º–æ–Ω–æ–ª–∏—Ç —Å–ø—Ä–∞–≤–∏—Ç—Å—è.

**–ï—Å–ª–∏ > 10,000:**
1. –î–æ–±–∞–≤–∏—Ç—å Redis –¥–ª—è –∫–µ—à–∞
2. –†–∞–∑–¥–µ–ª–∏—Ç—å –Ω–∞ —Å–µ—Ä–≤–∏—Å—ã:
   - API Gateway (Express)
   - Ad Service (–≥–µ–æ–ø–æ–∏—Å–∫)
   - User Service (–∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è)
   - Bot Service (Telegraf)
3. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å MongoDB sharding –ø–æ `cityCode`

**–ù–æ —Å–µ–π—á–∞—Å:**
–¢–µ–∫—É—â–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–∞ –¥–ª—è MVP –∏ —Ä–∞–Ω–Ω–µ–≥–æ —Ä–æ—Å—Ç–∞.

---

## 7. –ò–¢–û–ì–û–í–ê–Ø ROADMAP

### –§–∞–∑–∞ 1: Geo-MVP (2-3 –Ω–µ–¥–µ–ª–∏)
**–¶–µ–ª—å:** –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –≥–ª–∞–≤–Ω—É—é —Ñ–∏—á—É - –≥–µ–æ–ø–æ–∏—Å–∫

**–ó–∞–¥–∞—á–∏:**
- ‚úÖ LCL-1: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≥–µ–æ–ø–æ–∏—Å–∫–∞ –≤ UI
- ‚úÖ LCL-2: –ö–Ω–æ–ø–∫–∞ "–†—è–¥–æ–º —Å–æ –º–Ω–æ–π"
- ‚úÖ LCL-3: –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏—è –≤ AdCard

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –º–æ–≥—É—Ç –Ω–∞—Ö–æ–¥–∏—Ç—å –æ–±—ä—è–≤–ª–µ–Ω–∏—è –≤ —Ä–∞–¥–∏—É—Å–µ 100–º-10–∫–º.

---

### –§–∞–∑–∞ 2: UX Enhancement (2 –Ω–µ–¥–µ–ª–∏)
**–¶–µ–ª—å:** –£–ª—É—á—à–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –æ–ø—ã—Ç

**–ó–∞–¥–∞—á–∏:**
- ‚úÖ LCL-6: –ö–∞—Ä—Ç–∞ –æ–±—ä—è–≤–ª–µ–Ω–∏–π
- ‚úÖ LCL-9: –ü—Ä–æ—Ñ–∏–ª—å –ø—Ä–æ–¥–∞–≤—Ü–∞
- ‚úÖ LCL-4: –î–æ—Ä–∞–±–æ—Ç–∫–∞ —Å–µ–∑–æ–Ω–Ω—ã—Ö –≤–∏—Ç—Ä–∏–Ω

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
–ö–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–æ–µ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–æ –ø–µ—Ä–µ–¥ Kufar.

---

### –§–∞–∑–∞ 3: –ú–æ–Ω–µ—Ç–∏–∑–∞—Ü–∏—è (3-4 –Ω–µ–¥–µ–ª–∏)
**–¶–µ–ª—å:** –ù–∞—á–∞—Ç—å –∑–∞—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å

**–ó–∞–¥–∞—á–∏:**
- ‚úÖ LCL-5: –ü–æ–¥–Ω—è—Ç–∏–µ –æ–±—ä—è–≤–ª–µ–Ω–∏–π
- ‚úÖ –ü–ª–∞—Ç–Ω—ã–µ —Ç–∞—Ä–∏—Ñ—ã –¥–ª—è –ø—Ä–æ–¥–∞–≤—Ü–æ–≤
- ‚úÖ –†–µ–∫–ª–∞–º–Ω—ã–µ –±–ª–æ–∫–∏

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
–í—ã—Ä—É—á–∫–∞!

---

### –§–∞–∑–∞ 4: Production-Ready (1-2 –Ω–µ–¥–µ–ª–∏)
**–¶–µ–ª—å:** –ü–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å –∫ –±–æ–ª—å—à–æ–º—É —Ç—Ä–∞—Ñ–∏–∫—É

**–ó–∞–¥–∞—á–∏:**
- ‚úÖ LCL-7: Docker / Docker Compose
- ‚úÖ LCL-8: CI/CD Pipeline
- ‚úÖ LCL-11: Shared types
- ‚úÖ Monitoring –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
–°—Ç–∞–±–∏–ª—å–Ω—ã–π production-ready –ø—Ä–æ–¥—É–∫—Ç.

---

## 8. –ó–ê–ö–õ–Æ–ß–ï–ù–ò–ï

### –°–∏–ª—å–Ω—ã–µ —Å—Ç–æ—Ä–æ–Ω—ã –ø—Ä–æ–µ–∫—Ç–∞:
1. ‚úÖ **–ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞** - —á–∏—Å—Ç—ã–π –º–æ–Ω–æ—Ä–µ–ø–æ, –º–æ–¥—É–ª—å–Ω–æ—Å—Ç—å
2. ‚úÖ **–ì–æ—Ç–æ–≤–∞—è –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –≥–µ–æ–ø–æ–∏—Å–∫–∞** - 2dsphere, API endpoints
3. ‚úÖ **–ü–æ–ª–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è Telegram** - MiniApp + –±–æ—Ç + deep linking
4. ‚úÖ **Production-ready frontend** - code splitting, prefetch, Web Vitals
5. ‚úÖ **–ê–¥–º–∏–Ω–∫–∞ –∏ –º–æ–¥–µ—Ä–∞—Ü–∏—è** - –ø–æ–ª–Ω–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è

### –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–µ–ª—ã:
1. ‚ùå **–ì–µ–æ–ø–æ–∏—Å–∫ –ù–ï –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ UX** - –≥–ª–∞–≤–Ω–∞—è —Ñ–∏—á–∞ –Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞
2. ‚ùå **–ù–µ—Ç —Ñ–∏–ª—å—Ç—Ä–∞ —Ä–∞–¥–∏—É—Å–∞** - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –Ω–µ –≤–∏–¥—è—Ç "—Ä—è–¥–æ–º —Å–æ –º–Ω–æ–π"
3. ‚ùå **–ù–µ—Ç –º–æ–Ω–µ—Ç–∏–∑–∞—Ü–∏–∏** - –Ω–µ—Ç –∏—Å—Ç–æ—á–Ω–∏–∫–∞ –¥–æ—Ö–æ–¥–∞
4. ‚ùå **–ù–µ—Ç Docker/CI/CD** - —Å–ª–æ–∂–Ω—ã–π –¥–µ–ø–ª–æ–π

### –ì–ª–∞–≤–Ω–∞—è —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:
**–°—Ñ–æ–∫—É—Å–∏—Ä–æ–≤–∞—Ç—å—Å—è –Ω–∞ –§–∞–∑–µ 1 (Geo-MVP):**
–î–æ–±–∞–≤–∏—Ç—å –≥–µ–æ–ø–æ–∏—Å–∫ –≤ UI - —ç—Ç–æ **–≥–ª–∞–≤–Ω–æ–µ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–æ–µ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–æ** –ø–µ—Ä–µ–¥ Kufar –∏ –¥—Ä—É–≥–∏–º–∏ –º–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å–∞–º–∏.

**–ë–µ–∑ —ç—Ç–æ–≥–æ:**
KETMAR Market = –æ–±—ã—á–Ω—ã–π –º–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å, –∫–∞–∫ –≤—Å–µ.

**–° —ç—Ç–∏–º:**
KETMAR Market = —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –≥–µ–æ-–º–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å –ª–æ–∫–∞–ª—å–Ω—ã—Ö –ø—Ä–æ–¥–∞–≤—Ü–æ–≤.

---

**–û—Ü–µ–Ω–∫–∞ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ –∫ –∑–∞–ø—É—Å–∫—É:**
- **–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏:** 90% –≥–æ—Ç–æ–≤
- **–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ (–ø–æ –¢–ó LocalHub):** 60% –≥–æ—Ç–æ–≤
- **Geo-—Ñ–æ–∫—É—Å:** 20% –≥–æ—Ç–æ–≤ ‚ö†Ô∏è

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:**
–ó–∞–ø—É—Å–∫ –≤–æ–∑–º–æ–∂–µ–Ω **–ø–æ—Å–ª–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –§–∞–∑—ã 1 (Geo-MVP)** - **2-3 –Ω–µ–¥–µ–ª–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏**.
